(()=>{"use strict";var e;!function(e){e[e.FallingTickProcessed=0]="FallingTickProcessed",e[e.GameOver=1]="GameOver",e[e.FiguresMoved=2]="FiguresMoved",e[e.LevelUp=3]="LevelUp"}(e||(e={}));var t,n=function(){function t(e,t,n,i){this.gameData=e,this.transferredToMatrixFigures=t,this.squashedLines=n,this.droppedLines=i}return t.prototype.getEventType=function(){return e.FallingTickProcessed},t}(),i=function(){function t(e){this.gameData=e}return t.prototype.getEventType=function(){return e.GameOver},t}(),r=function(){function t(e){this.gameData=e}return t.prototype.getEventType=function(){return e.FiguresMoved},t}(),o=function(){function e(){this.handlers=new Map}return e.prototype.on=function(e,t,n){void 0===n&&(n=!0);var i=this.handlers.get(e)||[];n&&i.some((function(e){return e===t}))||(i.push(t),this.handlers.set(e,i))},e.prototype.off=function(e,t){var n=this.handlers.get(e)||[],i=n.indexOf(t);i>0&&n.splice(i,1),this.handlers.set(e,n)},e.prototype.fire=function(e){(this.handlers.get(e.getEventType())||[]).forEach((function(t){t(e)}))},e}();!function(e){e[e.InitGame=0]="InitGame",e[e.ResumeGame=1]="ResumeGame",e[e.PauseGame=2]="PauseGame",e[e.FiguresFallTick=3]="FiguresFallTick",e[e.GameOver=4]="GameOver",e[e.Render=5]="Render",e[e.MoveLeft=6]="MoveLeft",e[e.MoveRight=7]="MoveRight",e[e.TurnClockwise=8]="TurnClockwise",e[e.MoveDown=9]="MoveDown",e[e.FiguresFallDown=10]="FiguresFallDown"}(t||(t={}));var a,s,u=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.InitGame},e}(),l=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.ResumeGame},e}(),c=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.PauseGame},e}(),m=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.FiguresFallTick},e}(),h=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.GameOver},e}(),d=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.Render},e}(),p=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.MoveLeft},e}(),f=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.MoveRight},e}(),g=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.TurnClockwise},e}(),v=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.MoveDown},e}(),y=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return t.FiguresFallDown},e}(),F=function(){function e(){this.handlers=new Map}return e.prototype.addHandler=function(e,t,n){void 0===n&&(n=!0);var i=this.handlers.get(e)||[];n&&i.some((function(e){return e===t}))||(i.push(t),this.handlers.set(e,i))},e.prototype.removeHandler=function(e,t){var n=this.handlers.get(e)||[],i=n.indexOf(t);i>0&&n.splice(i,1),this.handlers.set(e,n)},e.prototype.run=function(e){(this.handlers.get(e.getCommandType())||[]).forEach((function(t){t(e)}))},e}(),w=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.One=0]="One",e[e.Two=1]="Two",e[e.Three=2]="Three",e[e.Four=3]="Four"}(s||(s={}));var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getNormalizedFigure=function(){var e=this.getFigure(),t=e.reduce((function(e,t){return Math.max(e,t.length)}),0);return e.map((function(e){var n=e.length;return e.length=t,e.fill(!1,n-1,t-1)}))},t.prototype.getFirstTurn=function(){return this.getNormalizedFigure()},t.prototype.getSecondTurn=function(){for(var e=this.getNormalizedFigure(),t=[],n=e.length,i=e[0].length,r=0;r<i;r++){t[r]=new Array(n).fill(!1);for(var o=0;o<n;o++)t[r][n-o-1]=e[o][r]}return t},t.prototype.getThirdTurn=function(){return this.getFirstTurn().reverse().map((function(e){return e.reverse()}))},t.prototype.getForthTurn=function(){return this.getSecondTurn().reverse().map((function(e){return e.reverse()}))},t}(function(){function e(){}return e.prototype.getTurn=function(e){switch(e){case s.One:return this.getFirstTurn();case s.Two:return this.getSecondTurn();case s.Three:return this.getThirdTurn();case s.Four:return this.getForthTurn()}},e}()),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getFigure=function(){return["###".split("").map((function(e){return"#"===e})),"-#-".split("").map((function(e){return"#"===e}))]},t}(T),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getFigure=function(){return["###".split("").map((function(e){return"#"===e})),"--#".split("").map((function(e){return"#"===e}))]},t}(T),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getFigure=function(){return["###".split("").map((function(e){return"#"===e})),"#--".split("").map((function(e){return"#"===e}))]},t}(T),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getFigure=function(){return["##".split("").map((function(e){return"#"===e})),"##".split("").map((function(e){return"#"===e}))]},t}(T),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getFigure=function(){return["####".split("").map((function(e){return"#"===e}))]},t}(T),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getFigure=function(){return["##-".split("").map((function(e){return"#"===e})),"-##".split("").map((function(e){return"#"===e}))]},t}(T),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.getFigure=function(){return["-##".split("").map((function(e){return"#"===e})),"##-".split("").map((function(e){return"#"===e}))]},t}(T),S=function(e,t){this.x=e,this.y=t},O=function(e,t,n){this.figure=e,this.position=t,this.turnState=n},k=function(e,t,n){this.fieldWidth=e,this.fieldHeight=t,this.figures=n},x=function(){function e(e,t,n,i,r,o,a,s,u){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=setTimeout((function(){}))),void 0===a&&(a=1),void 0===s&&(s=0),void 0===u&&(u=0),this.isInitialized=e,this.isGameOver=t,this.fallingFigures=n,this.matrix=i,this.nextTickTimeoutId=r,this.settings=o,this.level=a,this.score=s,this.combo=u}return e.makeSimple=function(t,n){return void 0===t&&(t=10),void 0===n&&(n=20),new e(!1,!1,[],new Array(n).fill([]).map((function(e){return new Array(t).fill(!1)})),setTimeout((function(){})),new k(t,n,[new C,new D,new B,new M,new b,new H,new G]))},e}(),E=function(){function n(e,n,i){this.timingsHandler=e,this.eventBus=n,this.commandBus=i,this.gameData=x.makeSimple(),this.commandBus.addHandler(t.InitGame,this.initGameHandler.bind(this)),this.commandBus.addHandler(t.ResumeGame,this.resumeGameHandler.bind(this)),this.commandBus.addHandler(t.PauseGame,this.pauseGameHandler.bind(this)),this.commandBus.addHandler(t.GameOver,this.gameOverHandler.bind(this))}return n.prototype.initGameHandler=function(t){this.gameData=t.gameData,this.gameData.isInitialized=!0,this.eventBus.on(e.FallingTickProcessed,this.onFallTickProcessed.bind(this))},n.prototype.resumeGameHandler=function(e){this.gameData.isGameOver||(this.gameData.isInitialized||this.commandBus.run(new u(e.gameData)),this.fallTick())},n.prototype.pauseGameHandler=function(e){this.gameData=e.gameData,clearTimeout(this.gameData.nextTickTimeoutId),this.commandBus.run(new d(this.gameData))},n.prototype.gameOverHandler=function(){this.gameData.isInitialized=!1,this.gameData.isGameOver=!0,clearTimeout(this.gameData.nextTickTimeoutId),this.eventBus.fire(new i(this.gameData))},n.prototype.fallTick=function(){this.commandBus.run(new m(this.gameData))},n.prototype.onFallTickProcessed=function(e){clearTimeout(this.gameData.nextTickTimeoutId),this.gameData.isGameOver||(this.gameData.nextTickTimeoutId=setTimeout(this.fallTick.bind(this),this.timingsHandler.getDelayForNextTickMs(this.gameData)))},n}(),P=function(){function e(){}return e.canFigureBePlaced=function(e,t,n){return e.every((function(e,i){return e.every((function(e,r){var o=t.y+i,a=t.x+r;return!e||o<0&&a>=0&&a<=n[0].length-1||o in n&&a in n[o]&&!n[o][a]}))}))},e}(),L=function(e,t,n){this.filled=e,this.filledGameOver=t,this.empty=n},I=function(e,t,n,i,r){void 0===t&&(t=!0),void 0===n&&(n=new L("#007400","#780000","#fff")),void 0===i&&(i=new L("#007400","#780000",null)),void 0===r&&(r=new L("#b8e5e3",null,null)),this.containerElement=e,this.renderProjectionFigures=t,this.matrixCellColors=n,this.fallingFigureCellColors=i,this.projectionFigureCellColors=r},R=function(e,t){this.filled=e,this.empty=t},j=function(){function n(e,n,i){this.renderSettings=e,this.commandBus=n,this.eventBus=i,this.cellsHtmlElementsMap=[],n.addHandler(t.InitGame,this.initHandler.bind(this)),n.addHandler(t.Render,this.renderCommandHandler.bind(this))}return n.prototype.initHandler=function(t){this.table=n.createHtmlElement('<div style="float: left; display: table; border-collapse: collapse"></div>'),this.cellsHtmlElementsMap=[];for(var i=0;i<t.gameData.settings.fieldHeight;i++){var r=n.createHtmlElement('<div style="display: table-row"></div>');this.cellsHtmlElementsMap[i]=[];for(var o=0;o<t.gameData.settings.fieldWidth;o++){var a=n.createHtmlElement('<div style="display: table-cell; border: 1px solid #ccc; width: 20px; height: 20px"></div>');this.cellsHtmlElementsMap[i][o]=a,r.appendChild(a)}this.table.appendChild(r)}this.renderSettings.containerElement.innerHTML="",this.renderSettings.containerElement.appendChild(this.table),this.scoreDisplay=n.createHtmlElement('<div style="float: left; font-family: \'Helvetica Neue\', sans-serif; font-size: 20px; margin-left: 15px;">\n                Level: <span id="level"></span><br>\n                Score: <span id="score"></span><br>\n                Combo: <span id="combo"></span><br>\n            </div>'),this.renderSettings.containerElement.appendChild(this.scoreDisplay),this.renderSettings.containerElement.appendChild(n.createHtmlElement('<div style="clear: both"></div>')),this.eventBus.on(e.FallingTickProcessed,this.onFallTickProcessed.bind(this)),this.eventBus.on(e.GameOver,this.onGameOver.bind(this)),this.eventBus.on(e.FiguresMoved,this.onFiguresMoved.bind(this))},n.prototype.onFiguresMoved=function(e){this.renderState(e.gameData)},n.prototype.onFallTickProcessed=function(e){this.renderState(e.gameData)},n.prototype.onGameOver=function(e){this.renderState(e.gameData)},n.prototype.renderCommandHandler=function(e){this.renderState(e.gameData)},n.prototype.renderState=function(e){this.repaintMatrixCells(e.matrix,new S(0,0),e),this.renderSettings.renderProjectionFigures&&this.renderFallingFiguresProjection(e),this.renderFallingFigures(e),this.renderStats(e)},n.prototype.renderFallingFigures=function(e){var t=this;e.fallingFigures.forEach((function(n){t.repaintFallingFiguresCells(n.figure.getTurn(n.turnState),n.position,e)}))},n.prototype.renderFallingFiguresProjection=function(e){var t=this;e.fallingFigures.forEach((function(n){for(var i=n.figure.getTurn(n.turnState),r=n.position.x,o=n.position.y;P.canFigureBePlaced(i,new S(r,o+1),e.matrix);)o++;t.repaintProjectionFiguresCells(i,new S(r,o),e)}))},n.prototype.repaintMatrixCells=function(e,t,n){var i;i=n.isGameOver?new R(this.renderSettings.matrixCellColors.filledGameOver,this.renderSettings.matrixCellColors.empty):new R(this.renderSettings.matrixCellColors.filled,this.renderSettings.matrixCellColors.empty),this.repaintCells(e,t,i)},n.prototype.repaintFallingFiguresCells=function(e,t,n){var i;i=n.isGameOver?new R(this.renderSettings.fallingFigureCellColors.filledGameOver,this.renderSettings.fallingFigureCellColors.empty):new R(this.renderSettings.fallingFigureCellColors.filled,this.renderSettings.fallingFigureCellColors.empty),this.repaintCells(e,t,i)},n.prototype.repaintProjectionFiguresCells=function(e,t,n){var i;i=n.isGameOver?new R(this.renderSettings.projectionFigureCellColors.filledGameOver,this.renderSettings.projectionFigureCellColors.empty):new R(this.renderSettings.projectionFigureCellColors.filled,this.renderSettings.projectionFigureCellColors.empty),this.repaintCells(e,t,i)},n.prototype.repaintCells=function(e,t,n){var i=this;e.forEach((function(e,r){e.forEach((function(e,o){var a=r+t.y,s=o+t.x;if(a in i.cellsHtmlElementsMap&&s in i.cellsHtmlElementsMap[a]){var u=e?n.filled:n.empty;null!==u&&(i.cellsHtmlElementsMap[a][s].style.background=u)}}))}))},n.prototype.renderStats=function(e){var t=document.getElementById("level"),n=document.getElementById("score"),i=document.getElementById("combo");null!==t&&(t.innerHTML=e.level.toString()),null!==n&&(n.innerHTML=e.score.toString()),null!==i&&(i.innerHTML=e.combo.toString())},n.createHtmlElement=function(e){var t=document.createElement("div");if(t.innerHTML=e,t.children.length>1||null===t.firstElementChild)throw"The HTML must contain only one child";if(!(t.firstElementChild instanceof HTMLElement))throw"Something went wrong while trying to get HTMLElement child from div";return t.firstElementChild},n}(),q=function(){this.transferredFigures=[],this.isGameOver=!1},N=function(){function e(e,n){this.commandBus=e,this.eventBus=n,this.commandBus.addHandler(t.FiguresFallTick,this.processFiguresFallTickCommand.bind(this)),this.commandBus.addHandler(t.FiguresFallDown,this.processDropFiguresCommand.bind(this))}return e.prototype.processFiguresFallTickCommand=function(e){var t=this.fallFiguresForOneCell(e.gameData),i=this.squashLines(e.gameData.matrix);t.isGameOver&&this.commandBus.run(new h(e.gameData)),this.eventBus.fire(new n(e.gameData,t.transferredFigures,i,0))},e.prototype.processDropFiguresCommand=function(e){for(var t,i=new q,r=0;e.gameData.fallingFigures.length>0;){var o=this.fallFiguresForOneCell(e.gameData);(t=i.transferredFigures).push.apply(t,o.transferredFigures),i.isGameOver=i.isGameOver||o.isGameOver,r++}var a=this.squashLines(e.gameData.matrix);i.isGameOver&&this.commandBus.run(new h(e.gameData)),this.eventBus.fire(new n(e.gameData,i.transferredFigures,a,r-1))},e.prototype.fallFiguresForOneCell=function(e){var t=this,n=new q;return e.fallingFigures.forEach((function(i,r){var o;if(t.figureCanFall(e.matrix,i))i.position.y++;else{var a=t.transferFigureToMatrix(e.matrix,i);(o=n.transferredFigures).push.apply(o,e.fallingFigures.splice(r,1)),n.isGameOver=n.isGameOver||a}})),n},e.prototype.figureCanFall=function(e,t){return P.canFigureBePlaced(t.figure.getTurn(t.turnState),new S(t.position.x,t.position.y+1),e)},e.prototype.transferFigureToMatrix=function(e,t){var n=!1;return t.figure.getTurn(t.turnState).forEach((function(i,r){i.forEach((function(i,o){if(i){var a=t.position.x+o,s=t.position.y+r;s in e&&a in e[s]&&!e[s][a]?e[s][a]=!0:n=!0}}))})),n},e.prototype.squashLines=function(e){var t=[];return e.forEach((function(e,n){e.every((function(e){return e}))&&t.push(n)}),0),t.forEach((function(t){e.splice(t,1),e.unshift(new Array(e[0].length).fill(!1))})),t},e}(),A=function(){function n(e,n){this.eventBus=e,this.commandBus=n,this.commandBus.addHandler(t.InitGame,this.initHandler.bind(this))}return n.prototype.initHandler=function(t){this.addFigure(t.gameData),this.eventBus.on(e.FallingTickProcessed,this.processOnFallTick.bind(this))},n.prototype.processOnFallTick=function(e){this.addFigure(e.gameData)},n.prototype.addFigure=function(e){if(!(e.fallingFigures.length>0||e.isGameOver)){var t=Math.floor(Math.random()*e.settings.figures.length),n=e.settings.figures[t],i=this.getRandTurnState(),r=n.getTurn(i),o=Math.max.apply(Math,r.map((function(e){return e.length}))),a=new S(Math.ceil(e.settings.fieldWidth/2-o/2)-1,-r.length);e.fallingFigures.push(new O(n,a,i))}},n.prototype.getRandTurnState=function(){var e=Object.keys(s).map((function(e){return Number.parseInt(e)})).filter((function(e){return!Number.isNaN(e)}));return e[Math.floor(Math.random()*e.length)]},n}(),z=function(){function e(e,n){this.commandBus=e,this.eventBus=n,this.commandBus.addHandler(t.MoveLeft,this.processMoveLeftCommand.bind(this)),this.commandBus.addHandler(t.MoveRight,this.processMoveRightCommand.bind(this)),this.commandBus.addHandler(t.MoveDown,this.processMoveDownCommand.bind(this)),this.commandBus.addHandler(t.TurnClockwise,this.processTurnClockwiseCommand.bind(this))}return e.prototype.processMoveLeftCommand=function(e){e.gameData.fallingFigures.forEach((function(t){P.canFigureBePlaced(t.figure.getTurn(t.turnState),new S(t.position.x-1,t.position.y),e.gameData.matrix)&&t.position.x--})),this.eventBus.fire(new r(e.gameData))},e.prototype.processMoveRightCommand=function(e){e.gameData.fallingFigures.forEach((function(t){P.canFigureBePlaced(t.figure.getTurn(t.turnState),new S(t.position.x+1,t.position.y),e.gameData.matrix)&&t.position.x++})),this.eventBus.fire(new r(e.gameData))},e.prototype.processTurnClockwiseCommand=function(e){var t=this.getTurnStatesAsArray();e.gameData.fallingFigures.forEach((function(n){var i=n.turnState+1;i in t||(i=t[0]),P.canFigureBePlaced(n.figure.getTurn(i),n.position,e.gameData.matrix)&&(n.turnState=i)})),this.eventBus.fire(new r(e.gameData))},e.prototype.processMoveDownCommand=function(e){this.commandBus.run(new m(e.gameData))},e.prototype.getTurnStatesAsArray=function(){return Object.keys(s).map((function(e){return Number.parseInt(e)})).filter((function(e){return!Number.isNaN(e)}))},e}(),_=function(){function e(e){this.commandBus=e,this.commandBus.addHandler(t.InitGame,this.processInitGameCommand.bind(this))}return e.prototype.processInitGameCommand=function(e){var t=this;window.onkeydown=function(n){"ArrowLeft"===n.code?t.commandBus.run(new p(e.gameData)):"ArrowRight"===n.code?t.commandBus.run(new f(e.gameData)):"ArrowUp"===n.code?t.commandBus.run(new g(e.gameData)):"ArrowDown"===n.code||"ArrowDown"===n.code?t.commandBus.run(new v(e.gameData)):"Space"===n.code&&t.commandBus.run(new y(e.gameData))}},e}(),U=function(){function e(e){this.initialDelayMs=e}return e.prototype.getDelayForNextTickMs=function(e){return Math.pow(.8-.007*(e.level-1),e.level-1)*this.initialDelayMs},e}(),W=function(){function n(e,n,i,r){void 0===i&&(i=new Map([[1,100],[2,300],[3,500],[4,800]])),void 0===r&&(r=50),this.commandBus=e,this.eventBus=n,this.squashedRowsRewardThresholdsMap=i,this.rewardOnCombo=r,e.addHandler(t.InitGame,this.initGameHandler.bind(this))}return n.prototype.initGameHandler=function(t){this.eventBus.on(e.FallingTickProcessed,this.onFallingTickProcessed.bind(this))},n.prototype.onFallingTickProcessed=function(e){if(!(e.squashedLines.length<0)){var t=0;this.squashedRowsRewardThresholdsMap.forEach((function(n,i){i>e.squashedLines.length||(t=n)})),e.gameData.score+=t*e.gameData.level+this.rewardOnCombo*Math.max(0,e.gameData.combo-1)*e.gameData.level+2*e.droppedLines*e.gameData.level}},n}(),J=function(){function n(e,n,i,r){this.eventBus=e,this.commandBus=n,this.levelIncreaseOnSquashedRowsNumber=i,this.maxLevels=r,this.squashedRowsCounter=0,this.commandBus.addHandler(t.InitGame,this.processInitGameCommand.bind(this))}return n.prototype.processInitGameCommand=function(t){this.eventBus.on(e.FallingTickProcessed,this.onFallTickProcessed.bind(this))},n.prototype.onFallTickProcessed=function(e){0!==e.squashedLines.length&&(this.squashedRowsCounter++,this.squashedRowsCounter>=this.levelIncreaseOnSquashedRowsNumber&&(this.squashedRowsCounter=0,e.gameData.level=Math.min(this.maxLevels,e.gameData.level+1)))},n}(),K=function(){function n(e,n){this.commandBus=e,this.eventBus=n,e.addHandler(t.InitGame,this.initGameHandler.bind(this))}return n.prototype.initGameHandler=function(t){this.eventBus.on(e.FallingTickProcessed,this.onFallingTickProcessed.bind(this))},n.prototype.onFallingTickProcessed=function(e){e.transferredToMatrixFigures.length<=0||(e.squashedLines.length>0?e.gameData.combo+=1:e.gameData.combo=0)},n}(),Q=function(){function e(){this.eventBus=new o,this.commandBus=new F,this.gameController=new E(new U(2e3),this.eventBus,this.commandBus),this.movingHandler=new z(this.commandBus,this.eventBus),this.movingController=new _(this.commandBus),this.fallingFiguresProcessor=new N(this.commandBus,this.eventBus),this.figuresSpawner=new A(this.eventBus,this.commandBus),this.levelCounter=new J(this.eventBus,this.commandBus,8,15),this.comboCounter=new K(this.commandBus,this.eventBus),this.scoreCounter=new W(this.commandBus,this.eventBus),this.tableRenderer=new j(new I(document.body),this.commandBus,this.eventBus),this.gameData=x.makeSimple()}return e.prototype.start=function(e){this.gameData=e||x.makeSimple(),this.commandBus.run(new u(this.gameData)),this.commandBus.run(new l(this.gameData))},e.prototype.resume=function(){this.commandBus.run(new l(this.gameData))},e.prototype.pause=function(){this.commandBus.run(new c(this.gameData))},e}();document.addEventListener("DOMContentLoaded",(function(){(new Q).start()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUs2RixVQUVGLEtBQUEzRyxTQUFXZ0csRUFBU0gsWUFlL0IsUUFiVyxZQUFBcUwsTUFBUCxTQUFhbFIsR0FDVGMsS0FBS2QsU0FBV0EsR0FBWWdHLEVBQVNILGFBQ3JDL0UsS0FBSzhGLFdBQVduRSxJQUFJLElBQUkyRSxFQUFnQnRHLEtBQUtkLFdBQzdDYyxLQUFLOEYsV0FBV25FLElBQUksSUFBSTBPLEVBQWtCclEsS0FBS2QsVUFDbkQsRUFFTyxZQUFBb1IsT0FBUCxXQUNJdFEsS0FBSzhGLFdBQVduRSxJQUFJLElBQUkwTyxFQUFrQnJRLEtBQUtkLFVBQ25ELEVBRU8sWUFBQXFSLE1BQVAsV0FDSXZRLEtBQUs4RixXQUFXbkUsSUFBSSxJQUFJNk8sRUFBaUJ4USxLQUFLZCxVQUNsRCxFQUNKLEVBM0RBLEdDWkE4SyxTQUFTeUcsaUJBQWlCLG9CQUFvQixZQUM3QixJQUFJQyxHQUNWTixPQUNYLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0V2ZW50QnVzL0V2ZW50QnVzLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvQ29tbWFuZEJ1cy9Db21tYW5kQnVzLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvRmlndXJlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0NvbW1vbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0dhbWVDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVXRpbHMvRmlndXJlUGxhY2luZ0NoZWNrZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9SZW5kZXJlci9UYWJsZVJlbmRlcmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvRmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3IvUmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvRmlndXJlc1NwYXduZXIvQWx3YXlzT25lRmlndXJlU3Bhd25lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL01vdmluZ0hhbmRsZXIvTW92aW5nSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL01vdmluZ0NvbnRyb2xsZXIvTW92aW5nQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1RpbWluZ3NIYW5kbGVyL0xldmVsQmFzZWRUaW1pbmdzSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1Njb3JlQ291bnRlci9GYWxsVGlja1Njb3JlQ291bnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0xldmVsQ291bnRlci9TcXVhc2hlZFJvd3NDb3VudGVyQmFzZWRMZXZlbENvdW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9Db21ib0NvdW50ZXIvQ29tYm9Db3VudGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVGV0cmlzRmFjYWRlLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZhbGxpbmdGaWd1cmUsIEdhbWVEYXRhfSBmcm9tIFwiLi4vQ29tbW9uXCI7XG5cbmV4cG9ydCBlbnVtIEV2ZW50VHlwZSB7XG4gICAgRmFsbGluZ1RpY2tQcm9jZXNzZWQsXG4gICAgR2FtZU92ZXIsXG4gICAgRmlndXJlc01vdmVkLFxuICAgIExldmVsVXAsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnQge1xuICAgIGdhbWVEYXRhOiBHYW1lRGF0YTtcblxuICAgIGdldEV2ZW50VHlwZSgpOiBFdmVudFR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50IGltcGxlbWVudHMgRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICAgICBwdWJsaWMgdHJhbnNmZXJyZWRUb01hdHJpeEZpZ3VyZXM6IEZhbGxpbmdGaWd1cmVbXSxcbiAgICAgICAgcHVibGljIHNxdWFzaGVkTGluZXM6IG51bWJlcltdLFxuICAgICAgICBwdWJsaWMgZHJvcHBlZExpbmVzOiBudW1iZXIsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldEV2ZW50VHlwZSgpOiBFdmVudFR5cGUge1xuICAgICAgICByZXR1cm4gRXZlbnRUeXBlLkZhbGxpbmdUaWNrUHJvY2Vzc2VkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVPdmVyRXZlbnQgaW1wbGVtZW50cyBFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldEV2ZW50VHlwZSgpOiBFdmVudFR5cGUge1xuICAgICAgICByZXR1cm4gRXZlbnRUeXBlLkdhbWVPdmVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpZ3VyZXNNb3ZlZEV2ZW50IGltcGxlbWVudHMgRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRFdmVudFR5cGUoKTogRXZlbnRUeXBlIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50VHlwZS5GaWd1cmVzTW92ZWQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGV2ZWxVcEV2ZW50IGltcGxlbWVudHMgRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRFdmVudFR5cGUoKTogRXZlbnRUeXBlIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50VHlwZS5MZXZlbFVwO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV2ZW50QnVzIHtcbiAgICBwcml2YXRlIGhhbmRsZXJzOiBNYXA8RXZlbnRUeXBlLCAoKC4uLl86IGFueSkgPT4gdm9pZClbXT4gPSBuZXcgTWFwKCk7XG5cbiAgICBwdWJsaWMgb24oZXZlbnQ6IEV2ZW50VHlwZSwgaGFuZGxlcjogKC4uLl86IGFueSkgPT4gdm9pZCwgdW5pcXVlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudCkgfHwgW107XG4gICAgICAgIGlmICh1bmlxdWUgJiYgaGFuZGxlcnMuc29tZShib3VuZEhhbmRsZXIgPT4gYm91bmRIYW5kbGVyID09PSBoYW5kbGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIG9mZihldmVudDogRXZlbnRUeXBlLCBoYW5kbGVyOiAoLi4uXzogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50KSB8fCBbXTtcbiAgICAgICAgbGV0IGluZGV4ID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIGZpcmUoZXZlbnRQYXlsb2FkOiBFdmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudFBheWxvYWQuZ2V0RXZlbnRUeXBlKCkpIHx8IFtdO1xuICAgICAgICBoYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge2hhbmRsZXIoZXZlbnRQYXlsb2FkKX0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuLi9Db21tb25cIjtcblxuZXhwb3J0IGVudW0gQ29tbWFuZFR5cGUge1xuICAgIEluaXRHYW1lLFxuICAgIFJlc3VtZUdhbWUsXG4gICAgUGF1c2VHYW1lLFxuICAgIEZpZ3VyZXNGYWxsVGljayxcbiAgICBHYW1lT3ZlcixcbiAgICBSZW5kZXIsXG4gICAgTW92ZUxlZnQsXG4gICAgTW92ZVJpZ2h0LFxuICAgIFR1cm5DbG9ja3dpc2UsXG4gICAgTW92ZURvd24sXG4gICAgRmlndXJlc0ZhbGxEb3duLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmQge1xuICAgIGdhbWVEYXRhOiBHYW1lRGF0YTtcblxuICAgIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgSW5pdEdhbWVDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLkluaXRHYW1lO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlc3VtZUdhbWVDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLlJlc3VtZUdhbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGF1c2VHYW1lQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5QYXVzZUdhbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5GaWd1cmVzRmFsbFRpY2s7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLkdhbWVPdmVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbmRlckNvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuUmVuZGVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmVMZWZ0Q29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5Nb3ZlTGVmdDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlUmlnaHRDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLk1vdmVSaWdodDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUdXJuQ2xvY2t3aXNlQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5UdXJuQ2xvY2t3aXNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmVEb3duQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5Nb3ZlRG93bjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcm9wRmlndXJlc0NvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuRmlndXJlc0ZhbGxEb3duO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hbmRCdXMge1xuICAgIHByaXZhdGUgaGFuZGxlcnM6IE1hcDxDb21tYW5kVHlwZSwgKChwYXlsb2FkOiBDb21tYW5kKSA9PiB2b2lkKVtdPiA9IG5ldyBNYXAoKTtcblxuICAgIHB1YmxpYyBhZGRIYW5kbGVyKGV2ZW50OiBDb21tYW5kVHlwZSwgaGFuZGxlcjogKC4uLl86IGFueSkgPT4gdm9pZCwgdW5pcXVlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudCkgfHwgW107XG4gICAgICAgIGlmICh1bmlxdWUgJiYgaGFuZGxlcnMuc29tZShib3VuZEhhbmRsZXIgPT4gYm91bmRIYW5kbGVyID09PSBoYW5kbGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUhhbmRsZXIoZXZlbnQ6IENvbW1hbmRUeXBlLCBoYW5kbGVyOiAoLi4uXzogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50KSB8fCBbXTtcbiAgICAgICAgbGV0IGluZGV4ID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIHJ1bihwYXlsb2FkOiBDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KHBheWxvYWQuZ2V0Q29tbWFuZFR5cGUoKSkgfHwgW107XG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7aGFuZGxlcihwYXlsb2FkKX0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBlbnVtIEZpZ3VyZVR1cm5TdGF0ZSB7XG4gICAgT25lLFxuICAgIFR3byxcbiAgICBUaHJlZSxcbiAgICBGb3VyLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpZ3VyZSB7XG4gICAgLyoqXG4gICAgICogQW55IGZpZ3VyZSBtdXN0IGJlIGFibGUgdG8gdHVybiA0IHRpbWVzIGluIDIgZGltZW5zaW9ucy5cbiAgICAgKiBBbGwgdHVybnMgYXJlIGNsb2Nrd2lzZS5cbiAgICAgKi9cbiAgICBnZXRUdXJuKGZpZ3VyZVR1cm5TdGF0ZTogRmlndXJlVHVyblN0YXRlKTogYm9vbGVhbltdW107XG4gICAgZ2V0Rmlyc3RUdXJuKCk6IGJvb2xlYW5bXVtdO1xuICAgIGdldFNlY29uZFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgZ2V0VGhpcmRUdXJuKCk6IGJvb2xlYW5bXVtdO1xuICAgIGdldEZvcnRoVHVybigpOiBib29sZWFuW11bXTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0RmlndXJlIGltcGxlbWVudHMgRmlndXJle1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRGaXJzdFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgcHVibGljIGFic3RyYWN0IGdldFNlY29uZFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgcHVibGljIGFic3RyYWN0IGdldFRoaXJkVHVybigpOiBib29sZWFuW11bXTtcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0Rm9ydGhUdXJuKCk6IGJvb2xlYW5bXVtdO1xuXG4gICAgZ2V0VHVybihmaWd1cmVUdXJuU3RhdGU6IEZpZ3VyZVR1cm5TdGF0ZSk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgc3dpdGNoIChmaWd1cmVUdXJuU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgRmlndXJlVHVyblN0YXRlLk9uZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaXJzdFR1cm4oKTtcbiAgICAgICAgICAgIGNhc2UgRmlndXJlVHVyblN0YXRlLlR3bzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWNvbmRUdXJuKCk7XG4gICAgICAgICAgICBjYXNlIEZpZ3VyZVR1cm5TdGF0ZS5UaHJlZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaGlyZFR1cm4oKTtcbiAgICAgICAgICAgIGNhc2UgRmlndXJlVHVyblN0YXRlLkZvdXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ydGhUdXJuKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBnaXZlcyBhbiBlYXN5IHdheSB0byBkZWZpbmUgZmlndXJlcyBmb3IgdGV0cmlzLlxuICogSnVzdCBpbXBsZW1lbnQgdGhlIGdldEZpZ3VyZSBtZXRob2QgYW5kIHJldHVybiBmaWd1cmUgbGlrZSB0aGlzOlxuICogYGBgKHRzKVxuICogcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gKiAgICAgcmV0dXJuIFtcbiAqICAgICAgICAgW3RydWUsICB0cnVlLCB0cnVlXSxcbiAqICAgICAgICAgW2ZhbHNlLCB0cnVlLCBmYWxzZV0sXG4gKiAgICAgICAgIFt0cnVlLCAgdHJ1ZSwgdHJ1ZV0sXG4gKiAgICAgXTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIE9yIGRlZmluZSBpdCBsaWtlIHRoaXMgZm9yIG1vcmUgdmlzdWFsIHByZXNlbnRhdGlvbjpcbiAqIGBgYCh0cylcbiAqIHByb3RlY3RlZCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICogICAgIHJldHVybiBbXG4gKiAgICAgICAgIFwiIyMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICogICAgICAgICBcIi0jLVwiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAqICAgICAgICAgXCIjIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gKiAgICAgXTtcbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2ltcGx5Um90YXRhYmxlRmlndXJlIGV4dGVuZHMgQWJzdHJhY3RGaWd1cmUge1xuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW107XG5cbiAgICBwcml2YXRlIGdldE5vcm1hbGl6ZWRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICAgICAgICBsZXQgZmlndXJlID0gdGhpcy5nZXRGaWd1cmUoKTtcbiAgICAgICAgbGV0IHRoZUxvbmdlc3RSb3dTaXplID0gZmlndXJlLnJlZHVjZShcbiAgICAgICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gTWF0aC5tYXgocHJldmlvdXMsIGN1cnJlbnQubGVuZ3RoKSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGZpZ3VyZS5tYXAocm93ID0+IHtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbExlbmd0aCA9IHJvdy5sZW5ndGg7XG4gICAgICAgICAgICByb3cubGVuZ3RoID0gdGhlTG9uZ2VzdFJvd1NpemU7XG4gICAgICAgICAgICByZXR1cm4gcm93LmZpbGwoZmFsc2UsIG9yaWdpbmFsTGVuZ3RoIC0gMSwgdGhlTG9uZ2VzdFJvd1NpemUgLSAxKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpcnN0VHVybigpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vcm1hbGl6ZWRGaWd1cmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2Vjb25kVHVybigpOiBib29sZWFuW11bXSB7XG4gICAgICAgIGxldCBvcmlnaW5hbEZpZ3VyZSA9IHRoaXMuZ2V0Tm9ybWFsaXplZEZpZ3VyZSgpO1xuICAgICAgICBsZXQgdHVybmVkRmlndXJlOiBib29sZWFuW11bXSA9IFtdO1xuICAgICAgICBsZXQgb3JpZ2luYWxGaWd1cmVIZWlnaHQgPSBvcmlnaW5hbEZpZ3VyZS5sZW5ndGg7XG4gICAgICAgIGxldCBvcmlnaW5hbEZpZ3VyZVdpZHRoID0gb3JpZ2luYWxGaWd1cmVbMF0ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG9yaWdpbmFsRmlndXJlV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgdHVybmVkRmlndXJlW3hdID0gbmV3IEFycmF5KG9yaWdpbmFsRmlndXJlSGVpZ2h0KS5maWxsKGZhbHNlKTtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgb3JpZ2luYWxGaWd1cmVIZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgICAgIHR1cm5lZEZpZ3VyZVt4XVtvcmlnaW5hbEZpZ3VyZUhlaWdodCAtIHkgLSAxXSA9IG9yaWdpbmFsRmlndXJlW3ldW3hdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0dXJuZWRGaWd1cmU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRoaXJkVHVybigpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpcnN0VHVybigpLnJldmVyc2UoKS5tYXAocm93ID0+IHJvdy5yZXZlcnNlKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGb3J0aFR1cm4oKTogYm9vbGVhbltdW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWNvbmRUdXJuKCkucmV2ZXJzZSgpLm1hcChyb3cgPT4gcm93LnJldmVyc2UoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVEZpZ3VyZSBleHRlbmRzIFNpbXBseVJvdGF0YWJsZUZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIiMjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiLSMtXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJpZ2h0TEZpZ3VyZSBleHRlbmRzIFNpbXBseVJvdGF0YWJsZUZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIiMjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiLS0jXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExlZnRMRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICAgICAgXCIjLS1cIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3F1YXJlRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgICAgICBcIiMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0aWNrRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyMjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMWkZpZ3VyZSBleHRlbmRzIFNpbXBseVJvdGF0YWJsZUZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIiMjLVwiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiLSMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgUlpGaWd1cmUgZXh0ZW5kcyBTaW1wbHlSb3RhdGFibGVGaWd1cmUge1xuICAgIHByb3RlY3RlZCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCItIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgICAgICBcIiMjLVwiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0ZpZ3VyZSwgRmlndXJlVHVyblN0YXRlLCBMZWZ0TEZpZ3VyZSwgTFpGaWd1cmUsIFJpZ2h0TEZpZ3VyZSwgUlpGaWd1cmUsIFNxdWFyZUZpZ3VyZSwgU3RpY2tGaWd1cmUsIFRGaWd1cmV9IGZyb20gXCIuL0ZpZ3VyZXNcIjtcblxuLyoqXG4gKiB4IGZvciBob3Jpem9udGFsIHBvc2l0aW9uaW5nXG4gKiB5IGZvciB2ZXJ0aWNhbCBwb3NpdGlvbmluZ1xuICovXG5leHBvcnQgY2xhc3MgQ29vcmRpbmF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB4OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyB5OiBudW1iZXIsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgRmFsbGluZ0ZpZ3VyZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBmaWd1cmU6IEZpZ3VyZSxcbiAgICAgICAgcHVibGljIHBvc2l0aW9uOiBDb29yZGluYXRlLFxuICAgICAgICBwdWJsaWMgdHVyblN0YXRlOiBGaWd1cmVUdXJuU3RhdGUsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgR2FtZVNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGZpZWxkV2lkdGg6IG51bWJlcixcbiAgICAgICAgcHVibGljIGZpZWxkSGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBmaWd1cmVzOiBGaWd1cmVbXSxcbiAgICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lRGF0YSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIHB1YmxpYyBpc0dhbWVPdmVyOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIHB1YmxpYyBmYWxsaW5nRmlndXJlczogRmFsbGluZ0ZpZ3VyZVtdID0gW10sXG4gICAgICAgIHB1YmxpYyBtYXRyaXg6IGJvb2xlYW5bXVtdID0gW10sXG4gICAgICAgIHB1YmxpYyBuZXh0VGlja1RpbWVvdXRJZDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgfSksXG4gICAgICAgIHB1YmxpYyBzZXR0aW5nczogR2FtZVNldHRpbmdzLFxuICAgICAgICBwdWJsaWMgbGV2ZWw6IG51bWJlciA9IDEsXG4gICAgICAgIHB1YmxpYyBzY29yZTogbnVtYmVyID0gMCxcbiAgICAgICAgcHVibGljIGNvbWJvOiBudW1iZXIgPSAwLFxuICAgICkge31cblxuICAgIHN0YXRpYyBtYWtlU2ltcGxlKHdpZHRoOiBudW1iZXIgPSAxMCwgaGVpZ2h0OiBudW1iZXIgPSAyMCk6IEdhbWVEYXRhIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHYW1lRGF0YShcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICAgIG5ldyBBcnJheShoZWlnaHQpLmZpbGwoW10pXG4gICAgICAgICAgICAgICAgLm1hcChfID0+IG5ldyBBcnJheSh3aWR0aCkuZmlsbChmYWxzZSkpLFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG5ldyBHYW1lU2V0dGluZ3MoXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFRGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJpZ2h0TEZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgTGVmdExGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNxdWFyZUZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgU3RpY2tGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IExaRmlndXJlKCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSWkZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApLFxuICAgICAgICApXG4gICAgfVxufVxuIiwiaW1wb3J0IHtUaW1pbmdzSGFuZGxlcn0gZnJvbSBcIi4vVGltaW5nc0hhbmRsZXIvVGltaW5nc0hhbmRsZXJcIjtcbmltcG9ydCB7RXZlbnRCdXMsIEV2ZW50VHlwZSwgRmFsbFRpY2tQcm9jZXNzZWRFdmVudCwgRmlndXJlc01vdmVkRXZlbnQsIEdhbWVPdmVyRXZlbnR9IGZyb20gXCIuL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0NvbW1hbmRCdXMsIENvbW1hbmRUeXBlLCBGaWd1cmVzRmFsbFRpY2tDb21tYW5kLCBJbml0R2FtZUNvbW1hbmQsIFBhdXNlR2FtZUNvbW1hbmQsIFJlbmRlckNvbW1hbmQsIFJlc3VtZUdhbWVDb21tYW5kfSBmcm9tIFwiLi9Db21tYW5kQnVzL0NvbW1hbmRCdXNcIjtcbmltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuL0NvbW1vblwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgZ2FtZURhdGE6IEdhbWVEYXRhID0gR2FtZURhdGEubWFrZVNpbXBsZSgpO1xuXG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBwcml2YXRlIHRpbWluZ3NIYW5kbGVyOiBUaW1pbmdzSGFuZGxlcixcbiAgICAgICAgcHJpdmF0ZSBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1cyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuSW5pdEdhbWUsIHRoaXMuaW5pdEdhbWVIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5SZXN1bWVHYW1lLCB0aGlzLnJlc3VtZUdhbWVIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5QYXVzZUdhbWUsIHRoaXMucGF1c2VHYW1lSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuR2FtZU92ZXIsIHRoaXMuZ2FtZU92ZXJIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEdhbWVIYW5kbGVyKGNvbW1hbmQ6IEluaXRHYW1lQ29tbWFuZCk6IHZvaWQge1xuICAgICAgICB0aGlzLmdhbWVEYXRhID0gY29tbWFuZC5nYW1lRGF0YTtcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuRmFsbGluZ1RpY2tQcm9jZXNzZWQsIHRoaXMub25GYWxsVGlja1Byb2Nlc3NlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc3VtZUdhbWVIYW5kbGVyKGNvbW1hbmQ6IFJlc3VtZUdhbWVDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVEYXRhLmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZ2FtZURhdGEuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgSW5pdEdhbWVDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZhbGxUaWNrKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwYXVzZUdhbWVIYW5kbGVyKGNvbW1hbmQ6IFBhdXNlR2FtZUNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5nYW1lRGF0YSA9IGNvbW1hbmQuZ2FtZURhdGE7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUmVuZGVyQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnYW1lT3ZlckhhbmRsZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZ2FtZURhdGEuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdhbWVEYXRhLmlzR2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5nYW1lRGF0YS5uZXh0VGlja1RpbWVvdXRJZCk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgR2FtZU92ZXJFdmVudCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmYWxsVGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkZhbGxUaWNrUHJvY2Vzc2VkKGV2ZW50OiBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkKTtcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVEYXRhLmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZURhdGEubmV4dFRpY2tUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgIHRoaXMuZmFsbFRpY2suYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWluZ3NIYW5kbGVyLmdldERlbGF5Rm9yTmV4dFRpY2tNcyh0aGlzLmdhbWVEYXRhKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7Q29vcmRpbmF0ZX0gZnJvbSBcIi4uL0NvbW1vblwiO1xuXG5leHBvcnQgY2xhc3MgRmlndXJlUGxhY2luZ0NoZWNrZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgY2FuRmlndXJlQmVQbGFjZWQodGFyZ2V0RmlndXJlTWF0cml4OiBib29sZWFuW11bXSwgdGFyZ2V0UG9zaXRpb246IENvb3JkaW5hdGUsIG1hdHJpeDogYm9vbGVhbltdW10pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldEZpZ3VyZU1hdHJpeC5ldmVyeSgocm93LCB5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcm93LmV2ZXJ5KCh2YWx1ZSwgeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxZID0gdGFyZ2V0UG9zaXRpb24ueSArIHk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhbFggPSB0YXJnZXRQb3NpdGlvbi54ICsgeDtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxZIDwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmVhbFggPj0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmVhbFggPD0gbWF0cml4WzBdLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgKSB8fCAoXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFsWSBpbiBtYXRyaXhcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHJlYWxYIGluIG1hdHJpeFtyZWFsWV1cbiAgICAgICAgICAgICAgICAgICAgICAgICYmICFtYXRyaXhbcmVhbFldW3JlYWxYXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEluaXRHYW1lQ29tbWFuZCwgUmVuZGVyQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtFdmVudEJ1cywgRXZlbnRUeXBlLCBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50LCBHYW1lT3ZlckV2ZW50fSBmcm9tIFwiLi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7RmlndXJlUGxhY2luZ0NoZWNrZXJ9IGZyb20gXCIuLi9VdGlscy9GaWd1cmVQbGFjaW5nQ2hlY2tlclwiO1xuaW1wb3J0IHtDb29yZGluYXRlLCBHYW1lRGF0YX0gZnJvbSBcIi4uL0NvbW1vblwiO1xuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGZpbGxlZDogc3RyaW5nfG51bGwsXG4gICAgICAgIHB1YmxpYyBmaWxsZWRHYW1lT3Zlcjogc3RyaW5nfG51bGwsXG4gICAgICAgIHB1YmxpYyBlbXB0eTogc3RyaW5nfG51bGwsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlclNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgICAgICBwdWJsaWMgcmVuZGVyUHJvamVjdGlvbkZpZ3VyZXM6IGJvb2xlYW4gPSB0cnVlLFxuICAgICAgICBwdWJsaWMgbWF0cml4Q2VsbENvbG9yczogVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzID0gbmV3IFRhYmxlUmVuZGVyZXJDZWxsQ29sb3JTZXR0aW5ncyhcbiAgICAgICAgICAgICcjMDA3NDAwJyxcbiAgICAgICAgICAgICcjNzgwMDAwJyxcbiAgICAgICAgICAgICcjZmZmJyxcbiAgICAgICAgKSxcbiAgICAgICAgcHVibGljIGZhbGxpbmdGaWd1cmVDZWxsQ29sb3JzOiBUYWJsZVJlbmRlcmVyQ2VsbENvbG9yU2V0dGluZ3MgPSBuZXcgVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzKFxuICAgICAgICAgICAgJyMwMDc0MDAnLFxuICAgICAgICAgICAgJyM3ODAwMDAnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgKSxcbiAgICAgICAgcHVibGljIHByb2plY3Rpb25GaWd1cmVDZWxsQ29sb3JzOiBUYWJsZVJlbmRlcmVyQ2VsbENvbG9yU2V0dGluZ3MgPSBuZXcgVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzKFxuICAgICAgICAgICAgJyNiOGU1ZTMnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICksXG4gICAgKSB7fVxufVxuXG5jbGFzcyBDZWxsQ29sb3JzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGZpbGxlZDogc3RyaW5nfG51bGwsXG4gICAgICAgIHB1YmxpYyBlbXB0eTogc3RyaW5nfG51bGwsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlciB7XG4gICAgcHJpdmF0ZSBjZWxsc0h0bWxFbGVtZW50c01hcDogSFRNTEVsZW1lbnRbXVtdID0gW107XG4gICAgcHJpdmF0ZSB0YWJsZTogSFRNTEVsZW1lbnR8dW5kZWZpbmVkO1xuICAgIHByaXZhdGUgc2NvcmVEaXNwbGF5OiBIVE1MRWxlbWVudHx1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIHByaXZhdGUgcmVuZGVyU2V0dGluZ3M6IFRhYmxlUmVuZGVyZXJTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICApIHtcbiAgICAgICAgY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkluaXRHYW1lLCB0aGlzLmluaXRIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICBjb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuUmVuZGVyLCB0aGlzLnJlbmRlckNvbW1hbmRIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEhhbmRsZXIoY29tbWFuZDogSW5pdEdhbWVDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMudGFibGUgPSBUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiZmxvYXQ6IGxlZnQ7IGRpc3BsYXk6IHRhYmxlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlXCI+PC9kaXY+Jyk7XG4gICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXAgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjb21tYW5kLmdhbWVEYXRhLnNldHRpbmdzLmZpZWxkSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGxldCByb3cgPSBUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiZGlzcGxheTogdGFibGUtcm93XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICB0aGlzLmNlbGxzSHRtbEVsZW1lbnRzTWFwW3ldID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNvbW1hbmQuZ2FtZURhdGEuc2V0dGluZ3MuZmllbGRXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSBUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiZGlzcGxheTogdGFibGUtY2VsbDsgYm9yZGVyOiAxcHggc29saWQgI2NjYzsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweFwiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbeV1beF0gPSBjZWxsO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLmNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MuY29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlKTtcblxuICAgICAgICB0aGlzLnNjb3JlRGlzcGxheSA9IFRhYmxlUmVuZGVyZXIuY3JlYXRlSHRtbEVsZW1lbnQoXG4gICAgICAgICAgICBgPGRpdiBzdHlsZT1cImZsb2F0OiBsZWZ0OyBmb250LWZhbWlseTogJ0hlbHZldGljYSBOZXVlJywgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAyMHB4OyBtYXJnaW4tbGVmdDogMTVweDtcIj5cbiAgICAgICAgICAgICAgICBMZXZlbDogPHNwYW4gaWQ9XCJsZXZlbFwiPjwvc3Bhbj48YnI+XG4gICAgICAgICAgICAgICAgU2NvcmU6IDxzcGFuIGlkPVwic2NvcmVcIj48L3NwYW4+PGJyPlxuICAgICAgICAgICAgICAgIENvbWJvOiA8c3BhbiBpZD1cImNvbWJvXCI+PC9zcGFuPjxicj5cbiAgICAgICAgICAgIDwvZGl2PmApO1xuICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLmNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zY29yZURpc3BsYXkpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MuY29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiY2xlYXI6IGJvdGhcIj48L2Rpdj4nKSk7XG5cbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuRmFsbGluZ1RpY2tQcm9jZXNzZWQsIHRoaXMub25GYWxsVGlja1Byb2Nlc3NlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuR2FtZU92ZXIsIHRoaXMub25HYW1lT3Zlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuRmlndXJlc01vdmVkLCB0aGlzLm9uRmlndXJlc01vdmVkLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25GaWd1cmVzTW92ZWQoY29tbWFuZDogRmFsbFRpY2tQcm9jZXNzZWRFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbmRlclN0YXRlKGNvbW1hbmQuZ2FtZURhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25GYWxsVGlja1Byb2Nlc3NlZChjb21tYW5kOiBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdGUoY29tbWFuZC5nYW1lRGF0YSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkdhbWVPdmVyKGNvbW1hbmQ6IEdhbWVPdmVyRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTdGF0ZShjb21tYW5kLmdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckNvbW1hbmRIYW5kbGVyKGNvbW1hbmQ6IFJlbmRlckNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTdGF0ZShjb21tYW5kLmdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclN0YXRlKGdhbWVEYXRhOiBHYW1lRGF0YSk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlcGFpbnRNYXRyaXhDZWxscyhnYW1lRGF0YS5tYXRyaXgsIG5ldyBDb29yZGluYXRlKDAsIDApLCBnYW1lRGF0YSk7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlclNldHRpbmdzLnJlbmRlclByb2plY3Rpb25GaWd1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckZhbGxpbmdGaWd1cmVzUHJvamVjdGlvbihnYW1lRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJGYWxsaW5nRmlndXJlcyhnYW1lRGF0YSk7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdHMoZ2FtZURhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyRmFsbGluZ0ZpZ3VyZXMoZ2FtZURhdGE6IEdhbWVEYXRhKTogdm9pZCB7XG4gICAgICAgIGdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmZvckVhY2goZmFsbGluZ0ZpZ3VyZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlcGFpbnRGYWxsaW5nRmlndXJlc0NlbGxzKFxuICAgICAgICAgICAgICAgIGZhbGxpbmdGaWd1cmUuZmlndXJlLmdldFR1cm4oZmFsbGluZ0ZpZ3VyZS50dXJuU3RhdGUpLFxuICAgICAgICAgICAgICAgIGZhbGxpbmdGaWd1cmUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgZ2FtZURhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyRmFsbGluZ0ZpZ3VyZXNQcm9qZWN0aW9uKGdhbWVEYXRhOiBHYW1lRGF0YSk6IHZvaWQge1xuICAgICAgICBnYW1lRGF0YS5mYWxsaW5nRmlndXJlcy5mb3JFYWNoKGZhbGxpbmdGaWd1cmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlndXJlTWF0cml4ID0gZmFsbGluZ0ZpZ3VyZS5maWd1cmUuZ2V0VHVybihmYWxsaW5nRmlndXJlLnR1cm5TdGF0ZSk7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uRmlndXJlWCA9IGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0aW9uRmlndXJlWSA9IGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueTtcbiAgICAgICAgICAgIHdoaWxlKEZpZ3VyZVBsYWNpbmdDaGVja2VyLmNhbkZpZ3VyZUJlUGxhY2VkKGZpZ3VyZU1hdHJpeCwgbmV3IENvb3JkaW5hdGUocHJvamVjdGlvbkZpZ3VyZVgsIHByb2plY3Rpb25GaWd1cmVZICsgMSksIGdhbWVEYXRhLm1hdHJpeCkpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0aW9uRmlndXJlWSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXBhaW50UHJvamVjdGlvbkZpZ3VyZXNDZWxscyhcbiAgICAgICAgICAgICAgICBmaWd1cmVNYXRyaXgsXG4gICAgICAgICAgICAgICAgbmV3IENvb3JkaW5hdGUocHJvamVjdGlvbkZpZ3VyZVgsIHByb2plY3Rpb25GaWd1cmVZKSxcbiAgICAgICAgICAgICAgICBnYW1lRGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXBhaW50TWF0cml4Q2VsbHMobWF0cml4OiBib29sZWFuW11bXSwgaW5kZW50OiBDb29yZGluYXRlLCBnYW1lRGF0YTogR2FtZURhdGEpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNvbG9yczogQ2VsbENvbG9ycztcbiAgICAgICAgaWYgKGdhbWVEYXRhLmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIGNvbG9ycyA9IG5ldyBDZWxsQ29sb3JzKFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MubWF0cml4Q2VsbENvbG9ycy5maWxsZWRHYW1lT3ZlcixcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLm1hdHJpeENlbGxDb2xvcnMuZW1wdHksXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JzID0gbmV3IENlbGxDb2xvcnMoXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5tYXRyaXhDZWxsQ29sb3JzLmZpbGxlZCxcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLm1hdHJpeENlbGxDb2xvcnMuZW1wdHksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwYWludENlbGxzKG1hdHJpeCwgaW5kZW50LCBjb2xvcnMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVwYWludEZhbGxpbmdGaWd1cmVzQ2VsbHMobWF0cml4OiBib29sZWFuW11bXSwgaW5kZW50OiBDb29yZGluYXRlLCBnYW1lRGF0YTogR2FtZURhdGEpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNvbG9yczogQ2VsbENvbG9ycztcbiAgICAgICAgaWYgKGdhbWVEYXRhLmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIGNvbG9ycyA9IG5ldyBDZWxsQ29sb3JzKFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MuZmFsbGluZ0ZpZ3VyZUNlbGxDb2xvcnMuZmlsbGVkR2FtZU92ZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5mYWxsaW5nRmlndXJlQ2VsbENvbG9ycy5lbXB0eSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvcnMgPSBuZXcgQ2VsbENvbG9ycyhcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLmZhbGxpbmdGaWd1cmVDZWxsQ29sb3JzLmZpbGxlZCxcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLmZhbGxpbmdGaWd1cmVDZWxsQ29sb3JzLmVtcHR5LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcGFpbnRDZWxscyhtYXRyaXgsIGluZGVudCwgY29sb3JzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcGFpbnRQcm9qZWN0aW9uRmlndXJlc0NlbGxzKG1hdHJpeDogYm9vbGVhbltdW10sIGluZGVudDogQ29vcmRpbmF0ZSwgZ2FtZURhdGE6IEdhbWVEYXRhKTogdm9pZCB7XG4gICAgICAgIGxldCBjb2xvcnM6IENlbGxDb2xvcnM7XG4gICAgICAgIGlmIChnYW1lRGF0YS5pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICBjb2xvcnMgPSBuZXcgQ2VsbENvbG9ycyhcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLnByb2plY3Rpb25GaWd1cmVDZWxsQ29sb3JzLmZpbGxlZEdhbWVPdmVyLFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MucHJvamVjdGlvbkZpZ3VyZUNlbGxDb2xvcnMuZW1wdHksXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JzID0gbmV3IENlbGxDb2xvcnMoXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5wcm9qZWN0aW9uRmlndXJlQ2VsbENvbG9ycy5maWxsZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5wcm9qZWN0aW9uRmlndXJlQ2VsbENvbG9ycy5lbXB0eSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBhaW50Q2VsbHMobWF0cml4LCBpbmRlbnQsIGNvbG9ycyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXBhaW50Q2VsbHMobWF0cml4OiBib29sZWFuW11bXSwgaW5kZW50OiBDb29yZGluYXRlLCBjZWxsQ29sb3JzOiBDZWxsQ29sb3JzKTogdm9pZCB7XG4gICAgICAgIG1hdHJpeC5mb3JFYWNoKChyb3csIHkpID0+IHtcbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKCh2YWx1ZSwgeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxZID0geSArIGluZGVudC55O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxYID0geCArIGluZGVudC54O1xuICAgICAgICAgICAgICAgIGlmIChyZWFsWSBpbiB0aGlzLmNlbGxzSHRtbEVsZW1lbnRzTWFwXG4gICAgICAgICAgICAgICAgICAgICYmIHJlYWxYIGluIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbcmVhbFldXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdmFsdWUgPyBjZWxsQ29sb3JzLmZpbGxlZCA6IGNlbGxDb2xvcnMuZW1wdHk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jZWxsc0h0bWxFbGVtZW50c01hcFtyZWFsWV1bcmVhbFhdLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclN0YXRzKGdhbWVEYXRhOiBHYW1lRGF0YSk6IHZvaWQge1xuICAgICAgICBjb25zdCBsZXZlbFNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKTtcbiAgICAgICAgY29uc3Qgc2NvcmVTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlJyk7XG4gICAgICAgIGNvbnN0IGNvbWJvU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21ibycpO1xuICAgICAgICBpZiAobGV2ZWxTcGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXZlbFNwYW4uaW5uZXJIVE1MID0gZ2FtZURhdGEubGV2ZWwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NvcmVTcGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzY29yZVNwYW4uaW5uZXJIVE1MID0gZ2FtZURhdGEuc2NvcmUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tYm9TcGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21ib1NwYW4uaW5uZXJIVE1MID0gZ2FtZURhdGEuY29tYm8udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGNyZWF0ZUh0bWxFbGVtZW50KGh0bWw6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggPiAxIHx8IGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgJ1RoZSBIVE1MIG11c3QgY29udGFpbiBvbmx5IG9uZSBjaGlsZCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgdHJ5aW5nIHRvIGdldCBIVE1MRWxlbWVudCBjaGlsZCBmcm9tIGRpdic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9XG59XG4iLCJpbXBvcnQge0Nvb3JkaW5hdGUsIEZhbGxpbmdGaWd1cmUsIEdhbWVEYXRhfSBmcm9tIFwiLi4vQ29tbW9uXCI7XG5pbXBvcnQge0Ryb3BGaWd1cmVzQ29tbWFuZCwgQ29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEdhbWVPdmVyQ29tbWFuZCwgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtFdmVudEJ1cywgRmFsbFRpY2tQcm9jZXNzZWRFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0ZpZ3VyZVBsYWNpbmdDaGVja2VyfSBmcm9tIFwiLi4vVXRpbHMvRmlndXJlUGxhY2luZ0NoZWNrZXJcIjtcblxuY2xhc3MgRmFsbGluZ1Jlc3VsdCB7XG4gICAgcHVibGljIHRyYW5zZmVycmVkRmlndXJlczogRmFsbGluZ0ZpZ3VyZVtdID0gW107XG4gICAgcHVibGljIGlzR2FtZU92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlZ3VsYXJGYWxsaW5nRmlndXJlc1Byb2Nlc3NvciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkZpZ3VyZXNGYWxsVGljaywgdGhpcy5wcm9jZXNzRmlndXJlc0ZhbGxUaWNrQ29tbWFuZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuRmlndXJlc0ZhbGxEb3duLCB0aGlzLnByb2Nlc3NEcm9wRmlndXJlc0NvbW1hbmQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzRmlndXJlc0ZhbGxUaWNrQ29tbWFuZChjb21tYW5kOiBGaWd1cmVzRmFsbFRpY2tDb21tYW5kKSB7XG4gICAgICAgIGNvbnN0IGZhbGxpbmdSZXN1bHQgPSB0aGlzLmZhbGxGaWd1cmVzRm9yT25lQ2VsbChjb21tYW5kLmdhbWVEYXRhKTtcbiAgICAgICAgbGV0IHNxdWFzaGVkTGluZXMgPSB0aGlzLnNxdWFzaExpbmVzKGNvbW1hbmQuZ2FtZURhdGEubWF0cml4KTtcbiAgICAgICAgaWYgKGZhbGxpbmdSZXN1bHQuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgR2FtZU92ZXJDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50QnVzLmZpcmUobmV3IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQoXG4gICAgICAgICAgICBjb21tYW5kLmdhbWVEYXRhLFxuICAgICAgICAgICAgZmFsbGluZ1Jlc3VsdC50cmFuc2ZlcnJlZEZpZ3VyZXMsXG4gICAgICAgICAgICBzcXVhc2hlZExpbmVzLFxuICAgICAgICAgICAgMFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NEcm9wRmlndXJlc0NvbW1hbmQoY29tbWFuZDogRHJvcEZpZ3VyZXNDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGxldCBmYWxsaW5nUmVzdWx0ID0gbmV3IEZhbGxpbmdSZXN1bHQoKTtcbiAgICAgICAgbGV0IGRyb3BwZWRMaW5lcyA9IDA7XG4gICAgICAgIHdoaWxlIChjb21tYW5kLmdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG9uZUNlbGxGYWxsaW5nUmVzdWx0ID0gdGhpcy5mYWxsRmlndXJlc0Zvck9uZUNlbGwoY29tbWFuZC5nYW1lRGF0YSk7XG4gICAgICAgICAgICBmYWxsaW5nUmVzdWx0LnRyYW5zZmVycmVkRmlndXJlcy5wdXNoKC4uLm9uZUNlbGxGYWxsaW5nUmVzdWx0LnRyYW5zZmVycmVkRmlndXJlcyk7XG4gICAgICAgICAgICBmYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXIgPSBmYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXIgfHwgb25lQ2VsbEZhbGxpbmdSZXN1bHQuaXNHYW1lT3ZlcjtcbiAgICAgICAgICAgIGRyb3BwZWRMaW5lcysrO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzcXVhc2hlZExpbmVzID0gdGhpcy5zcXVhc2hMaW5lcyhjb21tYW5kLmdhbWVEYXRhLm1hdHJpeCk7XG4gICAgICAgIGlmIChmYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IEdhbWVPdmVyQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudEJ1cy5maXJlKG5ldyBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KFxuICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YSxcbiAgICAgICAgICAgIGZhbGxpbmdSZXN1bHQudHJhbnNmZXJyZWRGaWd1cmVzLFxuICAgICAgICAgICAgc3F1YXNoZWRMaW5lcyxcbiAgICAgICAgICAgIGRyb3BwZWRMaW5lcyAtIDEsXG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmFsbEZpZ3VyZXNGb3JPbmVDZWxsKGdhbWVEYXRhOiBHYW1lRGF0YSk6IEZhbGxpbmdSZXN1bHQge1xuICAgICAgICBsZXQgZmFsbGluZ1Jlc3VsdCA9IG5ldyBGYWxsaW5nUmVzdWx0KCk7XG4gICAgICAgIGdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmZvckVhY2goKGZhbGxpbmdGaWd1cmUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWd1cmVDYW5GYWxsKGdhbWVEYXRhLm1hdHJpeCwgZmFsbGluZ0ZpZ3VyZSkpIHtcbiAgICAgICAgICAgICAgICBmYWxsaW5nRmlndXJlLnBvc2l0aW9uLnkrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpZ3VyZUdhbWVPdmVyUmVzdWx0ID0gdGhpcy50cmFuc2ZlckZpZ3VyZVRvTWF0cml4KFxuICAgICAgICAgICAgICAgICAgICBnYW1lRGF0YS5tYXRyaXgsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxpbmdGaWd1cmVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGZhbGxpbmdSZXN1bHQudHJhbnNmZXJyZWRGaWd1cmVzLnB1c2goLi4uZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuc3BsaWNlKGluZGV4LCAxKSk7XG4gICAgICAgICAgICAgICAgZmFsbGluZ1Jlc3VsdC5pc0dhbWVPdmVyID0gZmFsbGluZ1Jlc3VsdC5pc0dhbWVPdmVyIHx8IGZpZ3VyZUdhbWVPdmVyUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbGxpbmdSZXN1bHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmVDYW5GYWxsKG1hdHJpeDogYm9vbGVhbltdW10sIGZhbGxpbmdGaWd1cmU6IEZhbGxpbmdGaWd1cmUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEZpZ3VyZVBsYWNpbmdDaGVja2VyLmNhbkZpZ3VyZUJlUGxhY2VkKFxuICAgICAgICAgICAgZmFsbGluZ0ZpZ3VyZS5maWd1cmUuZ2V0VHVybihmYWxsaW5nRmlndXJlLnR1cm5TdGF0ZSksXG4gICAgICAgICAgICBuZXcgQ29vcmRpbmF0ZShmYWxsaW5nRmlndXJlLnBvc2l0aW9uLngsIGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueSArIDEpLFxuICAgICAgICAgICAgbWF0cml4XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0cmFuc2ZlckZpZ3VyZVRvTWF0cml4KG1hdHJpeDogYm9vbGVhbltdW10sIGZhbGxpbmdGaWd1cmU6IEZhbGxpbmdGaWd1cmUpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGlzR2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgZmFsbGluZ0ZpZ3VyZS5maWd1cmUuZ2V0VHVybihmYWxsaW5nRmlndXJlLnR1cm5TdGF0ZSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChyb3csIGZpZ3VyZUNlbGxZKSA9PiB7XG4gICAgICAgICAgICAgICAgcm93LmZvckVhY2goKGNlbGxWYWx1ZSwgZmlndXJlQ2VsbFgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjZWxsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0cml4WCA9IGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueCArIGZpZ3VyZUNlbGxYO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0cml4WSA9IGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueSArIGZpZ3VyZUNlbGxZO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0cml4WSBpbiBtYXRyaXhcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIG1hdHJpeFggaW4gbWF0cml4W21hdHJpeFldXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAhbWF0cml4W21hdHJpeFldW21hdHJpeFhdXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W21hdHJpeFldW21hdHJpeFhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzR2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzR2FtZU92ZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcXVhc2hMaW5lcyhtYXRyaXg6IGJvb2xlYW5bXVtdKTogbnVtYmVyW10ge1xuICAgICAgICBsZXQgbGluZXNUb1NxdWFzaDogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgeSkgPT4ge1xuICAgICAgICAgICAgbGV0IGNhbkJlU3F1YXNoZWQgPSByb3cuZXZlcnkoY2VsbCA9PiBjZWxsKTtcbiAgICAgICAgICAgIGlmIChjYW5CZVNxdWFzaGVkKSB7XG4gICAgICAgICAgICAgICAgbGluZXNUb1NxdWFzaC5wdXNoKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICAgICAgbGluZXNUb1NxdWFzaC5mb3JFYWNoKHkgPT4ge1xuICAgICAgICAgICAgbWF0cml4LnNwbGljZSh5LCAxKTtcbiAgICAgICAgICAgIG1hdHJpeC51bnNoaWZ0KG5ldyBBcnJheShtYXRyaXhbMF0ubGVuZ3RoKS5maWxsKGZhbHNlKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbGluZXNUb1NxdWFzaDtcbiAgICB9XG59XG4iLCJpbXBvcnQge0V2ZW50QnVzLCBFdmVudFR5cGUsIEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnR9IGZyb20gXCIuLi9FdmVudEJ1cy9FdmVudEJ1c1wiO1xuaW1wb3J0IHtGaWd1cmVUdXJuU3RhdGV9IGZyb20gXCIuLi9GaWd1cmVzXCI7XG5pbXBvcnQge0Nvb3JkaW5hdGUsIEZhbGxpbmdGaWd1cmUsIEdhbWVEYXRhfSBmcm9tIFwiLi4vQ29tbW9uXCI7XG5pbXBvcnQge0NvbW1hbmRCdXMsIENvbW1hbmRUeXBlLCBJbml0R2FtZUNvbW1hbmR9IGZyb20gXCIuLi9Db21tYW5kQnVzL0NvbW1hbmRCdXNcIjtcblxuZXhwb3J0IGNsYXNzIEFsd2F5c09uZUZpZ3VyZVNwYXduZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICkge1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Jbml0R2FtZSwgdGhpcy5pbml0SGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRIYW5kbGVyKGV2ZW50OiBJbml0R2FtZUNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hZGRGaWd1cmUoZXZlbnQuZ2FtZURhdGEpO1xuICAgICAgICB0aGlzLmV2ZW50QnVzLm9uKFxuICAgICAgICAgICAgRXZlbnRUeXBlLkZhbGxpbmdUaWNrUHJvY2Vzc2VkLFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzT25GYWxsVGljay5iaW5kKHRoaXMpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc09uRmFsbFRpY2soZXZlbnQ6IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hZGRGaWd1cmUoZXZlbnQuZ2FtZURhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkRmlndXJlKGdhbWVEYXRhOiBHYW1lRGF0YSk6IHZvaWQge1xuICAgICAgICBpZiAoZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMubGVuZ3RoID4gMCB8fCBnYW1lRGF0YS5pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWd1cmVJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGdhbWVEYXRhLnNldHRpbmdzLmZpZ3VyZXMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgZmlndXJlID0gZ2FtZURhdGEuc2V0dGluZ3MuZmlndXJlc1tmaWd1cmVJbmRleF07XG4gICAgICAgIGNvbnN0IHR1cm5TdGF0ZSA9IHRoaXMuZ2V0UmFuZFR1cm5TdGF0ZSgpO1xuICAgICAgICBjb25zdCBmaWd1cmVNYXRyaXggPSBmaWd1cmUuZ2V0VHVybih0dXJuU3RhdGUpO1xuICAgICAgICBjb25zdCBmaWd1cmVXaWR0aCA9IE1hdGgubWF4KC4uLmZpZ3VyZU1hdHJpeC5tYXAocm93ID0+IHJvdy5sZW5ndGgpKTtcbiAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IG5ldyBDb29yZGluYXRlKFxuICAgICAgICAgICAgTWF0aC5jZWlsKGdhbWVEYXRhLnNldHRpbmdzLmZpZWxkV2lkdGggLyAyIC0gZmlndXJlV2lkdGggLyAyKSAtIDEsXG4gICAgICAgICAgICAtZmlndXJlTWF0cml4Lmxlbmd0aCxcbiAgICAgICAgKTtcbiAgICAgICAgZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMucHVzaChuZXcgRmFsbGluZ0ZpZ3VyZShcbiAgICAgICAgICAgIGZpZ3VyZSxcbiAgICAgICAgICAgIGNvb3JkaW5hdGUsXG4gICAgICAgICAgICB0dXJuU3RhdGVcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRSYW5kVHVyblN0YXRlKCk6IEZpZ3VyZVR1cm5TdGF0ZSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhGaWd1cmVUdXJuU3RhdGUpO1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ga2V5c1xuICAgICAgICAgICAgLm1hcChuID0+IE51bWJlci5wYXJzZUludChuKSlcbiAgICAgICAgICAgIC5maWx0ZXIobiA9PiAhTnVtYmVyLmlzTmFOKG4pKSBhcyB1bmtub3duIGFzIEZpZ3VyZVR1cm5TdGF0ZVtdXG4gICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZW51bVZhbHVlcy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gZW51bVZhbHVlc1tyYW5kb21JbmRleF07XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb21tYW5kQnVzLCBDb21tYW5kVHlwZSwgTW92ZUxlZnRDb21tYW5kLCBNb3ZlUmlnaHRDb21tYW5kLCBUdXJuQ2xvY2t3aXNlQ29tbWFuZCwgTW92ZURvd25Db21tYW5kLCBGaWd1cmVzRmFsbFRpY2tDb21tYW5kfSBmcm9tIFwiLi4vQ29tbWFuZEJ1cy9Db21tYW5kQnVzXCI7XG5pbXBvcnQge0ZpZ3VyZVR1cm5TdGF0ZX0gZnJvbSBcIi4uL0ZpZ3VyZXNcIjtcbmltcG9ydCB7RXZlbnRCdXMsIEZpZ3VyZXNNb3ZlZEV2ZW50fSBmcm9tIFwiLi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7Q29vcmRpbmF0ZSwgRmFsbGluZ0ZpZ3VyZX0gZnJvbSBcIi4uL0NvbW1vblwiO1xuaW1wb3J0IHtGaWd1cmVQbGFjaW5nQ2hlY2tlcn0gZnJvbSBcIi4uL1V0aWxzL0ZpZ3VyZVBsYWNpbmdDaGVja2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNb3ZpbmdIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuTW92ZUxlZnQsIHRoaXMucHJvY2Vzc01vdmVMZWZ0Q29tbWFuZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuTW92ZVJpZ2h0LCB0aGlzLnByb2Nlc3NNb3ZlUmlnaHRDb21tYW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Nb3ZlRG93biwgdGhpcy5wcm9jZXNzTW92ZURvd25Db21tYW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5UdXJuQ2xvY2t3aXNlLCB0aGlzLnByb2Nlc3NUdXJuQ2xvY2t3aXNlQ29tbWFuZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NNb3ZlTGVmdENvbW1hbmQoY29tbWFuZDogTW92ZUxlZnRDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGNvbW1hbmQuZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuZm9yRWFjaChmaWd1cmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FuQmVNb3ZlZExlZnQgPSBGaWd1cmVQbGFjaW5nQ2hlY2tlci5jYW5GaWd1cmVCZVBsYWNlZChcbiAgICAgICAgICAgICAgICBmaWd1cmUuZmlndXJlLmdldFR1cm4oZmlndXJlLnR1cm5TdGF0ZSksXG4gICAgICAgICAgICAgICAgbmV3IENvb3JkaW5hdGUoZmlndXJlLnBvc2l0aW9uLnggLSAxLCBmaWd1cmUucG9zaXRpb24ueSksXG4gICAgICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YS5tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoY2FuQmVNb3ZlZExlZnQpIHtcbiAgICAgICAgICAgICAgICBmaWd1cmUucG9zaXRpb24ueC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5maXJlKG5ldyBGaWd1cmVzTW92ZWRFdmVudChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzTW92ZVJpZ2h0Q29tbWFuZChjb21tYW5kOiBNb3ZlUmlnaHRDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGNvbW1hbmQuZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuZm9yRWFjaChmaWd1cmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FuQmVNb3ZlZFJpZ2h0ID0gRmlndXJlUGxhY2luZ0NoZWNrZXIuY2FuRmlndXJlQmVQbGFjZWQoXG4gICAgICAgICAgICAgICAgZmlndXJlLmZpZ3VyZS5nZXRUdXJuKGZpZ3VyZS50dXJuU3RhdGUpLFxuICAgICAgICAgICAgICAgIG5ldyBDb29yZGluYXRlKGZpZ3VyZS5wb3NpdGlvbi54ICsgMSwgZmlndXJlLnBvc2l0aW9uLnkpLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQuZ2FtZURhdGEubWF0cml4XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGNhbkJlTW92ZWRSaWdodCkge1xuICAgICAgICAgICAgICAgIGZpZ3VyZS5wb3NpdGlvbi54Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV2ZW50QnVzLmZpcmUobmV3IEZpZ3VyZXNNb3ZlZEV2ZW50KGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NUdXJuQ2xvY2t3aXNlQ29tbWFuZChjb21tYW5kOiBUdXJuQ2xvY2t3aXNlQ29tbWFuZCk6IHZvaWQge1xuICAgICAgICBjb25zdCBhbGxUdXJuU3RhdGVzID0gdGhpcy5nZXRUdXJuU3RhdGVzQXNBcnJheSgpO1xuICAgICAgICBjb21tYW5kLmdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmZvckVhY2goZmlndXJlID0+IHtcbiAgICAgICAgICAgIGxldCBuZXh0VHVyblN0YXRlID0gZmlndXJlLnR1cm5TdGF0ZSArIDE7XG4gICAgICAgICAgICBpZiAoIShuZXh0VHVyblN0YXRlIGluIGFsbFR1cm5TdGF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgbmV4dFR1cm5TdGF0ZSA9IGFsbFR1cm5TdGF0ZXNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYW5CZVR1cm5lZCA9IEZpZ3VyZVBsYWNpbmdDaGVja2VyLmNhbkZpZ3VyZUJlUGxhY2VkKFxuICAgICAgICAgICAgICAgIGZpZ3VyZS5maWd1cmUuZ2V0VHVybihuZXh0VHVyblN0YXRlKSxcbiAgICAgICAgICAgICAgICBmaWd1cmUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YS5tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoY2FuQmVUdXJuZWQpIHtcbiAgICAgICAgICAgICAgICBmaWd1cmUudHVyblN0YXRlID0gbmV4dFR1cm5TdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgRmlndXJlc01vdmVkRXZlbnQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc01vdmVEb3duQ29tbWFuZChjb21tYW5kOiBNb3ZlRG93bkNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUdXJuU3RhdGVzQXNBcnJheSgpOiBGaWd1cmVUdXJuU3RhdGVbXSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhGaWd1cmVUdXJuU3RhdGUpXG4gICAgICAgICAgICAubWFwKG4gPT4gTnVtYmVyLnBhcnNlSW50KG4pKVxuICAgICAgICAgICAgLmZpbHRlcihuID0+ICFOdW1iZXIuaXNOYU4obikpIGFzIHVua25vd24gYXMgRmlndXJlVHVyblN0YXRlW107XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb21tYW5kQnVzLCBDb21tYW5kVHlwZSwgRHJvcEZpZ3VyZXNDb21tYW5kLCBJbml0R2FtZUNvbW1hbmQsIE1vdmVMZWZ0Q29tbWFuZCwgTW92ZVJpZ2h0Q29tbWFuZCwgVHVybkNsb2Nrd2lzZUNvbW1hbmQsIE1vdmVEb3duQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0NvbW1vblwiO1xuXG5leHBvcnQgY2xhc3MgTW92aW5nQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1c1xuICAgICkge1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Jbml0R2FtZSwgdGhpcy5wcm9jZXNzSW5pdEdhbWVDb21tYW5kLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc0luaXRHYW1lQ29tbWFuZChjb21tYW5kOiBJbml0R2FtZUNvbW1hbmQpIHtcbiAgICAgICAgd2luZG93Lm9ua2V5ZG93biA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jb2RlID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IE1vdmVMZWZ0Q29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IE1vdmVSaWdodENvbW1hbmQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5jb2RlID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBUdXJuQ2xvY2t3aXNlQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgTW92ZURvd25Db21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY29kZSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBNb3ZlRG93bkNvbW1hbmQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5jb2RlID09PSAnU3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgRHJvcEZpZ3VyZXNDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1RpbWluZ3NIYW5kbGVyfSBmcm9tIFwiLi9UaW1pbmdzSGFuZGxlclwiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0NvbW1vblwiO1xuXG5leHBvcnQgY2xhc3MgTGV2ZWxCYXNlZFRpbWluZ3NIYW5kbGVyIGltcGxlbWVudHMgVGltaW5nc0hhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGluaXRpYWxEZWxheU1zOiBudW1iZXIsXG4gICAgKSB7fVxuXG4gICAgZ2V0RGVsYXlGb3JOZXh0VGlja01zKGdhbWVEYXRhOiBHYW1lRGF0YSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdygwLjggLSAoZ2FtZURhdGEubGV2ZWwgLSAxKSAqIDAuMDA3LCBnYW1lRGF0YS5sZXZlbCAtIDEpICogdGhpcy5pbml0aWFsRGVsYXlNcztcbiAgICB9XG59XG4iLCJpbXBvcnQge0V2ZW50QnVzLCBFdmVudFR5cGUsIEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnR9IGZyb20gXCIuLi9FdmVudEJ1cy9FdmVudEJ1c1wiO1xuaW1wb3J0IHtDb21tYW5kQnVzLCBDb21tYW5kVHlwZSwgSW5pdEdhbWVDb21tYW5kfSBmcm9tIFwiLi4vQ29tbWFuZEJ1cy9Db21tYW5kQnVzXCI7XG5cbmV4cG9ydCBjbGFzcyBGYWxsVGlja1Njb3JlQ291bnRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgICAgIHByaXZhdGUgc3F1YXNoZWRSb3dzUmV3YXJkVGhyZXNob2xkc01hcDogTWFwPG51bWJlciwgbnVtYmVyPiA9IG5ldyBNYXAoW1xuICAgICAgICAgICAgWzEsIDEwMF0sXG4gICAgICAgICAgICBbMiwgMzAwXSxcbiAgICAgICAgICAgIFszLCA1MDBdLFxuICAgICAgICAgICAgWzQsIDgwMF0sXG4gICAgICAgIF0pLFxuICAgICAgICBwcml2YXRlIHJld2FyZE9uQ29tYm8gPSA1MCxcbiAgICApIHtcbiAgICAgICAgY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkluaXRHYW1lLCB0aGlzLmluaXRHYW1lSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRHYW1lSGFuZGxlcihjb21tYW5kOiBJbml0R2FtZUNvbW1hbmQpIHtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuRmFsbGluZ1RpY2tQcm9jZXNzZWQsIHRoaXMub25GYWxsaW5nVGlja1Byb2Nlc3NlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRmFsbGluZ1RpY2tQcm9jZXNzZWQoZXZlbnQ6IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnNxdWFzaGVkTGluZXMubGVuZ3RoIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXZpb3VzVGhyZXNob2xkUmV3YXJkID0gMDtcbiAgICAgICAgdGhpcy5zcXVhc2hlZFJvd3NSZXdhcmRUaHJlc2hvbGRzTWFwLmZvckVhY2goKHJld2FyZCwgcm93c1NxdWFzaGVkVGhyZXNob2xkKSA9PiB7XG4gICAgICAgICAgICBpZiAocm93c1NxdWFzaGVkVGhyZXNob2xkID4gZXZlbnQuc3F1YXNoZWRMaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91c1RocmVzaG9sZFJld2FyZCA9IHJld2FyZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50LmdhbWVEYXRhLnNjb3JlICs9XG4gICAgICAgICAgICBwcmV2aW91c1RocmVzaG9sZFJld2FyZCAqIGV2ZW50LmdhbWVEYXRhLmxldmVsXG4gICAgICAgICAgICArIHRoaXMucmV3YXJkT25Db21ibyAqIE1hdGgubWF4KDAsIGV2ZW50LmdhbWVEYXRhLmNvbWJvIC0gMSkgKiBldmVudC5nYW1lRGF0YS5sZXZlbFxuICAgICAgICAgICAgKyBldmVudC5kcm9wcGVkTGluZXMgKiAyICogZXZlbnQuZ2FtZURhdGEubGV2ZWw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFdmVudEJ1cywgRXZlbnRUeXBlLCBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50fSBmcm9tIFwiLi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEluaXRHYW1lQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuXG5leHBvcnQgY2xhc3MgU3F1YXNoZWRSb3dzQ291bnRlckJhc2VkTGV2ZWxDb3VudGVyIHtcbiAgICBwcml2YXRlIHNxdWFzaGVkUm93c0NvdW50ZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZXZlbnRCdXM6IEV2ZW50QnVzLFxuICAgICAgICBwcml2YXRlIGNvbW1hbmRCdXM6IENvbW1hbmRCdXMsXG4gICAgICAgIHByaXZhdGUgbGV2ZWxJbmNyZWFzZU9uU3F1YXNoZWRSb3dzTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIHByaXZhdGUgbWF4TGV2ZWxzOiBudW1iZXIsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkluaXRHYW1lLCB0aGlzLnByb2Nlc3NJbml0R2FtZUNvbW1hbmQuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NJbml0R2FtZUNvbW1hbmQoY29tbWFuZDogSW5pdEdhbWVDb21tYW5kKSB7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMub24oRXZlbnRUeXBlLkZhbGxpbmdUaWNrUHJvY2Vzc2VkLCB0aGlzLm9uRmFsbFRpY2tQcm9jZXNzZWQuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRmFsbFRpY2tQcm9jZXNzZWQoZXZlbnQ6IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnNxdWFzaGVkTGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcXVhc2hlZFJvd3NDb3VudGVyKys7XG4gICAgICAgIGlmICh0aGlzLnNxdWFzaGVkUm93c0NvdW50ZXIgPj0gdGhpcy5sZXZlbEluY3JlYXNlT25TcXVhc2hlZFJvd3NOdW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3F1YXNoZWRSb3dzQ291bnRlciA9IDA7XG4gICAgICAgICAgICBldmVudC5nYW1lRGF0YS5sZXZlbCA9IE1hdGgubWluKHRoaXMubWF4TGV2ZWxzLCBldmVudC5nYW1lRGF0YS5sZXZlbCArIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFdmVudEJ1cywgRXZlbnRUeXBlLCBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50fSBmcm9tIFwiLi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEluaXRHYW1lQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuXG5leHBvcnQgY2xhc3MgQ29tYm9Db3VudGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGNvbW1hbmRCdXM6IENvbW1hbmRCdXMsXG4gICAgICAgIHB1YmxpYyBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgKSB7XG4gICAgICAgIGNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Jbml0R2FtZSwgdGhpcy5pbml0R2FtZUhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0R2FtZUhhbmRsZXIoY29tbWFuZDogSW5pdEdhbWVDb21tYW5kKSB7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMub24oRXZlbnRUeXBlLkZhbGxpbmdUaWNrUHJvY2Vzc2VkLCB0aGlzLm9uRmFsbGluZ1RpY2tQcm9jZXNzZWQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkZhbGxpbmdUaWNrUHJvY2Vzc2VkKGV2ZW50OiBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50cmFuc2ZlcnJlZFRvTWF0cml4RmlndXJlcy5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5zcXVhc2hlZExpbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGV2ZW50LmdhbWVEYXRhLmNvbWJvICs9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBldmVudC5nYW1lRGF0YS5jb21ibyA9IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0dhbWVDb250cm9sbGVyfSBmcm9tICcuL0dhbWVDb250cm9sbGVyJ1xuaW1wb3J0IHtUYWJsZVJlbmRlcmVyLCBUYWJsZVJlbmRlcmVyU2V0dGluZ3N9IGZyb20gJy4vUmVuZGVyZXIvVGFibGVSZW5kZXJlcidcbmltcG9ydCB7UmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yfSBmcm9tIFwiLi9GYWxsaW5nRmlndXJlc1Byb2Nlc3Nvci9SZWd1bGFyRmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3JcIjtcbmltcG9ydCB7QWx3YXlzT25lRmlndXJlU3Bhd25lcn0gZnJvbSBcIi4vRmlndXJlc1NwYXduZXIvQWx3YXlzT25lRmlndXJlU3Bhd25lclwiO1xuaW1wb3J0IHtFdmVudEJ1c30gZnJvbSBcIi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7Q29tbWFuZEJ1cywgSW5pdEdhbWVDb21tYW5kLCBQYXVzZUdhbWVDb21tYW5kLCBSZXN1bWVHYW1lQ29tbWFuZH0gZnJvbSBcIi4vQ29tbWFuZEJ1cy9Db21tYW5kQnVzXCI7XG5pbXBvcnQge01vdmluZ0hhbmRsZXJ9IGZyb20gXCIuL01vdmluZ0hhbmRsZXIvTW92aW5nSGFuZGxlclwiO1xuaW1wb3J0IHtNb3ZpbmdDb250cm9sbGVyfSBmcm9tIFwiLi9Nb3ZpbmdDb250cm9sbGVyL01vdmluZ0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7TGV2ZWxCYXNlZFRpbWluZ3NIYW5kbGVyfSBmcm9tIFwiLi9UaW1pbmdzSGFuZGxlci9MZXZlbEJhc2VkVGltaW5nc0hhbmRsZXJcIjtcbmltcG9ydCB7RmFsbFRpY2tTY29yZUNvdW50ZXJ9IGZyb20gXCIuL1Njb3JlQ291bnRlci9GYWxsVGlja1Njb3JlQ291bnRlclwiO1xuaW1wb3J0IHtTcXVhc2hlZFJvd3NDb3VudGVyQmFzZWRMZXZlbENvdW50ZXJ9IGZyb20gXCIuL0xldmVsQ291bnRlci9TcXVhc2hlZFJvd3NDb3VudGVyQmFzZWRMZXZlbENvdW50ZXJcIjtcbmltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuL0NvbW1vblwiO1xuaW1wb3J0IHtDb21ib0NvdW50ZXJ9IGZyb20gXCIuL0NvbWJvQ291bnRlci9Db21ib0NvdW50ZXJcIjtcblxuZXhwb3J0IGNsYXNzIFRldHJpc0ZhY2FkZSB7XG4gICAgcHJpdmF0ZSBldmVudEJ1cyA9IG5ldyBFdmVudEJ1cygpO1xuICAgIHByaXZhdGUgY29tbWFuZEJ1cyA9IG5ldyBDb21tYW5kQnVzKCk7XG4gICAgcHJpdmF0ZSBnYW1lQ29udHJvbGxlciA9IG5ldyBHYW1lQ29udHJvbGxlcihcbiAgICAgICAgbmV3IExldmVsQmFzZWRUaW1pbmdzSGFuZGxlcigyMDAwKSxcbiAgICAgICAgdGhpcy5ldmVudEJ1cyxcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICk7XG4gICAgcHJpdmF0ZSBtb3ZpbmdIYW5kbGVyID0gbmV3IE1vdmluZ0hhbmRsZXIoXG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cyxcbiAgICAgICAgdGhpcy5ldmVudEJ1cyxcbiAgICApO1xuICAgIHByaXZhdGUgbW92aW5nQ29udHJvbGxlciA9IG5ldyBNb3ZpbmdDb250cm9sbGVyKFxuICAgICAgICB0aGlzLmNvbW1hbmRCdXMsXG4gICAgKTtcbiAgICBwcml2YXRlIGZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yID0gbmV3IFJlZ3VsYXJGYWxsaW5nRmlndXJlc1Byb2Nlc3NvcihcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICAgICB0aGlzLmV2ZW50QnVzXG4gICAgKTtcbiAgICBwcml2YXRlIGZpZ3VyZXNTcGF3bmVyID0gbmV3IEFsd2F5c09uZUZpZ3VyZVNwYXduZXIoXG4gICAgICAgIHRoaXMuZXZlbnRCdXMsXG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cyxcbiAgICApO1xuICAgIHByaXZhdGUgbGV2ZWxDb3VudGVyID0gbmV3IFNxdWFzaGVkUm93c0NvdW50ZXJCYXNlZExldmVsQ291bnRlcihcbiAgICAgICAgdGhpcy5ldmVudEJ1cyxcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICAgICA4LFxuICAgICAgICAxNSxcbiAgICApO1xuICAgIHByaXZhdGUgY29tYm9Db3VudGVyID0gbmV3IENvbWJvQ291bnRlcihcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICAgICB0aGlzLmV2ZW50QnVzLFxuICAgICk7XG4gICAgcHJpdmF0ZSBzY29yZUNvdW50ZXIgPSBuZXcgRmFsbFRpY2tTY29yZUNvdW50ZXIoXG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cyxcbiAgICAgICAgdGhpcy5ldmVudEJ1cyxcbiAgICApO1xuICAgIHByaXZhdGUgdGFibGVSZW5kZXJlciA9IG5ldyBUYWJsZVJlbmRlcmVyKFxuICAgICAgICBuZXcgVGFibGVSZW5kZXJlclNldHRpbmdzKFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keSxcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICAgICB0aGlzLmV2ZW50QnVzXG4gICAgKTtcbiAgICBwdWJsaWMgZ2FtZURhdGEgPSBHYW1lRGF0YS5tYWtlU2ltcGxlKCk7XG5cbiAgICBwdWJsaWMgc3RhcnQoZ2FtZURhdGE/OiBHYW1lRGF0YSkge1xuICAgICAgICB0aGlzLmdhbWVEYXRhID0gZ2FtZURhdGEgfHwgR2FtZURhdGEubWFrZVNpbXBsZSgpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBJbml0R2FtZUNvbW1hbmQodGhpcy5nYW1lRGF0YSkpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBSZXN1bWVHYW1lQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc3VtZSgpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUmVzdW1lR2FtZUNvbW1hbmQodGhpcy5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUGF1c2VHYW1lQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV0cmlzRmFjYWRlIH0gZnJvbSAnLi9UZXRyaXMvVGV0cmlzRmFjYWRlJ1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgIGxldCB0ZXRyaXMgPSBuZXcgVGV0cmlzRmFjYWRlKCk7XG4gICAgdGV0cmlzLnN0YXJ0KCk7XG59KVxuIl0sIm5hbWVzIjpbIkV2ZW50VHlwZSIsIkNvbW1hbmRUeXBlIiwiZ2FtZURhdGEiLCJ0cmFuc2ZlcnJlZFRvTWF0cml4RmlndXJlcyIsInNxdWFzaGVkTGluZXMiLCJkcm9wcGVkTGluZXMiLCJnZXRFdmVudFR5cGUiLCJGYWxsaW5nVGlja1Byb2Nlc3NlZCIsIkdhbWVPdmVyIiwiRmlndXJlc01vdmVkIiwiaGFuZGxlcnMiLCJNYXAiLCJvbiIsImV2ZW50IiwiaGFuZGxlciIsInVuaXF1ZSIsInRoaXMiLCJnZXQiLCJzb21lIiwiYm91bmRIYW5kbGVyIiwicHVzaCIsInNldCIsIm9mZiIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZpcmUiLCJldmVudFBheWxvYWQiLCJmb3JFYWNoIiwiRmlndXJlVHVyblN0YXRlIiwiZ2V0Q29tbWFuZFR5cGUiLCJJbml0R2FtZSIsIlJlc3VtZUdhbWUiLCJQYXVzZUdhbWUiLCJGaWd1cmVzRmFsbFRpY2siLCJSZW5kZXIiLCJNb3ZlTGVmdCIsIk1vdmVSaWdodCIsIlR1cm5DbG9ja3dpc2UiLCJNb3ZlRG93biIsIkZpZ3VyZXNGYWxsRG93biIsImFkZEhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwicnVuIiwicGF5bG9hZCIsImdldE5vcm1hbGl6ZWRGaWd1cmUiLCJmaWd1cmUiLCJnZXRGaWd1cmUiLCJ0aGVMb25nZXN0Um93U2l6ZSIsInJlZHVjZSIsInByZXZpb3VzIiwiY3VycmVudCIsIk1hdGgiLCJtYXgiLCJsZW5ndGgiLCJtYXAiLCJyb3ciLCJvcmlnaW5hbExlbmd0aCIsImZpbGwiLCJnZXRGaXJzdFR1cm4iLCJnZXRTZWNvbmRUdXJuIiwib3JpZ2luYWxGaWd1cmUiLCJ0dXJuZWRGaWd1cmUiLCJvcmlnaW5hbEZpZ3VyZUhlaWdodCIsIm9yaWdpbmFsRmlndXJlV2lkdGgiLCJ4IiwiQXJyYXkiLCJ5IiwiZ2V0VGhpcmRUdXJuIiwicmV2ZXJzZSIsImdldEZvcnRoVHVybiIsImdldFR1cm4iLCJmaWd1cmVUdXJuU3RhdGUiLCJPbmUiLCJUd28iLCJUaHJlZSIsIkZvdXIiLCJzcGxpdCIsIml0ZW0iLCJTaW1wbHlSb3RhdGFibGVGaWd1cmUiLCJwb3NpdGlvbiIsInR1cm5TdGF0ZSIsImZpZWxkV2lkdGgiLCJmaWVsZEhlaWdodCIsImZpZ3VyZXMiLCJpc0luaXRpYWxpemVkIiwiaXNHYW1lT3ZlciIsImZhbGxpbmdGaWd1cmVzIiwibWF0cml4IiwibmV4dFRpY2tUaW1lb3V0SWQiLCJzZXR0aW5ncyIsImxldmVsIiwic2NvcmUiLCJjb21ibyIsInNldFRpbWVvdXQiLCJtYWtlU2ltcGxlIiwid2lkdGgiLCJoZWlnaHQiLCJHYW1lRGF0YSIsIl8iLCJHYW1lU2V0dGluZ3MiLCJURmlndXJlIiwiUmlnaHRMRmlndXJlIiwiTGVmdExGaWd1cmUiLCJTcXVhcmVGaWd1cmUiLCJTdGlja0ZpZ3VyZSIsIkxaRmlndXJlIiwiUlpGaWd1cmUiLCJ0aW1pbmdzSGFuZGxlciIsImV2ZW50QnVzIiwiY29tbWFuZEJ1cyIsImluaXRHYW1lSGFuZGxlciIsImJpbmQiLCJyZXN1bWVHYW1lSGFuZGxlciIsInBhdXNlR2FtZUhhbmRsZXIiLCJnYW1lT3ZlckhhbmRsZXIiLCJjb21tYW5kIiwib25GYWxsVGlja1Byb2Nlc3NlZCIsIkluaXRHYW1lQ29tbWFuZCIsImZhbGxUaWNrIiwiY2xlYXJUaW1lb3V0IiwiUmVuZGVyQ29tbWFuZCIsIkdhbWVPdmVyRXZlbnQiLCJGaWd1cmVzRmFsbFRpY2tDb21tYW5kIiwiZ2V0RGVsYXlGb3JOZXh0VGlja01zIiwiY2FuRmlndXJlQmVQbGFjZWQiLCJ0YXJnZXRGaWd1cmVNYXRyaXgiLCJ0YXJnZXRQb3NpdGlvbiIsImV2ZXJ5IiwidmFsdWUiLCJyZWFsWSIsInJlYWxYIiwiZmlsbGVkIiwiZmlsbGVkR2FtZU92ZXIiLCJlbXB0eSIsImNvbnRhaW5lckVsZW1lbnQiLCJyZW5kZXJQcm9qZWN0aW9uRmlndXJlcyIsIm1hdHJpeENlbGxDb2xvcnMiLCJmYWxsaW5nRmlndXJlQ2VsbENvbG9ycyIsInByb2plY3Rpb25GaWd1cmVDZWxsQ29sb3JzIiwiVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzIiwicmVuZGVyU2V0dGluZ3MiLCJjZWxsc0h0bWxFbGVtZW50c01hcCIsImluaXRIYW5kbGVyIiwicmVuZGVyQ29tbWFuZEhhbmRsZXIiLCJ0YWJsZSIsIlRhYmxlUmVuZGVyZXIiLCJjcmVhdGVIdG1sRWxlbWVudCIsImNlbGwiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsInNjb3JlRGlzcGxheSIsIm9uR2FtZU92ZXIiLCJvbkZpZ3VyZXNNb3ZlZCIsInJlbmRlclN0YXRlIiwicmVwYWludE1hdHJpeENlbGxzIiwiQ29vcmRpbmF0ZSIsInJlbmRlckZhbGxpbmdGaWd1cmVzUHJvamVjdGlvbiIsInJlbmRlckZhbGxpbmdGaWd1cmVzIiwicmVuZGVyU3RhdHMiLCJmYWxsaW5nRmlndXJlIiwicmVwYWludEZhbGxpbmdGaWd1cmVzQ2VsbHMiLCJmaWd1cmVNYXRyaXgiLCJwcm9qZWN0aW9uRmlndXJlWCIsInByb2plY3Rpb25GaWd1cmVZIiwiRmlndXJlUGxhY2luZ0NoZWNrZXIiLCJyZXBhaW50UHJvamVjdGlvbkZpZ3VyZXNDZWxscyIsImluZGVudCIsImNvbG9ycyIsIkNlbGxDb2xvcnMiLCJyZXBhaW50Q2VsbHMiLCJjZWxsQ29sb3JzIiwiY29sb3IiLCJzdHlsZSIsImJhY2tncm91bmQiLCJsZXZlbFNwYW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2NvcmVTcGFuIiwiY29tYm9TcGFuIiwidG9TdHJpbmciLCJodG1sIiwiY29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNoaWxkcmVuIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJIVE1MRWxlbWVudCIsInRyYW5zZmVycmVkRmlndXJlcyIsInByb2Nlc3NGaWd1cmVzRmFsbFRpY2tDb21tYW5kIiwicHJvY2Vzc0Ryb3BGaWd1cmVzQ29tbWFuZCIsImZhbGxpbmdSZXN1bHQiLCJmYWxsRmlndXJlc0Zvck9uZUNlbGwiLCJzcXVhc2hMaW5lcyIsIkdhbWVPdmVyQ29tbWFuZCIsIkZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQiLCJGYWxsaW5nUmVzdWx0Iiwib25lQ2VsbEZhbGxpbmdSZXN1bHQiLCJmaWd1cmVDYW5GYWxsIiwiZmlndXJlR2FtZU92ZXJSZXN1bHQiLCJ0cmFuc2ZlckZpZ3VyZVRvTWF0cml4IiwiZmlndXJlQ2VsbFkiLCJjZWxsVmFsdWUiLCJmaWd1cmVDZWxsWCIsIm1hdHJpeFgiLCJtYXRyaXhZIiwibGluZXNUb1NxdWFzaCIsInVuc2hpZnQiLCJhZGRGaWd1cmUiLCJwcm9jZXNzT25GYWxsVGljayIsImZpZ3VyZUluZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJnZXRSYW5kVHVyblN0YXRlIiwiZmlndXJlV2lkdGgiLCJjb29yZGluYXRlIiwiY2VpbCIsIkZhbGxpbmdGaWd1cmUiLCJlbnVtVmFsdWVzIiwiT2JqZWN0Iiwia2V5cyIsIm4iLCJOdW1iZXIiLCJwYXJzZUludCIsImZpbHRlciIsImlzTmFOIiwicHJvY2Vzc01vdmVMZWZ0Q29tbWFuZCIsInByb2Nlc3NNb3ZlUmlnaHRDb21tYW5kIiwicHJvY2Vzc01vdmVEb3duQ29tbWFuZCIsInByb2Nlc3NUdXJuQ2xvY2t3aXNlQ29tbWFuZCIsIkZpZ3VyZXNNb3ZlZEV2ZW50IiwiYWxsVHVyblN0YXRlcyIsImdldFR1cm5TdGF0ZXNBc0FycmF5IiwibmV4dFR1cm5TdGF0ZSIsInByb2Nlc3NJbml0R2FtZUNvbW1hbmQiLCJ3aW5kb3ciLCJvbmtleWRvd24iLCJjb2RlIiwiTW92ZUxlZnRDb21tYW5kIiwiTW92ZVJpZ2h0Q29tbWFuZCIsIlR1cm5DbG9ja3dpc2VDb21tYW5kIiwiTW92ZURvd25Db21tYW5kIiwiRHJvcEZpZ3VyZXNDb21tYW5kIiwiaW5pdGlhbERlbGF5TXMiLCJwb3ciLCJzcXVhc2hlZFJvd3NSZXdhcmRUaHJlc2hvbGRzTWFwIiwicmV3YXJkT25Db21ibyIsIm9uRmFsbGluZ1RpY2tQcm9jZXNzZWQiLCJwcmV2aW91c1RocmVzaG9sZFJld2FyZCIsInJld2FyZCIsInJvd3NTcXVhc2hlZFRocmVzaG9sZCIsImxldmVsSW5jcmVhc2VPblNxdWFzaGVkUm93c051bWJlciIsIm1heExldmVscyIsInNxdWFzaGVkUm93c0NvdW50ZXIiLCJtaW4iLCJFdmVudEJ1cyIsIkNvbW1hbmRCdXMiLCJnYW1lQ29udHJvbGxlciIsIkdhbWVDb250cm9sbGVyIiwiTGV2ZWxCYXNlZFRpbWluZ3NIYW5kbGVyIiwibW92aW5nSGFuZGxlciIsIk1vdmluZ0hhbmRsZXIiLCJtb3ZpbmdDb250cm9sbGVyIiwiTW92aW5nQ29udHJvbGxlciIsImZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yIiwiUmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yIiwiZmlndXJlc1NwYXduZXIiLCJBbHdheXNPbmVGaWd1cmVTcGF3bmVyIiwibGV2ZWxDb3VudGVyIiwiU3F1YXNoZWRSb3dzQ291bnRlckJhc2VkTGV2ZWxDb3VudGVyIiwiY29tYm9Db3VudGVyIiwiQ29tYm9Db3VudGVyIiwic2NvcmVDb3VudGVyIiwiRmFsbFRpY2tTY29yZUNvdW50ZXIiLCJ0YWJsZVJlbmRlcmVyIiwiVGFibGVSZW5kZXJlclNldHRpbmdzIiwiYm9keSIsInN0YXJ0IiwiUmVzdW1lR2FtZUNvbW1hbmQiLCJyZXN1bWUiLCJwYXVzZSIsIlBhdXNlR2FtZUNvbW1hbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiVGV0cmlzRmFjYWRlIl0sInNvdXJjZVJvb3QiOiIifQ==