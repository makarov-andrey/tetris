(()=>{"use strict";var t;!function(t){t[t.FallingTickProcessed=0]="FallingTickProcessed",t[t.GameOver=1]="GameOver",t[t.FiguresMoved=2]="FiguresMoved"}(t||(t={}));var e,n,i=function(){function e(t,e,n){this.gameData=t,this.transferredToMatrixFigures=e,this.squashedLines=n}return e.prototype.getEventType=function(){return t.FallingTickProcessed},e}(),r=function(){function e(t){this.gameData=t}return e.prototype.getEventType=function(){return t.GameOver},e}(),a=function(){function e(t){this.gameData=t}return e.prototype.getEventType=function(){return t.FiguresMoved},e}(),o=function(){function t(){this.handlers=new Map}return t.prototype.on=function(t,e,n){void 0===n&&(n=!0);var i=this.handlers.get(t)||[];n&&i.some((function(t){return t===e}))||(i.push(e),this.handlers.set(t,i))},t.prototype.off=function(t,e){var n=this.handlers.get(t)||[],i=n.indexOf(e);i>0&&n.splice(i,1),this.handlers.set(t,n)},t.prototype.fire=function(t){(this.handlers.get(t.getEventType())||[]).forEach((function(e){e(t)}))},t}(),s=function(t,e,n){this.fieldWidth=t,this.fieldHeight=e,this.figures=n},u=(e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});!function(t){t[t.One=0]="One",t[t.Two=1]="Two",t[t.Three=2]="Three",t[t.Four=3]="Four"}(n||(n={}));var c,m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getNormalizedFigure=function(){var t=this.getFigure(),e=t.reduce((function(t,e){return Math.max(t,e.length)}),0);return t.map((function(t){var n=t.length;return t.length=e,t.fill(!1,n-1,e-1)}))},e.prototype.getFirstTurn=function(){return this.getNormalizedFigure()},e.prototype.getSecondTurn=function(){for(var t=this.getNormalizedFigure(),e=[],n=t.length,i=t[0].length,r=0;r<i;r++){e[r]=new Array(n).fill(!1);for(var a=0;a<n;a++)e[r][n-a-1]=t[a][r]}return e},e.prototype.getThirdTurn=function(){return this.getFirstTurn().reverse().map((function(t){return t.reverse()}))},e.prototype.getForthTurn=function(){return this.getSecondTurn().reverse().map((function(t){return t.reverse()}))},e}(function(){function t(){}return t.prototype.getTurn=function(t){switch(t){case n.One:return this.getFirstTurn();case n.Two:return this.getSecondTurn();case n.Three:return this.getThirdTurn();case n.Four:return this.getForthTurn()}},t}()),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getFigure=function(){return["###".split("").map((function(t){return"#"===t})),"-#-".split("").map((function(t){return"#"===t}))]},e}(m),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getFigure=function(){return["###".split("").map((function(t){return"#"===t})),"--#".split("").map((function(t){return"#"===t}))]},e}(m),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getFigure=function(){return["###".split("").map((function(t){return"#"===t})),"#--".split("").map((function(t){return"#"===t}))]},e}(m),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getFigure=function(){return["##".split("").map((function(t){return"#"===t})),"##".split("").map((function(t){return"#"===t}))]},e}(m),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getFigure=function(){return["####".split("").map((function(t){return"#"===t}))]},e}(m),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getFigure=function(){return["##-".split("").map((function(t){return"#"===t})),"-##".split("").map((function(t){return"#"===t}))]},e}(m),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getFigure=function(){return["-##".split("").map((function(t){return"#"===t})),"##-".split("").map((function(t){return"#"===t}))]},e}(m),y=function(){function t(t,e,n,i,r,a){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=setTimeout((function(){}))),this.isInitialized=t,this.isGameOver=e,this.fallingFigures=n,this.matrix=i,this.nextTickTimeoutId=r,this.settings=a}return t.makeSimple=function(e,n){return void 0===e&&(e=12),void 0===n&&(n=25),new t(!1,!1,[],new Array(n).fill([]).map((function(t){return new Array(e).fill(!1)})),setTimeout((function(){})),new s(e,n,[new l,new h,new d,new f,new p,new g,new v]))},t}();!function(t){t[t.InitGame=0]="InitGame",t[t.ResumeGame=1]="ResumeGame",t[t.PauseGame=2]="PauseGame",t[t.FiguresFallTick=3]="FiguresFallTick",t[t.GameOver=4]="GameOver",t[t.Render=5]="Render",t[t.MoveLeft=6]="MoveLeft",t[t.MoveRight=7]="MoveRight",t[t.TurnClockwise=8]="TurnClockwise",t[t.MoveDown=9]="MoveDown",t[t.FiguresFallDown=10]="FiguresFallDown"}(c||(c={}));var F=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.InitGame},t}(),T=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.ResumeGame},t}(),w=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.PauseGame},t}(),D=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.FiguresFallTick},t}(),B=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.GameOver},t}(),M=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.Render},t}(),H=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.MoveLeft},t}(),C=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.MoveRight},t}(),G=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.TurnClockwise},t}(),b=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.MoveDown},t}(),k=function(){function t(t){this.gameData=t}return t.prototype.getCommandType=function(){return c.FiguresFallDown},t}(),E=function(){function t(){this.handlers=new Map}return t.prototype.addHandler=function(t,e,n){void 0===n&&(n=!0);var i=this.handlers.get(t)||[];n&&i.some((function(t){return t===e}))||(i.push(e),this.handlers.set(t,i))},t.prototype.removeHandler=function(t,e){var n=this.handlers.get(t)||[],i=n.indexOf(e);i>0&&n.splice(i,1),this.handlers.set(t,n)},t.prototype.run=function(t){(this.handlers.get(t.getCommandType())||[]).forEach((function(e){e(t)}))},t}(),O=function(){function t(t,e,n){this.timingsHandler=t,this.eventBus=e,this.commandBus=n,this.gameData=y.makeSimple(),this.commandBus.addHandler(c.InitGame,this.initGameHandler.bind(this)),this.commandBus.addHandler(c.ResumeGame,this.resumeGameHandler.bind(this)),this.commandBus.addHandler(c.PauseGame,this.pauseGameHandler.bind(this)),this.commandBus.addHandler(c.GameOver,this.gameOverHandler.bind(this))}return t.prototype.initGameHandler=function(t){this.gameData=t.gameData,this.gameData.isInitialized=!0},t.prototype.resumeGameHandler=function(t){this.gameData.isGameOver||(this.gameData.isInitialized||this.commandBus.run(new F(t.gameData)),this.fallTick())},t.prototype.pauseGameHandler=function(t){this.gameData=t.gameData,clearTimeout(this.gameData.nextTickTimeoutId),this.commandBus.run(new M(this.gameData))},t.prototype.gameOverHandler=function(){clearTimeout(this.gameData.nextTickTimeoutId),this.gameData.isInitialized=!1,this.gameData.isGameOver=!0,this.eventBus.fire(new r(this.gameData))},t.prototype.fallTick=function(){this.commandBus.run(new D(this.gameData)),this.gameData.isGameOver||(this.gameData.nextTickTimeoutId=setTimeout(this.fallTick.bind(this),this.timingsHandler.getDelayForNextTickMs()))},t}(),x=function(t){this.containerElement=t},S=function(){function e(t,e,n){this.tableRendererSettings=t,this.commandBus=e,this.eventBus=n,this.cellsHtmlElementsMap=[],e.addHandler(c.InitGame,this.initHandler.bind(this)),e.addHandler(c.Render,this.renderCommandHandler.bind(this))}return e.prototype.initHandler=function(n){var i=e.createHtmlElement('<div style="display: table; border-collapse: collapse"></div>');this.cellsHtmlElementsMap=[];for(var r=0;r<n.gameData.settings.fieldHeight;r++){var a=e.createHtmlElement('<div style="display: table-row"></div>');this.cellsHtmlElementsMap[r]=[];for(var o=0;o<n.gameData.settings.fieldWidth;o++){var s=e.createHtmlElement('<div style="display: table-cell; border: 1px solid #ccc; width: 20px; height: 20px"></div>');this.cellsHtmlElementsMap[r][o]=s,a.appendChild(s)}i.appendChild(a)}this.tableRendererSettings.containerElement.replaceChildren(i),this.eventBus.on(t.FallingTickProcessed,this.onFallTickProcessed.bind(this)),this.eventBus.on(t.GameOver,this.onFallTickProcessed.bind(this)),this.eventBus.on(t.FiguresMoved,this.onFiguresMoved.bind(this))},e.prototype.onFiguresMoved=function(t){this.renderTable(t.gameData)},e.prototype.onFallTickProcessed=function(t){this.renderTable(t.gameData)},e.prototype.onGameOver=function(t){this.renderTable(t.gameData)},e.prototype.renderCommandHandler=function(t){this.renderTable(t.gameData)},e.prototype.renderTable=function(t){var e=this;t.matrix.forEach((function(n,i){n.forEach((function(n,r){n?t.isGameOver?e.cellsHtmlElementsMap[i][r].style.background="#780000":e.cellsHtmlElementsMap[i][r].style.background="#007400":e.cellsHtmlElementsMap[i][r].style.background="#fff"}))})),t.fallingFigures.forEach((function(n){n.figure.getTurn(n.turnState).forEach((function(i,r){i.forEach((function(i,a){var o=r+n.position.y,s=a+n.position.x;o in e.cellsHtmlElementsMap&&s in e.cellsHtmlElementsMap[o]&&i&&(t.isGameOver?e.cellsHtmlElementsMap[o][s].style.background="#780000":e.cellsHtmlElementsMap[o][s].style.background="#007400")}))}))}))},e.createHtmlElement=function(t){var e=document.createElement("div");if(e.innerHTML=t,e.children.length>1||null===e.firstElementChild)throw"The HTML must contain only one child";if(!(e.firstElementChild instanceof HTMLElement))throw"Something went wrong while trying to get HTMLElement child from div";return e.firstElementChild},e}(),I=function(){this.transferredFigures=[],this.isGameOver=!1},R=function(){function t(t,e){this.commandBus=t,this.eventBus=e,this.commandBus.addHandler(c.FiguresFallTick,this.processFiguresFallTickCommand.bind(this)),this.commandBus.addHandler(c.FiguresFallDown,this.processFiguresFallDownCommand.bind(this))}return t.prototype.processFiguresFallTickCommand=function(t){var e=this.fallFiguresForOneCell(t.gameData),n=this.squashLines(t.gameData.matrix);e.isGameOver&&this.commandBus.run(new B(t.gameData)),this.eventBus.fire(new i(t.gameData,e.transferredFigures,n))},t.prototype.processFiguresFallDownCommand=function(t){for(var e,n=new I;t.gameData.fallingFigures.length>0;){var r=this.fallFiguresForOneCell(t.gameData);(e=n.transferredFigures).push.apply(e,r.transferredFigures),n.isGameOver=n.isGameOver||r.isGameOver}var a=this.squashLines(t.gameData.matrix);n.isGameOver&&this.commandBus.run(new B(t.gameData)),this.eventBus.fire(new i(t.gameData,n.transferredFigures,a))},t.prototype.fallFiguresForOneCell=function(t){var e=this,n=new I;return t.fallingFigures.forEach((function(i,r){var a;if(e.figureCanFall(t.matrix,i))i.position.y++;else{var o=e.transferFigureToMatrix(t.matrix,i);(a=n.transferredFigures).push.apply(a,t.fallingFigures.splice(r,1)),n.isGameOver=n.isGameOver||o}})),n},t.prototype.figureCanFall=function(t,e){return e.figure.getTurn(e.turnState).every((function(n,i){return n.every((function(n,r){var a=e.position.x+r,o=e.position.y+i+1;return!n||o<0||o in t&&a in t[o]&&!t[o][a]}))}))},t.prototype.transferFigureToMatrix=function(t,e){var n=!1;return e.figure.getTurn(e.turnState).forEach((function(i,r){i.forEach((function(i,a){if(i){var o=e.position.x+a,s=e.position.y+r;s in t&&o in t[s]&&!t[s][o]?t[s][o]=!0:n=!0}}))})),n},t.prototype.squashLines=function(t){var e=[];return t.forEach((function(t,n){t.every((function(t){return t}))&&e.push(n)}),0),e.forEach((function(e){t.splice(e,1),t.unshift(new Array(t[0].length).fill(!1))})),e},t}(),P=function(t,e){this.x=t,this.y=e},L=function(t,e,n){this.figure=t,this.position=e,this.turnState=n},A=function(){function e(t,e){this.eventBus=t,this.commandBus=e,this.commandBus.addHandler(c.InitGame,this.initHandler.bind(this))}return e.prototype.initHandler=function(e){this.addFigure(e.gameData),this.eventBus.on(t.FallingTickProcessed,this.processOnFallTick.bind(this))},e.prototype.processOnFallTick=function(t){this.addFigure(t.gameData)},e.prototype.addFigure=function(t){if(!(t.fallingFigures.length>0||t.isGameOver)){var e=Math.floor(Math.random()*t.settings.figures.length),n=t.settings.figures[e],i=this.getRandTurnState(),r=n.getTurn(i),a=Math.max.apply(Math,r.map((function(t){return t.length}))),o=new P(Math.ceil(t.settings.fieldWidth/2-a/2)-1,-r.length);t.fallingFigures.push(new L(n,o,i))}},e.prototype.getRandTurnState=function(){var t=Object.keys(n).map((function(t){return Number.parseInt(t)})).filter((function(t){return!Number.isNaN(t)}));return t[Math.floor(Math.random()*t.length)]},e}(),N=function(){function t(t,e){this.commandBus=t,this.eventBus=e,this.commandBus.addHandler(c.MoveLeft,this.processMoveLeftCommand.bind(this)),this.commandBus.addHandler(c.MoveRight,this.processMoveRightCommand.bind(this)),this.commandBus.addHandler(c.MoveDown,this.processMoveDownCommand.bind(this)),this.commandBus.addHandler(c.TurnClockwise,this.processTurnClockwiseCommand.bind(this))}return t.prototype.processMoveLeftCommand=function(t){var e=this;t.gameData.fallingFigures.forEach((function(n){e.canFigureBeMoved(n.figure.getTurn(n.turnState),new P(n.position.x-1,n.position.y),t.gameData.matrix)&&n.position.x--})),this.eventBus.fire(new a(t.gameData))},t.prototype.processMoveRightCommand=function(t){var e=this;t.gameData.fallingFigures.forEach((function(n){e.canFigureBeMoved(n.figure.getTurn(n.turnState),new P(n.position.x+1,n.position.y),t.gameData.matrix)&&n.position.x++})),this.eventBus.fire(new a(t.gameData))},t.prototype.processTurnClockwiseCommand=function(t){var e=this,n=this.getTurnStatesAsArray();t.gameData.fallingFigures.forEach((function(i){var r=i.turnState+1;r in n||(r=n[0]),e.canFigureBeMoved(i.figure.getTurn(r),i.position,t.gameData.matrix)&&(i.turnState=r)})),this.eventBus.fire(new a(t.gameData))},t.prototype.processMoveDownCommand=function(t){this.commandBus.run(new D(t.gameData))},t.prototype.canFigureBeMoved=function(t,e,n){return t.every((function(t,i){return t.every((function(t,r){var a=e.y+i,o=e.x+r;return!t||a<0||a in n&&o in n[a]&&!n[a][o]}))}))},t.prototype.getTurnStatesAsArray=function(){return Object.keys(n).map((function(t){return Number.parseInt(t)})).filter((function(t){return!Number.isNaN(t)}))},t}(),_=function(){function t(t){this.commandBus=t,this.commandBus.addHandler(c.InitGame,this.processInitGameCommand.bind(this))}return t.prototype.processInitGameCommand=function(t){var e=this;window.onkeydown=function(n){console.log(n),"ArrowLeft"===n.code?e.commandBus.run(new H(t.gameData)):"ArrowRight"===n.code?e.commandBus.run(new C(t.gameData)):"ArrowUp"===n.code?e.commandBus.run(new G(t.gameData)):"ArrowDown"===n.code||"ArrowDown"===n.code?e.commandBus.run(new b(t.gameData)):"Space"===n.code&&e.commandBus.run(new k(t.gameData))}},t}(),z=function(){function e(t,e,n,i,r){this.eventBus=t,this.commandBus=e,this.delayMs=n,this.decreaseEveryFallenFigure=i,this.decreaseValue=r,this.counter=0,this.commandBus.addHandler(c.InitGame,this.processInitGameCommand.bind(this))}return e.prototype.getDelayForNextTickMs=function(){return this.delayMs},e.prototype.processInitGameCommand=function(e){this.eventBus.on(t.FallingTickProcessed,this.onFallTickProcessed.bind(this))},e.prototype.onFallTickProcessed=function(t){0!==t.transferredToMatrixFigures.length&&(this.counter++,this.counter>=this.decreaseEveryFallenFigure&&(this.counter=0,this.delayMs*=this.decreaseValue))},e}(),j=function(){function t(){this.eventBus=new o,this.commandBus=new E,this.gameController=new O(new z(this.eventBus,this.commandBus,500,10,.7),this.eventBus,this.commandBus),this.movingHandler=new N(this.commandBus,this.eventBus),this.movingController=new _(this.commandBus),this.tableRenderer=new S(new x(document.body),this.commandBus,this.eventBus),this.fallingFiguresProcessor=new R(this.commandBus,this.eventBus),this.figuresSpawner=new A(this.eventBus,this.commandBus),this.gameData=y.makeSimple()}return t.prototype.start=function(t){this.gameData=t||y.makeSimple(),this.commandBus.run(new F(this.gameData)),this.commandBus.run(new T(this.gameData))},t.prototype.resume=function(){this.commandBus.run(new T(this.gameData))},t.prototype.pause=function(){this.commandBus.run(new w(this.gameData))},t}();document.addEventListener("DOMContentLoaded",(function(){(new j).start()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixJQUFJQyxFQUN6QjFOLEtBQUt3RixTQUNMeEYsS0FBS3lGLFlBRUYsS0FBQXRHLFNBQVcyRSxFQUFTSCxZQWUvQixRQWJXLFlBQUFnSyxNQUFQLFNBQWF4TyxHQUNUYSxLQUFLYixTQUFXQSxHQUFZMkUsRUFBU0gsYUFDckMzRCxLQUFLeUYsV0FBV0osSUFBSSxJQUFJVyxFQUFnQmhHLEtBQUtiLFdBQzdDYSxLQUFLeUYsV0FBV0osSUFBSSxJQUFJdUksRUFBa0I1TixLQUFLYixVQUNuRCxFQUVPLFlBQUEwTyxPQUFQLFdBQ0k3TixLQUFLeUYsV0FBV0osSUFBSSxJQUFJdUksRUFBa0I1TixLQUFLYixVQUNuRCxFQUVPLFlBQUEyTyxNQUFQLFdBQ0k5TixLQUFLeUYsV0FBV0osSUFBSSxJQUFJMEksRUFBaUIvTixLQUFLYixVQUNsRCxFQUNKLEVBN0NBLEdDVkE2SSxTQUFTZ0csaUJBQWlCLG9CQUFvQixZQUM3QixJQUFJQyxHQUNWTixPQUNYLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0V2ZW50QnVzL0V2ZW50QnVzLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvRmlndXJlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0dhbWVTZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0NvbW1hbmRCdXMvQ29tbWFuZEJ1cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0dhbWVEYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvR2FtZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9SZW5kZXJlci9UYWJsZVJlbmRlcmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvRmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3IvUmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvU3RydWN0dXJlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0ZpZ3VyZXNTcGF3bmVyL0Fsd2F5c09uZUZpZ3VyZVNwYXduZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9Nb3ZpbmdIYW5kbGVyL01vdmluZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9Nb3ZpbmdDb250cm9sbGVyL01vdmluZ0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9UaW1pbmdzSGFuZGxlci9SZWR1Y2luZ1RpbWluZ3NIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVGV0cmlzRmFjYWRlLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0dhbWVEYXRhfSBmcm9tIFwiLi4vR2FtZURhdGFcIjtcbmltcG9ydCB7RmFsbGluZ0ZpZ3VyZX0gZnJvbSBcIi4uL1N0cnVjdHVyZXNcIjtcblxuZXhwb3J0IGVudW0gRXZlbnRUeXBlIHtcbiAgICBGYWxsaW5nVGlja1Byb2Nlc3NlZCxcbiAgICBHYW1lT3ZlcixcbiAgICBGaWd1cmVzTW92ZWQsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnQge1xuICAgIGdhbWVEYXRhOiBHYW1lRGF0YTtcblxuICAgIGdldEV2ZW50VHlwZSgpOiBFdmVudFR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50IGltcGxlbWVudHMgRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICAgICBwdWJsaWMgdHJhbnNmZXJyZWRUb01hdHJpeEZpZ3VyZXM6IEZhbGxpbmdGaWd1cmVbXSxcbiAgICAgICAgcHVibGljIHNxdWFzaGVkTGluZXM6IG51bWJlcltdLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRFdmVudFR5cGUoKTogRXZlbnRUeXBlIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50VHlwZS5GYWxsaW5nVGlja1Byb2Nlc3NlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lT3ZlckV2ZW50IGltcGxlbWVudHMgRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRFdmVudFR5cGUoKTogRXZlbnRUeXBlIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50VHlwZS5HYW1lT3ZlcjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWd1cmVzTW92ZWRFdmVudCBpbXBsZW1lbnRzIEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0RXZlbnRUeXBlKCk6IEV2ZW50VHlwZSB7XG4gICAgICAgIHJldHVybiBFdmVudFR5cGUuRmlndXJlc01vdmVkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV2ZW50QnVzIHtcbiAgICBwcml2YXRlIGhhbmRsZXJzOiBNYXA8RXZlbnRUeXBlLCAoKC4uLl86IGFueSkgPT4gdm9pZClbXT4gPSBuZXcgTWFwKCk7XG5cbiAgICBwdWJsaWMgb24oZXZlbnQ6IEV2ZW50VHlwZSwgaGFuZGxlcjogKC4uLl86IGFueSkgPT4gdm9pZCwgdW5pcXVlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudCkgfHwgW107XG4gICAgICAgIGlmICh1bmlxdWUgJiYgaGFuZGxlcnMuc29tZShib3VuZEhhbmRsZXIgPT4gYm91bmRIYW5kbGVyID09PSBoYW5kbGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIG9mZihldmVudDogRXZlbnRUeXBlLCBoYW5kbGVyOiAoLi4uXzogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50KSB8fCBbXTtcbiAgICAgICAgbGV0IGluZGV4ID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIGZpcmUoZXZlbnRQYXlsb2FkOiBFdmVudCk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudFBheWxvYWQuZ2V0RXZlbnRUeXBlKCkpIHx8IFtdO1xuICAgICAgICBoYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge2hhbmRsZXIoZXZlbnRQYXlsb2FkKX0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBlbnVtIEZpZ3VyZVR1cm5TdGF0ZSB7XG4gICAgT25lLFxuICAgIFR3byxcbiAgICBUaHJlZSxcbiAgICBGb3VyLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpZ3VyZSB7XG4gICAgLyoqXG4gICAgICogQW55IGZpZ3VyZSBtdXN0IGJlIGFibGUgdG8gdHVybiA0IHRpbWVzIGluIDIgZGltZW5zaW9ucy5cbiAgICAgKiBBbGwgdHVybnMgYXJlIGNsb2Nrd2lzZS5cbiAgICAgKi9cbiAgICBnZXRUdXJuKGZpZ3VyZVR1cm5TdGF0ZTogRmlndXJlVHVyblN0YXRlKTogYm9vbGVhbltdW107XG4gICAgZ2V0Rmlyc3RUdXJuKCk6IGJvb2xlYW5bXVtdO1xuICAgIGdldFNlY29uZFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgZ2V0VGhpcmRUdXJuKCk6IGJvb2xlYW5bXVtdO1xuICAgIGdldEZvcnRoVHVybigpOiBib29sZWFuW11bXTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0RmlndXJlIGltcGxlbWVudHMgRmlndXJle1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRGaXJzdFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgcHVibGljIGFic3RyYWN0IGdldFNlY29uZFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgcHVibGljIGFic3RyYWN0IGdldFRoaXJkVHVybigpOiBib29sZWFuW11bXTtcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0Rm9ydGhUdXJuKCk6IGJvb2xlYW5bXVtdO1xuXG4gICAgZ2V0VHVybihmaWd1cmVUdXJuU3RhdGU6IEZpZ3VyZVR1cm5TdGF0ZSk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgc3dpdGNoIChmaWd1cmVUdXJuU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgRmlndXJlVHVyblN0YXRlLk9uZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaXJzdFR1cm4oKTtcbiAgICAgICAgICAgIGNhc2UgRmlndXJlVHVyblN0YXRlLlR3bzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWNvbmRUdXJuKCk7XG4gICAgICAgICAgICBjYXNlIEZpZ3VyZVR1cm5TdGF0ZS5UaHJlZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaGlyZFR1cm4oKTtcbiAgICAgICAgICAgIGNhc2UgRmlndXJlVHVyblN0YXRlLkZvdXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ydGhUdXJuKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBnaXZlcyBhbiBlYXN5IHdheSB0byBkZWZpbmUgZmlndXJlcyBmb3IgdGV0cmlzLlxuICogSnVzdCBpbXBsZW1lbnQgdGhlIGdldEZpZ3VyZSBtZXRob2QgYW5kIHJldHVybiBmaWd1cmUgbGlrZSB0aGlzOlxuICogYGBgKHRzKVxuICogcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gKiAgICAgcmV0dXJuIFtcbiAqICAgICAgICAgW3RydWUsICB0cnVlLCB0cnVlXSxcbiAqICAgICAgICAgW2ZhbHNlLCB0cnVlLCBmYWxzZV0sXG4gKiAgICAgICAgIFt0cnVlLCAgdHJ1ZSwgdHJ1ZV0sXG4gKiAgICAgXTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIE9yIGRlZmluZSBpdCBsaWtlIHRoaXMgZm9yIG1vcmUgdmlzdWFsIHByZXNlbnRhdGlvbjpcbiAqIGBgYCh0cylcbiAqIHByb3RlY3RlZCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICogICAgIHJldHVybiBbXG4gKiAgICAgICAgIFwiIyMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICogICAgICAgICBcIi0jLVwiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAqICAgICAgICAgXCIjIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gKiAgICAgXTtcbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2ltcGx5Um90YXRhYmxlRmlndXJlIGV4dGVuZHMgQWJzdHJhY3RGaWd1cmUge1xuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW107XG5cbiAgICBwcml2YXRlIGdldE5vcm1hbGl6ZWRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICAgICAgICBsZXQgZmlndXJlID0gdGhpcy5nZXRGaWd1cmUoKTtcbiAgICAgICAgbGV0IHRoZUxvbmdlc3RSb3dTaXplID0gZmlndXJlLnJlZHVjZShcbiAgICAgICAgICAgIChwcmV2aW91cywgY3VycmVudCkgPT4gTWF0aC5tYXgocHJldmlvdXMsIGN1cnJlbnQubGVuZ3RoKSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGZpZ3VyZS5tYXAocm93ID0+IHtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbExlbmd0aCA9IHJvdy5sZW5ndGg7XG4gICAgICAgICAgICByb3cubGVuZ3RoID0gdGhlTG9uZ2VzdFJvd1NpemU7XG4gICAgICAgICAgICByZXR1cm4gcm93LmZpbGwoZmFsc2UsIG9yaWdpbmFsTGVuZ3RoIC0gMSwgdGhlTG9uZ2VzdFJvd1NpemUgLSAxKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpcnN0VHVybigpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vcm1hbGl6ZWRGaWd1cmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2Vjb25kVHVybigpOiBib29sZWFuW11bXSB7XG4gICAgICAgIGxldCBvcmlnaW5hbEZpZ3VyZSA9IHRoaXMuZ2V0Tm9ybWFsaXplZEZpZ3VyZSgpO1xuICAgICAgICBsZXQgdHVybmVkRmlndXJlOiBib29sZWFuW11bXSA9IFtdO1xuICAgICAgICBsZXQgb3JpZ2luYWxGaWd1cmVIZWlnaHQgPSBvcmlnaW5hbEZpZ3VyZS5sZW5ndGg7XG4gICAgICAgIGxldCBvcmlnaW5hbEZpZ3VyZVdpZHRoID0gb3JpZ2luYWxGaWd1cmVbMF0ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG9yaWdpbmFsRmlndXJlV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgdHVybmVkRmlndXJlW3hdID0gbmV3IEFycmF5KG9yaWdpbmFsRmlndXJlSGVpZ2h0KS5maWxsKGZhbHNlKTtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgb3JpZ2luYWxGaWd1cmVIZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgICAgIHR1cm5lZEZpZ3VyZVt4XVtvcmlnaW5hbEZpZ3VyZUhlaWdodCAtIHkgLSAxXSA9IG9yaWdpbmFsRmlndXJlW3ldW3hdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0dXJuZWRGaWd1cmU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRoaXJkVHVybigpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpcnN0VHVybigpLnJldmVyc2UoKS5tYXAocm93ID0+IHJvdy5yZXZlcnNlKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGb3J0aFR1cm4oKTogYm9vbGVhbltdW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWNvbmRUdXJuKCkucmV2ZXJzZSgpLm1hcChyb3cgPT4gcm93LnJldmVyc2UoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVEZpZ3VyZSBleHRlbmRzIFNpbXBseVJvdGF0YWJsZUZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIiMjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiLSMtXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJpZ2h0TEZpZ3VyZSBleHRlbmRzIFNpbXBseVJvdGF0YWJsZUZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIiMjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiLS0jXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExlZnRMRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICAgICAgXCIjLS1cIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3F1YXJlRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgICAgICBcIiMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0aWNrRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyMjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMWkZpZ3VyZSBleHRlbmRzIFNpbXBseVJvdGF0YWJsZUZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIiMjLVwiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiLSMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgUlpGaWd1cmUgZXh0ZW5kcyBTaW1wbHlSb3RhdGFibGVGaWd1cmUge1xuICAgIHByb3RlY3RlZCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCItIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgICAgICBcIiMjLVwiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0ZpZ3VyZSwgTGVmdExGaWd1cmUsIFJpZ2h0TEZpZ3VyZSwgU3F1YXJlRmlndXJlLCBTdGlja0ZpZ3VyZSwgVEZpZ3VyZX0gZnJvbSBcIi4vRmlndXJlc1wiO1xuXG5leHBvcnQgY2xhc3MgR2FtZVNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGZpZWxkV2lkdGg6IG51bWJlcixcbiAgICAgICAgcHVibGljIGZpZWxkSGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBmaWd1cmVzOiBGaWd1cmVbXSxcbiAgICApIHt9XG59XG4iLCJpbXBvcnQge0dhbWVEYXRhfSBmcm9tIFwiLi4vR2FtZURhdGFcIjtcblxuZXhwb3J0IGVudW0gQ29tbWFuZFR5cGUge1xuICAgIEluaXRHYW1lLFxuICAgIFJlc3VtZUdhbWUsXG4gICAgUGF1c2VHYW1lLFxuICAgIEZpZ3VyZXNGYWxsVGljayxcbiAgICBHYW1lT3ZlcixcbiAgICBSZW5kZXIsXG4gICAgTW92ZUxlZnQsXG4gICAgTW92ZVJpZ2h0LFxuICAgIFR1cm5DbG9ja3dpc2UsXG4gICAgTW92ZURvd24sXG4gICAgRmlndXJlc0ZhbGxEb3duLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmQge1xuICAgIGdhbWVEYXRhOiBHYW1lRGF0YTtcblxuICAgIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgSW5pdEdhbWVDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLkluaXRHYW1lO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlc3VtZUdhbWVDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLlJlc3VtZUdhbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGF1c2VHYW1lQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5QYXVzZUdhbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5GaWd1cmVzRmFsbFRpY2s7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLkdhbWVPdmVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbmRlckNvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuUmVuZGVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmVMZWZ0Q29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5Nb3ZlTGVmdDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlUmlnaHRDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLk1vdmVSaWdodDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUdXJuQ2xvY2t3aXNlQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5UdXJuQ2xvY2t3aXNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmVEb3duQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5Nb3ZlRG93bjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWd1cmVzRmFsbERvd25Db21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLkZpZ3VyZXNGYWxsRG93bjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYW5kQnVzIHtcbiAgICBwcml2YXRlIGhhbmRsZXJzOiBNYXA8Q29tbWFuZFR5cGUsICgocGF5bG9hZDogQ29tbWFuZCkgPT4gdm9pZClbXT4gPSBuZXcgTWFwKCk7XG5cbiAgICBwdWJsaWMgYWRkSGFuZGxlcihldmVudDogQ29tbWFuZFR5cGUsIGhhbmRsZXI6ICguLi5fOiBhbnkpID0+IHZvaWQsIHVuaXF1ZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycy5nZXQoZXZlbnQpIHx8IFtdO1xuICAgICAgICBpZiAodW5pcXVlICYmIGhhbmRsZXJzLnNvbWUoYm91bmRIYW5kbGVyID0+IGJvdW5kSGFuZGxlciA9PT0gaGFuZGxlcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChldmVudCwgaGFuZGxlcnMpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVIYW5kbGVyKGV2ZW50OiBDb21tYW5kVHlwZSwgaGFuZGxlcjogKC4uLl86IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudCkgfHwgW107XG4gICAgICAgIGxldCBpbmRleCA9IGhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChldmVudCwgaGFuZGxlcnMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBydW4ocGF5bG9hZDogQ29tbWFuZCk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChwYXlsb2FkLmdldENvbW1hbmRUeXBlKCkpIHx8IFtdO1xuICAgICAgICBoYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge2hhbmRsZXIocGF5bG9hZCl9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0ZhbGxpbmdGaWd1cmV9IGZyb20gXCIuL1N0cnVjdHVyZXNcIjtcbmltcG9ydCB7R2FtZVNldHRpbmdzfSBmcm9tIFwiLi9HYW1lU2V0dGluZ3NcIjtcbmltcG9ydCB7TGVmdExGaWd1cmUsIExaRmlndXJlLCBSaWdodExGaWd1cmUsIFJaRmlndXJlLCBTcXVhcmVGaWd1cmUsIFN0aWNrRmlndXJlLCBURmlndXJlfSBmcm9tIFwiLi9GaWd1cmVzXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRGF0YSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIHB1YmxpYyBpc0dhbWVPdmVyOiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIHB1YmxpYyBmYWxsaW5nRmlndXJlczogRmFsbGluZ0ZpZ3VyZVtdID0gW10sXG4gICAgICAgIHB1YmxpYyBtYXRyaXg6IGJvb2xlYW5bXVtdID0gW10sXG4gICAgICAgIHB1YmxpYyBuZXh0VGlja1RpbWVvdXRJZDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gPSBzZXRUaW1lb3V0KCgpID0+IHt9KSxcbiAgICAgICAgcHVibGljIHNldHRpbmdzOiBHYW1lU2V0dGluZ3MsXG4gICAgKSB7fVxuXG4gICAgc3RhdGljIG1ha2VTaW1wbGUod2lkdGg6IG51bWJlciA9IDEyLCBoZWlnaHQ6IG51bWJlciA9IDI1KTogR2FtZURhdGEge1xuICAgICAgICByZXR1cm4gbmV3IEdhbWVEYXRhKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgbmV3IEFycmF5KGhlaWdodCkuZmlsbChbXSlcbiAgICAgICAgICAgICAgICAubWFwKF8gPT4gbmV3IEFycmF5KHdpZHRoKS5maWxsKGZhbHNlKSksXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHt9KSxcbiAgICAgICAgICAgIG5ldyBHYW1lU2V0dGluZ3MoXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFRGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJpZ2h0TEZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgTGVmdExGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNxdWFyZUZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgU3RpY2tGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IExaRmlndXJlKCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSWkZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApLFxuICAgICAgICApXG4gICAgfVxufVxuIiwiaW1wb3J0IHtUaW1pbmdzSGFuZGxlcn0gZnJvbSBcIi4vVGltaW5nc0hhbmRsZXIvVGltaW5nc0hhbmRsZXJcIjtcbmltcG9ydCB7RXZlbnRCdXMsIEdhbWVPdmVyRXZlbnR9IGZyb20gXCIuL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0dhbWVEYXRhfSBmcm9tIFwiLi9HYW1lRGF0YVwiO1xuaW1wb3J0IHtDb21tYW5kQnVzLCBDb21tYW5kVHlwZSwgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCwgSW5pdEdhbWVDb21tYW5kLCBQYXVzZUdhbWVDb21tYW5kLCBSZW5kZXJDb21tYW5kLCBSZXN1bWVHYW1lQ29tbWFuZH0gZnJvbSBcIi4vQ29tbWFuZEJ1cy9Db21tYW5kQnVzXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBnYW1lRGF0YTogR2FtZURhdGEgPSBHYW1lRGF0YS5tYWtlU2ltcGxlKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIHByaXZhdGUgdGltaW5nc0hhbmRsZXI6IFRpbWluZ3NIYW5kbGVyLFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICkge1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Jbml0R2FtZSwgdGhpcy5pbml0R2FtZUhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLlJlc3VtZUdhbWUsIHRoaXMucmVzdW1lR2FtZUhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLlBhdXNlR2FtZSwgdGhpcy5wYXVzZUdhbWVIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5HYW1lT3ZlciwgdGhpcy5nYW1lT3ZlckhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0R2FtZUhhbmRsZXIoY29tbWFuZDogSW5pdEdhbWVDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZ2FtZURhdGEgPSBjb21tYW5kLmdhbWVEYXRhO1xuICAgICAgICB0aGlzLmdhbWVEYXRhLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdW1lR2FtZUhhbmRsZXIoY29tbWFuZDogUmVzdW1lR2FtZUNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZURhdGEuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5nYW1lRGF0YS5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBJbml0R2FtZUNvbW1hbmQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFsbFRpY2soKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBhdXNlR2FtZUhhbmRsZXIoY29tbWFuZDogUmVzdW1lR2FtZUNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5nYW1lRGF0YSA9IGNvbW1hbmQuZ2FtZURhdGE7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUmVuZGVyQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnYW1lT3ZlckhhbmRsZXIoKTogdm9pZCB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkKTtcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FtZURhdGEuaXNHYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgR2FtZU92ZXJFdmVudCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmYWxsVGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgICAgIGlmICghdGhpcy5nYW1lRGF0YS5pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICB0aGlzLmZhbGxUaWNrLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgdGhpcy50aW1pbmdzSGFuZGxlci5nZXREZWxheUZvck5leHRUaWNrTXMoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEluaXRHYW1lQ29tbWFuZCwgUmVuZGVyQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtFdmVudEJ1cywgRXZlbnRUeXBlLCBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50LCBHYW1lT3ZlckV2ZW50fSBmcm9tIFwiLi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuLi9HYW1lRGF0YVwiO1xuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlclNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50XG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlciB7XG4gICAgcHJpdmF0ZSBjZWxsc0h0bWxFbGVtZW50c01hcDogSFRNTEVsZW1lbnRbXVtdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIHByaXZhdGUgdGFibGVSZW5kZXJlclNldHRpbmdzOiBUYWJsZVJlbmRlcmVyU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgKSB7XG4gICAgICAgIGNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Jbml0R2FtZSwgdGhpcy5pbml0SGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLlJlbmRlciwgdGhpcy5yZW5kZXJDb21tYW5kSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRIYW5kbGVyKGNvbW1hbmQ6IEluaXRHYW1lQ29tbWFuZCk6IHZvaWQge1xuICAgICAgICBsZXQgdGFibGUgPSBUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiZGlzcGxheTogdGFibGU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2VcIj48L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5jZWxsc0h0bWxFbGVtZW50c01hcCA9IFtdO1xuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGNvbW1hbmQuZ2FtZURhdGEuc2V0dGluZ3MuZmllbGRIZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgbGV0IHJvdyA9IFRhYmxlUmVuZGVyZXIuY3JlYXRlSHRtbEVsZW1lbnQoJzxkaXYgc3R5bGU9XCJkaXNwbGF5OiB0YWJsZS1yb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbeV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgY29tbWFuZC5nYW1lRGF0YS5zZXR0aW5ncy5maWVsZFdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IFRhYmxlUmVuZGVyZXIuY3JlYXRlSHRtbEVsZW1lbnQoJzxkaXYgc3R5bGU9XCJkaXNwbGF5OiB0YWJsZS1jZWxsOyBib3JkZXI6IDFweCBzb2xpZCAjY2NjOyB3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jZWxsc0h0bWxFbGVtZW50c01hcFt5XVt4XSA9IGNlbGw7XG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhYmxlUmVuZGVyZXJTZXR0aW5ncy5jb250YWluZXJFbGVtZW50LnJlcGxhY2VDaGlsZHJlbih0YWJsZSk7XG5cbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuRmFsbGluZ1RpY2tQcm9jZXNzZWQsIHRoaXMub25GYWxsVGlja1Byb2Nlc3NlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuR2FtZU92ZXIsIHRoaXMub25GYWxsVGlja1Byb2Nlc3NlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihFdmVudFR5cGUuRmlndXJlc01vdmVkLCB0aGlzLm9uRmlndXJlc01vdmVkLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25GaWd1cmVzTW92ZWQoY29tbWFuZDogRmFsbFRpY2tQcm9jZXNzZWRFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbmRlclRhYmxlKGNvbW1hbmQuZ2FtZURhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25GYWxsVGlja1Byb2Nlc3NlZChjb21tYW5kOiBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyVGFibGUoY29tbWFuZC5nYW1lRGF0YSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkdhbWVPdmVyKGNvbW1hbmQ6IEdhbWVPdmVyRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUYWJsZShjb21tYW5kLmdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckNvbW1hbmRIYW5kbGVyKGNvbW1hbmQ6IFJlbmRlckNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUYWJsZShjb21tYW5kLmdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclRhYmxlKGdhbWVEYXRhOiBHYW1lRGF0YSk6IHZvaWQge1xuICAgICAgICBnYW1lRGF0YS5tYXRyaXguZm9yRWFjaCgocm93LCB5KSA9PiB7XG4gICAgICAgICAgICByb3cuZm9yRWFjaCgodmFsdWUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVEYXRhLmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbeV1beF0uc3R5bGUuYmFja2dyb3VuZCA9IFwiIzc4MDAwMFwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jZWxsc0h0bWxFbGVtZW50c01hcFt5XVt4XS5zdHlsZS5iYWNrZ3JvdW5kID0gXCIjMDA3NDAwXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNlbGxzSHRtbEVsZW1lbnRzTWFwW3ldW3hdLnN0eWxlLmJhY2tncm91bmQgPSBcIiNmZmZcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmZvckVhY2goZmFsbGluZ0ZpZ3VyZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtYXRyaXggPSBmYWxsaW5nRmlndXJlLmZpZ3VyZS5nZXRUdXJuKGZhbGxpbmdGaWd1cmUudHVyblN0YXRlKTtcbiAgICAgICAgICAgIG1hdHJpeC5mb3JFYWNoKChyb3csIHkpID0+IHtcbiAgICAgICAgICAgICAgICByb3cuZm9yRWFjaCgodmFsdWUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhbFkgPSB5ICsgZmFsbGluZ0ZpZ3VyZS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFsWCA9IHggKyBmYWxsaW5nRmlndXJlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWFsWSBpbiB0aGlzLmNlbGxzSHRtbEVsZW1lbnRzTWFwXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiByZWFsWCBpbiB0aGlzLmNlbGxzSHRtbEVsZW1lbnRzTWFwW3JlYWxZXVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZURhdGEuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbcmVhbFldW3JlYWxYXS5zdHlsZS5iYWNrZ3JvdW5kID0gXCIjNzgwMDAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbcmVhbFldW3JlYWxYXS5zdHlsZS5iYWNrZ3JvdW5kID0gXCIjMDA3NDAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBjcmVhdGVIdG1sRWxlbWVudChodG1sOiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIGlmIChjb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoID4gMSB8fCBjb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93ICdUaGUgSFRNTCBtdXN0IGNvbnRhaW4gb25seSBvbmUgY2hpbGQnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIHRyeWluZyB0byBnZXQgSFRNTEVsZW1lbnQgY2hpbGQgZnJvbSBkaXYnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtGYWxsaW5nRmlndXJlfSBmcm9tIFwiLi4vU3RydWN0dXJlc1wiO1xuaW1wb3J0IHtGaWd1cmVzRmFsbERvd25Db21tYW5kLCBDb21tYW5kQnVzLCBDb21tYW5kVHlwZSwgR2FtZU92ZXJDb21tYW5kLCBGaWd1cmVzRmFsbFRpY2tDb21tYW5kfSBmcm9tIFwiLi4vQ29tbWFuZEJ1cy9Db21tYW5kQnVzXCI7XG5pbXBvcnQge0V2ZW50QnVzLCBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50fSBmcm9tIFwiLi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuLi9HYW1lRGF0YVwiO1xuXG5jbGFzcyBGYWxsaW5nUmVzdWx0IHtcbiAgICBwdWJsaWMgdHJhbnNmZXJyZWRGaWd1cmVzOiBGYWxsaW5nRmlndXJlW10gPSBbXTtcbiAgICBwdWJsaWMgaXNHYW1lT3ZlcjogYm9vbGVhbiA9IGZhbHNlO1xufVxuXG5leHBvcnQgY2xhc3MgUmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuRmlndXJlc0ZhbGxUaWNrLCB0aGlzLnByb2Nlc3NGaWd1cmVzRmFsbFRpY2tDb21tYW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5GaWd1cmVzRmFsbERvd24sIHRoaXMucHJvY2Vzc0ZpZ3VyZXNGYWxsRG93bkNvbW1hbmQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzRmlndXJlc0ZhbGxUaWNrQ29tbWFuZChjb21tYW5kOiBGaWd1cmVzRmFsbFRpY2tDb21tYW5kKSB7XG4gICAgICAgIGNvbnN0IGZhbGxpbmdSZXN1bHQgPSB0aGlzLmZhbGxGaWd1cmVzRm9yT25lQ2VsbChjb21tYW5kLmdhbWVEYXRhKTtcbiAgICAgICAgbGV0IHNxdWFzaGVkTGluZXMgPSB0aGlzLnNxdWFzaExpbmVzKGNvbW1hbmQuZ2FtZURhdGEubWF0cml4KTtcbiAgICAgICAgaWYgKGZhbGxpbmdSZXN1bHQuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgR2FtZU92ZXJDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50QnVzLmZpcmUobmV3IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQoXG4gICAgICAgICAgICBjb21tYW5kLmdhbWVEYXRhLFxuICAgICAgICAgICAgZmFsbGluZ1Jlc3VsdC50cmFuc2ZlcnJlZEZpZ3VyZXMsXG4gICAgICAgICAgICBzcXVhc2hlZExpbmVzLFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NGaWd1cmVzRmFsbERvd25Db21tYW5kKGNvbW1hbmQ6IEZpZ3VyZXNGYWxsRG93bkNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGZhbGxpbmdSZXN1bHQgPSBuZXcgRmFsbGluZ1Jlc3VsdCgpO1xuICAgICAgICB3aGlsZSAoY29tbWFuZC5nYW1lRGF0YS5mYWxsaW5nRmlndXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBvbmVDZWxsRmFsbGluZ1Jlc3VsdCA9IHRoaXMuZmFsbEZpZ3VyZXNGb3JPbmVDZWxsKGNvbW1hbmQuZ2FtZURhdGEpO1xuICAgICAgICAgICAgZmFsbGluZ1Jlc3VsdC50cmFuc2ZlcnJlZEZpZ3VyZXMucHVzaCguLi5vbmVDZWxsRmFsbGluZ1Jlc3VsdC50cmFuc2ZlcnJlZEZpZ3VyZXMpO1xuICAgICAgICAgICAgZmFsbGluZ1Jlc3VsdC5pc0dhbWVPdmVyID0gZmFsbGluZ1Jlc3VsdC5pc0dhbWVPdmVyIHx8IG9uZUNlbGxGYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNxdWFzaGVkTGluZXMgPSB0aGlzLnNxdWFzaExpbmVzKGNvbW1hbmQuZ2FtZURhdGEubWF0cml4KTtcbiAgICAgICAgaWYgKGZhbGxpbmdSZXN1bHQuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgR2FtZU92ZXJDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50QnVzLmZpcmUobmV3IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQoXG4gICAgICAgICAgICBjb21tYW5kLmdhbWVEYXRhLFxuICAgICAgICAgICAgZmFsbGluZ1Jlc3VsdC50cmFuc2ZlcnJlZEZpZ3VyZXMsXG4gICAgICAgICAgICBzcXVhc2hlZExpbmVzLFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZhbGxGaWd1cmVzRm9yT25lQ2VsbChnYW1lRGF0YTogR2FtZURhdGEpOiBGYWxsaW5nUmVzdWx0IHtcbiAgICAgICAgbGV0IGZhbGxpbmdSZXN1bHQgPSBuZXcgRmFsbGluZ1Jlc3VsdCgpO1xuICAgICAgICBnYW1lRGF0YS5mYWxsaW5nRmlndXJlcy5mb3JFYWNoKChmYWxsaW5nRmlndXJlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlndXJlQ2FuRmFsbChnYW1lRGF0YS5tYXRyaXgsIGZhbGxpbmdGaWd1cmUpKSB7XG4gICAgICAgICAgICAgICAgZmFsbGluZ0ZpZ3VyZS5wb3NpdGlvbi55Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBmaWd1cmVHYW1lT3ZlclJlc3VsdCA9IHRoaXMudHJhbnNmZXJGaWd1cmVUb01hdHJpeChcbiAgICAgICAgICAgICAgICAgICAgZ2FtZURhdGEubWF0cml4LFxuICAgICAgICAgICAgICAgICAgICBmYWxsaW5nRmlndXJlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmYWxsaW5nUmVzdWx0LnRyYW5zZmVycmVkRmlndXJlcy5wdXNoKC4uLmdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLnNwbGljZShpbmRleCwgMSkpO1xuICAgICAgICAgICAgICAgIGZhbGxpbmdSZXN1bHQuaXNHYW1lT3ZlciA9IGZhbGxpbmdSZXN1bHQuaXNHYW1lT3ZlciB8fCBmaWd1cmVHYW1lT3ZlclJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxsaW5nUmVzdWx0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlndXJlQ2FuRmFsbChtYXRyaXg6IGJvb2xlYW5bXVtdLCBmYWxsaW5nRmlndXJlOiBGYWxsaW5nRmlndXJlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxsaW5nRmlndXJlLmZpZ3VyZS5nZXRUdXJuKGZhbGxpbmdGaWd1cmUudHVyblN0YXRlKVxuICAgICAgICAgICAgLmV2ZXJ5KChyb3csIGZpZ3VyZUNlbGxZKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdy5ldmVyeSgoY2VsbFZhbHVlLCBmaWd1cmVDZWxsWCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dEZhbGxNYXRyaXhYID0gZmFsbGluZ0ZpZ3VyZS5wb3NpdGlvbi54ICsgZmlndXJlQ2VsbFg7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0RmFsbE1hdHJpeFkgPSBmYWxsaW5nRmlndXJlLnBvc2l0aW9uLnkgKyBmaWd1cmVDZWxsWSArIDE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhY2VsbFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXh0RmFsbE1hdHJpeFkgPCAwXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZhbGxNYXRyaXhZIGluIG1hdHJpeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIG5leHRGYWxsTWF0cml4WCBpbiBtYXRyaXhbbmV4dEZhbGxNYXRyaXhZXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFtYXRyaXhbbmV4dEZhbGxNYXRyaXhZXVtuZXh0RmFsbE1hdHJpeFhdXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0cmFuc2ZlckZpZ3VyZVRvTWF0cml4KG1hdHJpeDogYm9vbGVhbltdW10sIGZhbGxpbmdGaWd1cmU6IEZhbGxpbmdGaWd1cmUpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGlzR2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgZmFsbGluZ0ZpZ3VyZS5maWd1cmUuZ2V0VHVybihmYWxsaW5nRmlndXJlLnR1cm5TdGF0ZSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChyb3csIGZpZ3VyZUNlbGxZKSA9PiB7XG4gICAgICAgICAgICAgICAgcm93LmZvckVhY2goKGNlbGxWYWx1ZSwgZmlndXJlQ2VsbFgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjZWxsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0cml4WCA9IGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueCArIGZpZ3VyZUNlbGxYO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0cml4WSA9IGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueSArIGZpZ3VyZUNlbGxZO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0cml4WSBpbiBtYXRyaXhcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIG1hdHJpeFggaW4gbWF0cml4W21hdHJpeFldXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAhbWF0cml4W21hdHJpeFldW21hdHJpeFhdXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W21hdHJpeFldW21hdHJpeFhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzR2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzR2FtZU92ZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcXVhc2hMaW5lcyhtYXRyaXg6IGJvb2xlYW5bXVtdKTogbnVtYmVyW10ge1xuICAgICAgICBsZXQgbGluZXNUb1NxdWFzaDogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgeSkgPT4ge1xuICAgICAgICAgICAgbGV0IGNhbkJlU3F1YXNoZWQgPSByb3cuZXZlcnkoY2VsbCA9PiBjZWxsKTtcbiAgICAgICAgICAgIGlmIChjYW5CZVNxdWFzaGVkKSB7XG4gICAgICAgICAgICAgICAgbGluZXNUb1NxdWFzaC5wdXNoKHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICAgICAgbGluZXNUb1NxdWFzaC5mb3JFYWNoKHkgPT4ge1xuICAgICAgICAgICAgbWF0cml4LnNwbGljZSh5LCAxKTtcbiAgICAgICAgICAgIG1hdHJpeC51bnNoaWZ0KG5ldyBBcnJheShtYXRyaXhbMF0ubGVuZ3RoKS5maWxsKGZhbHNlKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbGluZXNUb1NxdWFzaDtcbiAgICB9XG59XG4iLCJpbXBvcnQge0ZpZ3VyZSwgRmlndXJlVHVyblN0YXRlfSBmcm9tIFwiLi9GaWd1cmVzXCI7XG5cbi8qKlxuICogeCBmb3IgaG9yaXpvbnRhbCBwb3NpdGlvbmluZ1xuICogeSBmb3IgdmVydGljYWwgcG9zaXRpb25pbmdcbiAqL1xuZXhwb3J0IGNsYXNzIENvb3JkaW5hdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgeDogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgeTogbnVtYmVyLFxuICAgICkge31cbn1cblxuZXhwb3J0IGNsYXNzIEZhbGxpbmdGaWd1cmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZmlndXJlOiBGaWd1cmUsXG4gICAgICAgIHB1YmxpYyBwb3NpdGlvbjogQ29vcmRpbmF0ZSxcbiAgICAgICAgcHVibGljIHR1cm5TdGF0ZTogRmlndXJlVHVyblN0YXRlLFxuICAgICkge31cbn1cbiIsImltcG9ydCB7RXZlbnRCdXMsIEV2ZW50VHlwZSwgRmFsbFRpY2tQcm9jZXNzZWRFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0ZpZ3VyZVR1cm5TdGF0ZX0gZnJvbSBcIi4uL0ZpZ3VyZXNcIjtcbmltcG9ydCB7Q29vcmRpbmF0ZSwgRmFsbGluZ0ZpZ3VyZX0gZnJvbSBcIi4uL1N0cnVjdHVyZXNcIjtcbmltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEluaXRHYW1lQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0dhbWVEYXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBBbHdheXNPbmVGaWd1cmVTcGF3bmVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1cyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuSW5pdEdhbWUsIHRoaXMuaW5pdEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0SGFuZGxlcihldmVudDogSW5pdEdhbWVDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWRkRmlndXJlKGV2ZW50LmdhbWVEYXRhKTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihcbiAgICAgICAgICAgIEV2ZW50VHlwZS5GYWxsaW5nVGlja1Byb2Nlc3NlZCxcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc09uRmFsbFRpY2suYmluZCh0aGlzKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NPbkZhbGxUaWNrKGV2ZW50OiBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWRkRmlndXJlKGV2ZW50LmdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZEZpZ3VyZShnYW1lRGF0YTogR2FtZURhdGEpOiB2b2lkIHtcbiAgICAgICAgaWYgKGdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmxlbmd0aCA+IDAgfHwgZ2FtZURhdGEuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlndXJlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBnYW1lRGF0YS5zZXR0aW5ncy5maWd1cmVzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGZpZ3VyZSA9IGdhbWVEYXRhLnNldHRpbmdzLmZpZ3VyZXNbZmlndXJlSW5kZXhdO1xuICAgICAgICBjb25zdCB0dXJuU3RhdGUgPSB0aGlzLmdldFJhbmRUdXJuU3RhdGUoKTtcbiAgICAgICAgY29uc3QgZmlndXJlTWF0cml4ID0gZmlndXJlLmdldFR1cm4odHVyblN0YXRlKTtcbiAgICAgICAgY29uc3QgZmlndXJlV2lkdGggPSBNYXRoLm1heCguLi5maWd1cmVNYXRyaXgubWFwKHJvdyA9PiByb3cubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBuZXcgQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIE1hdGguY2VpbChnYW1lRGF0YS5zZXR0aW5ncy5maWVsZFdpZHRoIC8gMiAtIGZpZ3VyZVdpZHRoIC8gMikgLSAxLFxuICAgICAgICAgICAgLWZpZ3VyZU1hdHJpeC5sZW5ndGgsXG4gICAgICAgICk7XG4gICAgICAgIGdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLnB1c2gobmV3IEZhbGxpbmdGaWd1cmUoXG4gICAgICAgICAgICBmaWd1cmUsXG4gICAgICAgICAgICBjb29yZGluYXRlLFxuICAgICAgICAgICAgdHVyblN0YXRlXG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmFuZFR1cm5TdGF0ZSgpOiBGaWd1cmVUdXJuU3RhdGUge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoRmlndXJlVHVyblN0YXRlKTtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IGtleXNcbiAgICAgICAgICAgIC5tYXAobiA9PiBOdW1iZXIucGFyc2VJbnQobikpXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gIU51bWJlci5pc05hTihuKSkgYXMgdW5rbm93biBhcyBGaWd1cmVUdXJuU3RhdGVbXVxuICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVudW1WYWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXNbcmFuZG9tSW5kZXhdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIE1vdmVMZWZ0Q29tbWFuZCwgTW92ZVJpZ2h0Q29tbWFuZCwgVHVybkNsb2Nrd2lzZUNvbW1hbmQsIE1vdmVEb3duQ29tbWFuZCwgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtGaWd1cmVUdXJuU3RhdGV9IGZyb20gXCIuLi9GaWd1cmVzXCI7XG5pbXBvcnQge0V2ZW50QnVzLCBGaWd1cmVzTW92ZWRFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0Nvb3JkaW5hdGUsIEZhbGxpbmdGaWd1cmV9IGZyb20gXCIuLi9TdHJ1Y3R1cmVzXCI7XG5cbmV4cG9ydCBjbGFzcyBNb3ZpbmdIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuTW92ZUxlZnQsIHRoaXMucHJvY2Vzc01vdmVMZWZ0Q29tbWFuZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuTW92ZVJpZ2h0LCB0aGlzLnByb2Nlc3NNb3ZlUmlnaHRDb21tYW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Nb3ZlRG93biwgdGhpcy5wcm9jZXNzTW92ZURvd25Db21tYW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5UdXJuQ2xvY2t3aXNlLCB0aGlzLnByb2Nlc3NUdXJuQ2xvY2t3aXNlQ29tbWFuZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NNb3ZlTGVmdENvbW1hbmQoY29tbWFuZDogTW92ZUxlZnRDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGNvbW1hbmQuZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuZm9yRWFjaChmaWd1cmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FuQmVNb3ZlZExlZnQgPSB0aGlzLmNhbkZpZ3VyZUJlTW92ZWQoXG4gICAgICAgICAgICAgICAgZmlndXJlLmZpZ3VyZS5nZXRUdXJuKGZpZ3VyZS50dXJuU3RhdGUpLFxuICAgICAgICAgICAgICAgIG5ldyBDb29yZGluYXRlKGZpZ3VyZS5wb3NpdGlvbi54IC0gMSwgZmlndXJlLnBvc2l0aW9uLnkpLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQuZ2FtZURhdGEubWF0cml4XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGNhbkJlTW92ZWRMZWZ0KSB7XG4gICAgICAgICAgICAgICAgZmlndXJlLnBvc2l0aW9uLngtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgRmlndXJlc01vdmVkRXZlbnQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc01vdmVSaWdodENvbW1hbmQoY29tbWFuZDogTW92ZVJpZ2h0Q29tbWFuZCk6IHZvaWQge1xuICAgICAgICBjb21tYW5kLmdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmZvckVhY2goZmlndXJlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbkJlTW92ZWRSaWdodCA9IHRoaXMuY2FuRmlndXJlQmVNb3ZlZChcbiAgICAgICAgICAgICAgICBmaWd1cmUuZmlndXJlLmdldFR1cm4oZmlndXJlLnR1cm5TdGF0ZSksXG4gICAgICAgICAgICAgICAgbmV3IENvb3JkaW5hdGUoZmlndXJlLnBvc2l0aW9uLnggKyAxLCBmaWd1cmUucG9zaXRpb24ueSksXG4gICAgICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YS5tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoY2FuQmVNb3ZlZFJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZmlndXJlLnBvc2l0aW9uLngrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgRmlndXJlc01vdmVkRXZlbnQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc1R1cm5DbG9ja3dpc2VDb21tYW5kKGNvbW1hbmQ6IFR1cm5DbG9ja3dpc2VDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGFsbFR1cm5TdGF0ZXMgPSB0aGlzLmdldFR1cm5TdGF0ZXNBc0FycmF5KCk7XG4gICAgICAgIGNvbW1hbmQuZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuZm9yRWFjaChmaWd1cmUgPT4ge1xuICAgICAgICAgICAgbGV0IG5leHRUdXJuU3RhdGUgPSBmaWd1cmUudHVyblN0YXRlICsgMTtcbiAgICAgICAgICAgIGlmICghKG5leHRUdXJuU3RhdGUgaW4gYWxsVHVyblN0YXRlcykpIHtcbiAgICAgICAgICAgICAgICBuZXh0VHVyblN0YXRlID0gYWxsVHVyblN0YXRlc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbkJlVHVybmVkID0gdGhpcy5jYW5GaWd1cmVCZU1vdmVkKFxuICAgICAgICAgICAgICAgIGZpZ3VyZS5maWd1cmUuZ2V0VHVybihuZXh0VHVyblN0YXRlKSxcbiAgICAgICAgICAgICAgICBmaWd1cmUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YS5tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoY2FuQmVUdXJuZWQpIHtcbiAgICAgICAgICAgICAgICBmaWd1cmUudHVyblN0YXRlID0gbmV4dFR1cm5TdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgRmlndXJlc01vdmVkRXZlbnQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc01vdmVEb3duQ29tbWFuZChjb21tYW5kOiBNb3ZlRG93bkNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYW5GaWd1cmVCZU1vdmVkKHRhcmdldEZpZ3VyZU1hdHJpeDogYm9vbGVhbltdW10sIHRhcmdldFBvc2l0aW9uOiBDb29yZGluYXRlLCBtYXRyaXg6IGJvb2xlYW5bXVtdKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0YXJnZXRGaWd1cmVNYXRyaXguZXZlcnkoKHJvdywgeSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJvdy5ldmVyeSgodmFsdWUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFsWSA9IHRhcmdldFBvc2l0aW9uLnkgKyB5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWxYID0gdGFyZ2V0UG9zaXRpb24ueCArIHg7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB8fCByZWFsWSA8IDBcbiAgICAgICAgICAgICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFkgaW4gbWF0cml4XG4gICAgICAgICAgICAgICAgICAgICAgICAmJiByZWFsWCBpbiBtYXRyaXhbcmVhbFldXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAhbWF0cml4W3JlYWxZXVtyZWFsWF1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFR1cm5TdGF0ZXNBc0FycmF5KCk6IEZpZ3VyZVR1cm5TdGF0ZVtdIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKEZpZ3VyZVR1cm5TdGF0ZSlcbiAgICAgICAgICAgIC5tYXAobiA9PiBOdW1iZXIucGFyc2VJbnQobikpXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gIU51bWJlci5pc05hTihuKSkgYXMgdW5rbm93biBhcyBGaWd1cmVUdXJuU3RhdGVbXTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0NvbW1hbmRCdXMsIENvbW1hbmRUeXBlLCBGaWd1cmVzRmFsbERvd25Db21tYW5kLCBJbml0R2FtZUNvbW1hbmQsIE1vdmVMZWZ0Q29tbWFuZCwgTW92ZVJpZ2h0Q29tbWFuZCwgVHVybkNsb2Nrd2lzZUNvbW1hbmQsIE1vdmVEb3duQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0dhbWVEYXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBNb3ZpbmdDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkluaXRHYW1lLCB0aGlzLnByb2Nlc3NJbml0R2FtZUNvbW1hbmQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzSW5pdEdhbWVDb21tYW5kKGNvbW1hbmQ6IEluaXRHYW1lQ29tbWFuZCkge1xuICAgICAgICB3aW5kb3cub25rZXlkb3duID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgTW92ZUxlZnRDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY29kZSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgTW92ZVJpZ2h0Q29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09ICdBcnJvd1VwJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IFR1cm5DbG9ja3dpc2VDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY29kZSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBNb3ZlRG93bkNvbW1hbmQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5jb2RlID09PSAnQXJyb3dEb3duJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IE1vdmVEb3duQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09ICdTcGFjZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBGaWd1cmVzRmFsbERvd25Db21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1RpbWluZ3NIYW5kbGVyfSBmcm9tIFwiLi9UaW1pbmdzSGFuZGxlclwiO1xuaW1wb3J0IHtFdmVudEJ1cywgRXZlbnRUeXBlLCBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50fSBmcm9tIFwiLi4vRXZlbnRCdXMvRXZlbnRCdXNcIjtcbmltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEluaXRHYW1lQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuXG5leHBvcnQgY2xhc3MgUmVkdWNpbmdUaW1pbmdzSGFuZGxlciBpbXBsZW1lbnRzIFRpbWluZ3NIYW5kbGVyIHtcbiAgICBwcml2YXRlIGNvdW50ZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZXZlbnRCdXM6IEV2ZW50QnVzLFxuICAgICAgICBwcml2YXRlIGNvbW1hbmRCdXM6IENvbW1hbmRCdXMsXG4gICAgICAgIHByaXZhdGUgZGVsYXlNczogbnVtYmVyLFxuICAgICAgICBwcml2YXRlIGRlY3JlYXNlRXZlcnlGYWxsZW5GaWd1cmU6IG51bWJlcixcbiAgICAgICAgcHJpdmF0ZSBkZWNyZWFzZVZhbHVlOiBudW1iZXIsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkluaXRHYW1lLCB0aGlzLnByb2Nlc3NJbml0R2FtZUNvbW1hbmQuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBnZXREZWxheUZvck5leHRUaWNrTXMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsYXlNcztcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NJbml0R2FtZUNvbW1hbmQoY29tbWFuZDogSW5pdEdhbWVDb21tYW5kKSB7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMub24oRXZlbnRUeXBlLkZhbGxpbmdUaWNrUHJvY2Vzc2VkLCB0aGlzLm9uRmFsbFRpY2tQcm9jZXNzZWQuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRmFsbFRpY2tQcm9jZXNzZWQoZXZlbnQ6IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRyYW5zZmVycmVkVG9NYXRyaXhGaWd1cmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnRlcisrO1xuICAgICAgICBpZiAodGhpcy5jb3VudGVyID49IHRoaXMuZGVjcmVhc2VFdmVyeUZhbGxlbkZpZ3VyZSkge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGVsYXlNcyAqPSB0aGlzLmRlY3JlYXNlVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0dhbWVDb250cm9sbGVyfSBmcm9tICcuL0dhbWVDb250cm9sbGVyJ1xuaW1wb3J0IHtUYWJsZVJlbmRlcmVyLCBUYWJsZVJlbmRlcmVyU2V0dGluZ3N9IGZyb20gJy4vUmVuZGVyZXIvVGFibGVSZW5kZXJlcidcbmltcG9ydCB7Q29uc3RUaW1pbmdzSGFuZGxlcn0gZnJvbSBcIi4vVGltaW5nc0hhbmRsZXIvQ29uc3RUaW1pbmdzSGFuZGxlclwiO1xuaW1wb3J0IHtSZWd1bGFyRmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3J9IGZyb20gXCIuL0ZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yL1JlZ3VsYXJGYWxsaW5nRmlndXJlc1Byb2Nlc3NvclwiO1xuaW1wb3J0IHtBbHdheXNPbmVGaWd1cmVTcGF3bmVyfSBmcm9tIFwiLi9GaWd1cmVzU3Bhd25lci9BbHdheXNPbmVGaWd1cmVTcGF3bmVyXCI7XG5pbXBvcnQge0V2ZW50QnVzfSBmcm9tIFwiLi9FdmVudEJ1cy9FdmVudEJ1c1wiO1xuaW1wb3J0IHtDb21tYW5kQnVzLCBJbml0R2FtZUNvbW1hbmQsIFBhdXNlR2FtZUNvbW1hbmQsIFJlc3VtZUdhbWVDb21tYW5kfSBmcm9tIFwiLi9Db21tYW5kQnVzL0NvbW1hbmRCdXNcIjtcbmltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuL0dhbWVEYXRhXCI7XG5pbXBvcnQge01vdmluZ0hhbmRsZXJ9IGZyb20gXCIuL01vdmluZ0hhbmRsZXIvTW92aW5nSGFuZGxlclwiO1xuaW1wb3J0IHtNb3ZpbmdDb250cm9sbGVyfSBmcm9tIFwiLi9Nb3ZpbmdDb250cm9sbGVyL01vdmluZ0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7UmVkdWNpbmdUaW1pbmdzSGFuZGxlcn0gZnJvbSBcIi4vVGltaW5nc0hhbmRsZXIvUmVkdWNpbmdUaW1pbmdzSGFuZGxlclwiO1xuXG5leHBvcnQgY2xhc3MgVGV0cmlzRmFjYWRlIHtcbiAgICBwcml2YXRlIGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKCk7XG4gICAgcHJpdmF0ZSBjb21tYW5kQnVzID0gbmV3IENvbW1hbmRCdXMoKTtcbiAgICBwcml2YXRlIGdhbWVDb250cm9sbGVyID0gbmV3IEdhbWVDb250cm9sbGVyKFxuICAgICAgICBuZXcgUmVkdWNpbmdUaW1pbmdzSGFuZGxlcih0aGlzLmV2ZW50QnVzLCB0aGlzLmNvbW1hbmRCdXMsIDUwMCwgMTAsIDAuNyksXG4gICAgICAgIHRoaXMuZXZlbnRCdXMsXG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cyxcbiAgICApO1xuICAgIHByaXZhdGUgbW92aW5nSGFuZGxlciA9IG5ldyBNb3ZpbmdIYW5kbGVyKFxuICAgICAgICB0aGlzLmNvbW1hbmRCdXMsXG4gICAgICAgIHRoaXMuZXZlbnRCdXMsXG4gICAgKTtcbiAgICBwcml2YXRlIG1vdmluZ0NvbnRyb2xsZXIgPSBuZXcgTW92aW5nQ29udHJvbGxlcihcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICk7XG4gICAgcHJpdmF0ZSB0YWJsZVJlbmRlcmVyID0gbmV3IFRhYmxlUmVuZGVyZXIoXG4gICAgICAgIG5ldyBUYWJsZVJlbmRlcmVyU2V0dGluZ3MoXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LFxuICAgICAgICApLFxuICAgICAgICB0aGlzLmNvbW1hbmRCdXMsXG4gICAgICAgIHRoaXMuZXZlbnRCdXNcbiAgICApO1xuICAgIHByaXZhdGUgZmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3IgPSBuZXcgUmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yKFxuICAgICAgICB0aGlzLmNvbW1hbmRCdXMsXG4gICAgICAgIHRoaXMuZXZlbnRCdXNcbiAgICApO1xuICAgIHByaXZhdGUgZmlndXJlc1NwYXduZXIgPSBuZXcgQWx3YXlzT25lRmlndXJlU3Bhd25lcihcbiAgICAgICAgdGhpcy5ldmVudEJ1cyxcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICk7XG4gICAgcHVibGljIGdhbWVEYXRhID0gR2FtZURhdGEubWFrZVNpbXBsZSgpO1xuXG4gICAgcHVibGljIHN0YXJ0KGdhbWVEYXRhPzogR2FtZURhdGEpIHtcbiAgICAgICAgdGhpcy5nYW1lRGF0YSA9IGdhbWVEYXRhIHx8IEdhbWVEYXRhLm1ha2VTaW1wbGUoKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgSW5pdEdhbWVDb21tYW5kKHRoaXMuZ2FtZURhdGEpKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUmVzdW1lR2FtZUNvbW1hbmQodGhpcy5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXN1bWUoKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IFJlc3VtZUdhbWVDb21tYW5kKHRoaXMuZ2FtZURhdGEpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IFBhdXNlR2FtZUNvbW1hbmQodGhpcy5nYW1lRGF0YSkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRldHJpc0ZhY2FkZSB9IGZyb20gJy4vVGV0cmlzL1RldHJpc0ZhY2FkZSdcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgICBsZXQgdGV0cmlzID0gbmV3IFRldHJpc0ZhY2FkZSgpO1xuICAgIHRldHJpcy5zdGFydCgpO1xufSlcbiJdLCJuYW1lcyI6WyJFdmVudFR5cGUiLCJGaWd1cmVUdXJuU3RhdGUiLCJnYW1lRGF0YSIsInRyYW5zZmVycmVkVG9NYXRyaXhGaWd1cmVzIiwic3F1YXNoZWRMaW5lcyIsImdldEV2ZW50VHlwZSIsIkZhbGxpbmdUaWNrUHJvY2Vzc2VkIiwiR2FtZU92ZXIiLCJGaWd1cmVzTW92ZWQiLCJoYW5kbGVycyIsIk1hcCIsIm9uIiwiZXZlbnQiLCJoYW5kbGVyIiwidW5pcXVlIiwidGhpcyIsImdldCIsInNvbWUiLCJib3VuZEhhbmRsZXIiLCJwdXNoIiwic2V0Iiwib2ZmIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZmlyZSIsImV2ZW50UGF5bG9hZCIsImZvckVhY2giLCJmaWVsZFdpZHRoIiwiZmllbGRIZWlnaHQiLCJmaWd1cmVzIiwiQ29tbWFuZFR5cGUiLCJnZXROb3JtYWxpemVkRmlndXJlIiwiZmlndXJlIiwiZ2V0RmlndXJlIiwidGhlTG9uZ2VzdFJvd1NpemUiLCJyZWR1Y2UiLCJwcmV2aW91cyIsImN1cnJlbnQiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwibWFwIiwicm93Iiwib3JpZ2luYWxMZW5ndGgiLCJmaWxsIiwiZ2V0Rmlyc3RUdXJuIiwiZ2V0U2Vjb25kVHVybiIsIm9yaWdpbmFsRmlndXJlIiwidHVybmVkRmlndXJlIiwib3JpZ2luYWxGaWd1cmVIZWlnaHQiLCJvcmlnaW5hbEZpZ3VyZVdpZHRoIiwieCIsIkFycmF5IiwieSIsImdldFRoaXJkVHVybiIsInJldmVyc2UiLCJnZXRGb3J0aFR1cm4iLCJnZXRUdXJuIiwiZmlndXJlVHVyblN0YXRlIiwiT25lIiwiVHdvIiwiVGhyZWUiLCJGb3VyIiwic3BsaXQiLCJpdGVtIiwiU2ltcGx5Um90YXRhYmxlRmlndXJlIiwiaXNJbml0aWFsaXplZCIsImlzR2FtZU92ZXIiLCJmYWxsaW5nRmlndXJlcyIsIm1hdHJpeCIsIm5leHRUaWNrVGltZW91dElkIiwic2V0dGluZ3MiLCJzZXRUaW1lb3V0IiwibWFrZVNpbXBsZSIsIndpZHRoIiwiaGVpZ2h0IiwiR2FtZURhdGEiLCJfIiwiR2FtZVNldHRpbmdzIiwiVEZpZ3VyZSIsIlJpZ2h0TEZpZ3VyZSIsIkxlZnRMRmlndXJlIiwiU3F1YXJlRmlndXJlIiwiU3RpY2tGaWd1cmUiLCJMWkZpZ3VyZSIsIlJaRmlndXJlIiwiZ2V0Q29tbWFuZFR5cGUiLCJJbml0R2FtZSIsIlJlc3VtZUdhbWUiLCJQYXVzZUdhbWUiLCJGaWd1cmVzRmFsbFRpY2siLCJSZW5kZXIiLCJNb3ZlTGVmdCIsIk1vdmVSaWdodCIsIlR1cm5DbG9ja3dpc2UiLCJNb3ZlRG93biIsIkZpZ3VyZXNGYWxsRG93biIsImFkZEhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwicnVuIiwicGF5bG9hZCIsInRpbWluZ3NIYW5kbGVyIiwiZXZlbnRCdXMiLCJjb21tYW5kQnVzIiwiaW5pdEdhbWVIYW5kbGVyIiwiYmluZCIsInJlc3VtZUdhbWVIYW5kbGVyIiwicGF1c2VHYW1lSGFuZGxlciIsImdhbWVPdmVySGFuZGxlciIsImNvbW1hbmQiLCJJbml0R2FtZUNvbW1hbmQiLCJmYWxsVGljayIsImNsZWFyVGltZW91dCIsIlJlbmRlckNvbW1hbmQiLCJHYW1lT3ZlckV2ZW50IiwiRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCIsImdldERlbGF5Rm9yTmV4dFRpY2tNcyIsImNvbnRhaW5lckVsZW1lbnQiLCJ0YWJsZVJlbmRlcmVyU2V0dGluZ3MiLCJjZWxsc0h0bWxFbGVtZW50c01hcCIsImluaXRIYW5kbGVyIiwicmVuZGVyQ29tbWFuZEhhbmRsZXIiLCJ0YWJsZSIsIlRhYmxlUmVuZGVyZXIiLCJjcmVhdGVIdG1sRWxlbWVudCIsImNlbGwiLCJhcHBlbmRDaGlsZCIsInJlcGxhY2VDaGlsZHJlbiIsIm9uRmFsbFRpY2tQcm9jZXNzZWQiLCJvbkZpZ3VyZXNNb3ZlZCIsInJlbmRlclRhYmxlIiwib25HYW1lT3ZlciIsInZhbHVlIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiZmFsbGluZ0ZpZ3VyZSIsInR1cm5TdGF0ZSIsInJlYWxZIiwicG9zaXRpb24iLCJyZWFsWCIsImh0bWwiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJjaGlsZHJlbiIsImZpcnN0RWxlbWVudENoaWxkIiwiSFRNTEVsZW1lbnQiLCJ0cmFuc2ZlcnJlZEZpZ3VyZXMiLCJwcm9jZXNzRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCIsInByb2Nlc3NGaWd1cmVzRmFsbERvd25Db21tYW5kIiwiZmFsbGluZ1Jlc3VsdCIsImZhbGxGaWd1cmVzRm9yT25lQ2VsbCIsInNxdWFzaExpbmVzIiwiR2FtZU92ZXJDb21tYW5kIiwiRmFsbFRpY2tQcm9jZXNzZWRFdmVudCIsIkZhbGxpbmdSZXN1bHQiLCJvbmVDZWxsRmFsbGluZ1Jlc3VsdCIsImZpZ3VyZUNhbkZhbGwiLCJmaWd1cmVHYW1lT3ZlclJlc3VsdCIsInRyYW5zZmVyRmlndXJlVG9NYXRyaXgiLCJldmVyeSIsImZpZ3VyZUNlbGxZIiwiY2VsbFZhbHVlIiwiZmlndXJlQ2VsbFgiLCJuZXh0RmFsbE1hdHJpeFgiLCJuZXh0RmFsbE1hdHJpeFkiLCJtYXRyaXhYIiwibWF0cml4WSIsImxpbmVzVG9TcXVhc2giLCJ1bnNoaWZ0IiwiYWRkRmlndXJlIiwicHJvY2Vzc09uRmFsbFRpY2siLCJmaWd1cmVJbmRleCIsImZsb29yIiwicmFuZG9tIiwiZ2V0UmFuZFR1cm5TdGF0ZSIsImZpZ3VyZU1hdHJpeCIsImZpZ3VyZVdpZHRoIiwiY29vcmRpbmF0ZSIsIkNvb3JkaW5hdGUiLCJjZWlsIiwiRmFsbGluZ0ZpZ3VyZSIsImVudW1WYWx1ZXMiLCJPYmplY3QiLCJrZXlzIiwibiIsIk51bWJlciIsInBhcnNlSW50IiwiZmlsdGVyIiwiaXNOYU4iLCJwcm9jZXNzTW92ZUxlZnRDb21tYW5kIiwicHJvY2Vzc01vdmVSaWdodENvbW1hbmQiLCJwcm9jZXNzTW92ZURvd25Db21tYW5kIiwicHJvY2Vzc1R1cm5DbG9ja3dpc2VDb21tYW5kIiwiY2FuRmlndXJlQmVNb3ZlZCIsIkZpZ3VyZXNNb3ZlZEV2ZW50IiwiYWxsVHVyblN0YXRlcyIsImdldFR1cm5TdGF0ZXNBc0FycmF5IiwibmV4dFR1cm5TdGF0ZSIsInRhcmdldEZpZ3VyZU1hdHJpeCIsInRhcmdldFBvc2l0aW9uIiwicHJvY2Vzc0luaXRHYW1lQ29tbWFuZCIsIndpbmRvdyIsIm9ua2V5ZG93biIsImNvbnNvbGUiLCJsb2ciLCJjb2RlIiwiTW92ZUxlZnRDb21tYW5kIiwiTW92ZVJpZ2h0Q29tbWFuZCIsIlR1cm5DbG9ja3dpc2VDb21tYW5kIiwiTW92ZURvd25Db21tYW5kIiwiRmlndXJlc0ZhbGxEb3duQ29tbWFuZCIsImRlbGF5TXMiLCJkZWNyZWFzZUV2ZXJ5RmFsbGVuRmlndXJlIiwiZGVjcmVhc2VWYWx1ZSIsImNvdW50ZXIiLCJFdmVudEJ1cyIsIkNvbW1hbmRCdXMiLCJnYW1lQ29udHJvbGxlciIsIkdhbWVDb250cm9sbGVyIiwiUmVkdWNpbmdUaW1pbmdzSGFuZGxlciIsIm1vdmluZ0hhbmRsZXIiLCJNb3ZpbmdIYW5kbGVyIiwibW92aW5nQ29udHJvbGxlciIsIk1vdmluZ0NvbnRyb2xsZXIiLCJ0YWJsZVJlbmRlcmVyIiwiVGFibGVSZW5kZXJlclNldHRpbmdzIiwiYm9keSIsImZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yIiwiUmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yIiwiZmlndXJlc1NwYXduZXIiLCJBbHdheXNPbmVGaWd1cmVTcGF3bmVyIiwic3RhcnQiLCJSZXN1bWVHYW1lQ29tbWFuZCIsInJlc3VtZSIsInBhdXNlIiwiUGF1c2VHYW1lQ29tbWFuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJUZXRyaXNGYWNhZGUiXSwic291cmNlUm9vdCI6IiJ9