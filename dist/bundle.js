(()=>{"use strict";var e;!function(e){e[e.FallingTickProcessed=0]="FallingTickProcessed",e[e.GameOver=1]="GameOver",e[e.FiguresMoved=2]="FiguresMoved",e[e.LevelUp=3]="LevelUp"}(e||(e={}));var t,n,i=function(){function t(e,t,n){this.gameData=e,this.transferredToMatrixFigures=t,this.squashedLines=n}return t.prototype.getEventType=function(){return e.FallingTickProcessed},t}(),r=function(){function t(e){this.gameData=e}return t.prototype.getEventType=function(){return e.GameOver},t}(),o=function(){function t(e){this.gameData=e}return t.prototype.getEventType=function(){return e.FiguresMoved},t}(),a=function(){function e(){this.handlers=new Map}return e.prototype.on=function(e,t,n){void 0===n&&(n=!0);var i=this.handlers.get(e)||[];n&&i.some((function(e){return e===t}))||(i.push(t),this.handlers.set(e,i))},e.prototype.off=function(e,t){var n=this.handlers.get(e)||[],i=n.indexOf(t);i>0&&n.splice(i,1),this.handlers.set(e,n)},e.prototype.fire=function(e){(this.handlers.get(e.getEventType())||[]).forEach((function(t){t(e)}))},e}(),s=function(e,t,n){this.fieldWidth=e,this.fieldHeight=t,this.figures=n},u=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});!function(e){e[e.One=0]="One",e[e.Two=1]="Two",e[e.Three=2]="Three",e[e.Four=3]="Four"}(n||(n={}));var l,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getNormalizedFigure=function(){var e=this.getFigure(),t=e.reduce((function(e,t){return Math.max(e,t.length)}),0);return e.map((function(e){var n=e.length;return e.length=t,e.fill(!1,n-1,t-1)}))},t.prototype.getFirstTurn=function(){return this.getNormalizedFigure()},t.prototype.getSecondTurn=function(){for(var e=this.getNormalizedFigure(),t=[],n=e.length,i=e[0].length,r=0;r<i;r++){t[r]=new Array(n).fill(!1);for(var o=0;o<n;o++)t[r][n-o-1]=e[o][r]}return t},t.prototype.getThirdTurn=function(){return this.getFirstTurn().reverse().map((function(e){return e.reverse()}))},t.prototype.getForthTurn=function(){return this.getSecondTurn().reverse().map((function(e){return e.reverse()}))},t}(function(){function e(){}return e.prototype.getTurn=function(e){switch(e){case n.One:return this.getFirstTurn();case n.Two:return this.getSecondTurn();case n.Three:return this.getThirdTurn();case n.Four:return this.getForthTurn()}},e}()),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getFigure=function(){return["###".split("").map((function(e){return"#"===e})),"-#-".split("").map((function(e){return"#"===e}))]},t}(c),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getFigure=function(){return["###".split("").map((function(e){return"#"===e})),"--#".split("").map((function(e){return"#"===e}))]},t}(c),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getFigure=function(){return["###".split("").map((function(e){return"#"===e})),"#--".split("").map((function(e){return"#"===e}))]},t}(c),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getFigure=function(){return["##".split("").map((function(e){return"#"===e})),"##".split("").map((function(e){return"#"===e}))]},t}(c),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getFigure=function(){return["####".split("").map((function(e){return"#"===e}))]},t}(c),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getFigure=function(){return["##-".split("").map((function(e){return"#"===e})),"-##".split("").map((function(e){return"#"===e}))]},t}(c),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getFigure=function(){return["-##".split("").map((function(e){return"#"===e})),"##-".split("").map((function(e){return"#"===e}))]},t}(c),y=function(){function e(e,t,n,i,r,o,a,s){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=setTimeout((function(){}))),void 0===a&&(a=1),void 0===s&&(s=0),this.isInitialized=e,this.isGameOver=t,this.fallingFigures=n,this.matrix=i,this.nextTickTimeoutId=r,this.settings=o,this.level=a,this.score=s}return e.makeSimple=function(t,n){return void 0===t&&(t=10),void 0===n&&(n=20),new e(!1,!1,[],new Array(n).fill([]).map((function(e){return new Array(t).fill(!1)})),setTimeout((function(){})),new s(t,n,[new m,new h,new d,new p,new f,new g,new v]))},e}();!function(e){e[e.InitGame=0]="InitGame",e[e.ResumeGame=1]="ResumeGame",e[e.PauseGame=2]="PauseGame",e[e.FiguresFallTick=3]="FiguresFallTick",e[e.GameOver=4]="GameOver",e[e.Render=5]="Render",e[e.MoveLeft=6]="MoveLeft",e[e.MoveRight=7]="MoveRight",e[e.TurnClockwise=8]="TurnClockwise",e[e.MoveDown=9]="MoveDown",e[e.FiguresFallDown=10]="FiguresFallDown"}(l||(l={}));var F=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.InitGame},e}(),w=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.ResumeGame},e}(),T=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.PauseGame},e}(),C=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.FiguresFallTick},e}(),D=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.GameOver},e}(),B=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.Render},e}(),M=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.MoveLeft},e}(),H=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.MoveRight},e}(),G=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.TurnClockwise},e}(),S=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.MoveDown},e}(),O=function(){function e(e){this.gameData=e}return e.prototype.getCommandType=function(){return l.FiguresFallDown},e}(),x=function(){function e(){this.handlers=new Map}return e.prototype.addHandler=function(e,t,n){void 0===n&&(n=!0);var i=this.handlers.get(e)||[];n&&i.some((function(e){return e===t}))||(i.push(t),this.handlers.set(e,i))},e.prototype.removeHandler=function(e,t){var n=this.handlers.get(e)||[],i=n.indexOf(t);i>0&&n.splice(i,1),this.handlers.set(e,n)},e.prototype.run=function(e){(this.handlers.get(e.getCommandType())||[]).forEach((function(t){t(e)}))},e}(),b=function(){function e(e,t,n){this.timingsHandler=e,this.eventBus=t,this.commandBus=n,this.gameData=y.makeSimple(),this.commandBus.addHandler(l.InitGame,this.initGameHandler.bind(this)),this.commandBus.addHandler(l.ResumeGame,this.resumeGameHandler.bind(this)),this.commandBus.addHandler(l.PauseGame,this.pauseGameHandler.bind(this)),this.commandBus.addHandler(l.GameOver,this.gameOverHandler.bind(this))}return e.prototype.initGameHandler=function(e){this.gameData=e.gameData,this.gameData.isInitialized=!0},e.prototype.resumeGameHandler=function(e){this.gameData.isGameOver||(this.gameData.isInitialized||this.commandBus.run(new F(e.gameData)),this.fallTick())},e.prototype.pauseGameHandler=function(e){this.gameData=e.gameData,clearTimeout(this.gameData.nextTickTimeoutId),this.commandBus.run(new B(this.gameData))},e.prototype.gameOverHandler=function(){clearTimeout(this.gameData.nextTickTimeoutId),this.gameData.isInitialized=!1,this.gameData.isGameOver=!0,this.eventBus.fire(new r(this.gameData))},e.prototype.fallTick=function(){this.commandBus.run(new C(this.gameData)),this.gameData.isGameOver||(this.gameData.nextTickTimeoutId=setTimeout(this.fallTick.bind(this),this.timingsHandler.getDelayForNextTickMs(this.gameData)))},e}(),E=function(){function e(){}return e.canFigureBePlaced=function(e,t,n){return e.every((function(e,i){return e.every((function(e,r){var o=t.y+i,a=t.x+r;return!e||o<0&&a>=0&&a<=n[0].length-1||o in n&&a in n[o]&&!n[o][a]}))}))},e}(),k=function(e,t){this.x=e,this.y=t},P=function(e,t,n){this.figure=e,this.position=t,this.turnState=n},L=function(e,t,n){this.filled=e,this.filledGameOver=t,this.empty=n},R=function(e,t,n,i,r){void 0===t&&(t=!0),void 0===n&&(n=new L("#007400","#780000","#fff")),void 0===i&&(i=new L("#007400","#780000",null)),void 0===r&&(r=new L("#b8e5e3",null,null)),this.containerElement=e,this.renderProjectionFigures=t,this.matrixCellColors=n,this.fallingFigureCellColors=i,this.projectionFigureCellColors=r},I=function(e,t){this.filled=e,this.empty=t},j=function(){function t(e,t,n){this.renderSettings=e,this.commandBus=t,this.eventBus=n,this.cellsHtmlElementsMap=[],t.addHandler(l.InitGame,this.initHandler.bind(this)),t.addHandler(l.Render,this.renderCommandHandler.bind(this))}return t.prototype.initHandler=function(n){this.table=t.createHtmlElement('<div style="float: left; display: table; border-collapse: collapse"></div>'),this.cellsHtmlElementsMap=[];for(var i=0;i<n.gameData.settings.fieldHeight;i++){var r=t.createHtmlElement('<div style="display: table-row"></div>');this.cellsHtmlElementsMap[i]=[];for(var o=0;o<n.gameData.settings.fieldWidth;o++){var a=t.createHtmlElement('<div style="display: table-cell; border: 1px solid #ccc; width: 20px; height: 20px"></div>');this.cellsHtmlElementsMap[i][o]=a,r.appendChild(a)}this.table.appendChild(r)}this.renderSettings.containerElement.innerHTML="",this.renderSettings.containerElement.appendChild(this.table),this.scoreDisplay=t.createHtmlElement('<div style="float: left; font-family: \'Helvetica Neue\', sans-serif; font-size: 20px; margin-left: 15px;">\n                Level: <span id="level"></span><br>\n                Score: <span id="score"></span>\n            </div>'),this.renderSettings.containerElement.appendChild(this.scoreDisplay),this.renderSettings.containerElement.appendChild(t.createHtmlElement('<div style="clear: both"></div>')),this.eventBus.on(e.FallingTickProcessed,this.onFallTickProcessed.bind(this)),this.eventBus.on(e.GameOver,this.onGameOver.bind(this)),this.eventBus.on(e.FiguresMoved,this.onFiguresMoved.bind(this))},t.prototype.onFiguresMoved=function(e){this.renderState(e.gameData)},t.prototype.onFallTickProcessed=function(e){this.renderState(e.gameData)},t.prototype.onGameOver=function(e){this.renderState(e.gameData)},t.prototype.renderCommandHandler=function(e){this.renderState(e.gameData)},t.prototype.renderState=function(e){this.repaintMatrixCells(e.matrix,new k(0,0),e),this.renderSettings.renderProjectionFigures&&this.renderFallingFiguresProjection(e),this.renderFallingFigures(e),this.renderStats(e)},t.prototype.renderFallingFigures=function(e){var t=this;e.fallingFigures.forEach((function(n){t.repaintFallingFiguresCells(n.figure.getTurn(n.turnState),n.position,e)}))},t.prototype.renderFallingFiguresProjection=function(e){var t=this;e.fallingFigures.forEach((function(n){for(var i=n.figure.getTurn(n.turnState),r=n.position.x,o=n.position.y;E.canFigureBePlaced(i,new k(r,o+1),e.matrix);)o++;t.repaintProjectionFiguresCells(i,new k(r,o),e)}))},t.prototype.repaintMatrixCells=function(e,t,n){var i;i=n.isGameOver?new I(this.renderSettings.matrixCellColors.filledGameOver,this.renderSettings.matrixCellColors.empty):new I(this.renderSettings.matrixCellColors.filled,this.renderSettings.matrixCellColors.empty),this.repaintCells(e,t,i)},t.prototype.repaintFallingFiguresCells=function(e,t,n){var i;i=n.isGameOver?new I(this.renderSettings.fallingFigureCellColors.filledGameOver,this.renderSettings.fallingFigureCellColors.empty):new I(this.renderSettings.fallingFigureCellColors.filled,this.renderSettings.fallingFigureCellColors.empty),this.repaintCells(e,t,i)},t.prototype.repaintProjectionFiguresCells=function(e,t,n){var i;i=n.isGameOver?new I(this.renderSettings.projectionFigureCellColors.filledGameOver,this.renderSettings.projectionFigureCellColors.empty):new I(this.renderSettings.projectionFigureCellColors.filled,this.renderSettings.projectionFigureCellColors.empty),this.repaintCells(e,t,i)},t.prototype.repaintCells=function(e,t,n){var i=this;e.forEach((function(e,r){e.forEach((function(e,o){var a=r+t.y,s=o+t.x;if(a in i.cellsHtmlElementsMap&&s in i.cellsHtmlElementsMap[a]){var u=e?n.filled:n.empty;null!==u&&(i.cellsHtmlElementsMap[a][s].style.background=u)}}))}))},t.prototype.renderStats=function(e){var t=document.getElementById("level"),n=document.getElementById("score");null!==t&&(t.innerHTML=e.level.toString()),null!==n&&(n.innerHTML=e.score.toString())},t.createHtmlElement=function(e){var t=document.createElement("div");if(t.innerHTML=e,t.children.length>1||null===t.firstElementChild)throw"The HTML must contain only one child";if(!(t.firstElementChild instanceof HTMLElement))throw"Something went wrong while trying to get HTMLElement child from div";return t.firstElementChild},t}(),N=function(){this.transferredFigures=[],this.isGameOver=!1},q=function(){function e(e,t){this.commandBus=e,this.eventBus=t,this.commandBus.addHandler(l.FiguresFallTick,this.processFiguresFallTickCommand.bind(this)),this.commandBus.addHandler(l.FiguresFallDown,this.processFiguresFallDownCommand.bind(this))}return e.prototype.processFiguresFallTickCommand=function(e){var t=this.fallFiguresForOneCell(e.gameData),n=this.squashLines(e.gameData.matrix);t.isGameOver&&this.commandBus.run(new D(e.gameData)),this.eventBus.fire(new i(e.gameData,t.transferredFigures,n))},e.prototype.processFiguresFallDownCommand=function(e){for(var t,n=new N;e.gameData.fallingFigures.length>0;){var r=this.fallFiguresForOneCell(e.gameData);(t=n.transferredFigures).push.apply(t,r.transferredFigures),n.isGameOver=n.isGameOver||r.isGameOver}var o=this.squashLines(e.gameData.matrix);n.isGameOver&&this.commandBus.run(new D(e.gameData)),this.eventBus.fire(new i(e.gameData,n.transferredFigures,o))},e.prototype.fallFiguresForOneCell=function(e){var t=this,n=new N;return e.fallingFigures.forEach((function(i,r){var o;if(t.figureCanFall(e.matrix,i))i.position.y++;else{var a=t.transferFigureToMatrix(e.matrix,i);(o=n.transferredFigures).push.apply(o,e.fallingFigures.splice(r,1)),n.isGameOver=n.isGameOver||a}})),n},e.prototype.figureCanFall=function(e,t){return E.canFigureBePlaced(t.figure.getTurn(t.turnState),new k(t.position.x,t.position.y+1),e)},e.prototype.transferFigureToMatrix=function(e,t){var n=!1;return t.figure.getTurn(t.turnState).forEach((function(i,r){i.forEach((function(i,o){if(i){var a=t.position.x+o,s=t.position.y+r;s in e&&a in e[s]&&!e[s][a]?e[s][a]=!0:n=!0}}))})),n},e.prototype.squashLines=function(e){var t=[];return e.forEach((function(e,n){e.every((function(e){return e}))&&t.push(n)}),0),t.forEach((function(t){e.splice(t,1),e.unshift(new Array(e[0].length).fill(!1))})),t},e}(),A=function(){function t(e,t){this.eventBus=e,this.commandBus=t,this.commandBus.addHandler(l.InitGame,this.initHandler.bind(this))}return t.prototype.initHandler=function(t){this.addFigure(t.gameData),this.eventBus.on(e.FallingTickProcessed,this.processOnFallTick.bind(this))},t.prototype.processOnFallTick=function(e){this.addFigure(e.gameData)},t.prototype.addFigure=function(e){if(!(e.fallingFigures.length>0||e.isGameOver)){var t=Math.floor(Math.random()*e.settings.figures.length),n=e.settings.figures[t],i=this.getRandTurnState(),r=n.getTurn(i),o=Math.max.apply(Math,r.map((function(e){return e.length}))),a=new k(Math.ceil(e.settings.fieldWidth/2-o/2)-1,-r.length);e.fallingFigures.push(new P(n,a,i))}},t.prototype.getRandTurnState=function(){var e=Object.keys(n).map((function(e){return Number.parseInt(e)})).filter((function(e){return!Number.isNaN(e)}));return e[Math.floor(Math.random()*e.length)]},t}(),z=function(){function e(e,t){this.commandBus=e,this.eventBus=t,this.commandBus.addHandler(l.MoveLeft,this.processMoveLeftCommand.bind(this)),this.commandBus.addHandler(l.MoveRight,this.processMoveRightCommand.bind(this)),this.commandBus.addHandler(l.MoveDown,this.processMoveDownCommand.bind(this)),this.commandBus.addHandler(l.TurnClockwise,this.processTurnClockwiseCommand.bind(this))}return e.prototype.processMoveLeftCommand=function(e){e.gameData.fallingFigures.forEach((function(t){E.canFigureBePlaced(t.figure.getTurn(t.turnState),new k(t.position.x-1,t.position.y),e.gameData.matrix)&&t.position.x--})),this.eventBus.fire(new o(e.gameData))},e.prototype.processMoveRightCommand=function(e){e.gameData.fallingFigures.forEach((function(t){E.canFigureBePlaced(t.figure.getTurn(t.turnState),new k(t.position.x+1,t.position.y),e.gameData.matrix)&&t.position.x++})),this.eventBus.fire(new o(e.gameData))},e.prototype.processTurnClockwiseCommand=function(e){var t=this.getTurnStatesAsArray();e.gameData.fallingFigures.forEach((function(n){var i=n.turnState+1;i in t||(i=t[0]),E.canFigureBePlaced(n.figure.getTurn(i),n.position,e.gameData.matrix)&&(n.turnState=i)})),this.eventBus.fire(new o(e.gameData))},e.prototype.processMoveDownCommand=function(e){this.commandBus.run(new C(e.gameData))},e.prototype.getTurnStatesAsArray=function(){return Object.keys(n).map((function(e){return Number.parseInt(e)})).filter((function(e){return!Number.isNaN(e)}))},e}(),_=function(){function e(e){this.commandBus=e,this.commandBus.addHandler(l.InitGame,this.processInitGameCommand.bind(this))}return e.prototype.processInitGameCommand=function(e){var t=this;window.onkeydown=function(n){"ArrowLeft"===n.code?t.commandBus.run(new M(e.gameData)):"ArrowRight"===n.code?t.commandBus.run(new H(e.gameData)):"ArrowUp"===n.code?t.commandBus.run(new G(e.gameData)):"ArrowDown"===n.code||"ArrowDown"===n.code?t.commandBus.run(new S(e.gameData)):"Space"===n.code&&t.commandBus.run(new O(e.gameData))}},e}(),U=function(){function e(e){this.initialDelayMs=e}return e.prototype.getDelayForNextTickMs=function(e){return Math.pow(.8-.007*(e.level-1),e.level-1)*this.initialDelayMs},e}(),W=function(){function t(t,n){void 0===n&&(n=new Map([[1,100],[2,300],[3,700],[4,1500]])),this.eventBus=t,this.squashedRowsRewardThresholdsMap=n,t.on(e.FallingTickProcessed,this.onFallingTickProcessed.bind(this))}return t.prototype.onFallingTickProcessed=function(e){if(!(e.squashedLines.length<0)){var t=0;this.squashedRowsRewardThresholdsMap.forEach((function(n,i){i>e.squashedLines.length||(t=n)})),e.gameData.score+=t}},t}(),J=function(){function t(e,t,n,i){this.eventBus=e,this.commandBus=t,this.levelIncreaseOnSquashedRowsNumber=n,this.maxLevels=i,this.squashedRowsCounter=0,this.commandBus.addHandler(l.InitGame,this.processInitGameCommand.bind(this))}return t.prototype.processInitGameCommand=function(t){this.eventBus.on(e.FallingTickProcessed,this.onFallTickProcessed.bind(this))},t.prototype.onFallTickProcessed=function(e){0!==e.squashedLines.length&&(this.squashedRowsCounter++,this.squashedRowsCounter>=this.levelIncreaseOnSquashedRowsNumber&&(this.squashedRowsCounter=0,e.gameData.level=Math.min(this.maxLevels,e.gameData.level+1)))},t}(),K=function(){function e(){this.eventBus=new a,this.commandBus=new x,this.gameController=new b(new U(2e3),this.eventBus,this.commandBus),this.movingHandler=new z(this.commandBus,this.eventBus),this.movingController=new _(this.commandBus),this.fallingFiguresProcessor=new q(this.commandBus,this.eventBus),this.figuresSpawner=new A(this.eventBus,this.commandBus),this.levelCounter=new J(this.eventBus,this.commandBus,10,15),this.scoreCounter=new W(this.eventBus),this.tableRenderer=new j(new R(document.body),this.commandBus,this.eventBus),this.gameData=y.makeSimple()}return e.prototype.start=function(e){this.gameData=e||y.makeSimple(),this.commandBus.run(new F(this.gameData)),this.commandBus.run(new w(this.gameData))},e.prototype.resume=function(){this.commandBus.run(new w(this.gameData))},e.prototype.pause=function(){this.commandBus.run(new T(this.gameData))},e}();document.addEventListener("DOMContentLoaded",(function(){(new K).start()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFHQSxJQUFZQSxHQUFaLFNBQVlBLEdBQ1IsbURBQ0EsMkJBQ0EsbUNBQ0Esd0JBQ0gsQ0FMRCxDQUFZQSxJQUFBQSxFQUFTLEtBYXJCLEksRUNoQllDLEVEZ0JaLGFBQ0ksV0FDV0MsRUFDQUMsRUFDQUMsR0FGQSxLQUFBRixTQUFBQSxFQUNBLEtBQUFDLDJCQUFBQSxFQUNBLEtBQUFDLGNBQUFBLENBQ1IsQ0FLUCxPQUhXLFlBQUFDLGFBQVAsV0FDSSxPQUFPTCxFQUFVTSxvQkFDckIsRUFDSixFQVZBLEdBWUEsYUFDSSxXQUNXSixHQUFBLEtBQUFBLFNBQUFBLENBQ1IsQ0FLUCxPQUhXLFlBQUFHLGFBQVAsV0FDSSxPQUFPTCxFQUFVTyxRQUNyQixFQUNKLEVBUkEsR0FVQSxhQUNJLFdBQ1dMLEdBQUEsS0FBQUEsU0FBQUEsQ0FDUixDQUtQLE9BSFcsWUFBQUcsYUFBUCxXQUNJLE9BQU9MLEVBQVVRLFlBQ3JCLEVBQ0osRUFSQSxHQW9CQSwwQkFDWSxLQUFBQyxTQUFvRCxJQUFJQyxHQXdCcEUsUUF0QlcsWUFBQUMsR0FBUCxTQUFVQyxFQUFrQkMsRUFBOEJDLFFBQUEsSUFBQUEsSUFBQUEsR0FBQSxHQUN0RCxJQUFJTCxFQUFXTSxLQUFLTixTQUFTTyxJQUFJSixJQUFVLEdBQ3ZDRSxHQUFVTCxFQUFTUSxNQUFLLFNBQUFDLEdBQWdCLE9BQUFBLElBQWlCTCxDQUFqQixNQUc1Q0osRUFBU1UsS0FBS04sR0FDZEUsS0FBS04sU0FBU1csSUFBSVIsRUFBT0gsR0FDN0IsRUFFTyxZQUFBWSxJQUFQLFNBQVdULEVBQWtCQyxHQUN6QixJQUFJSixFQUFXTSxLQUFLTixTQUFTTyxJQUFJSixJQUFVLEdBQ3ZDVSxFQUFRYixFQUFTYyxRQUFRVixHQUN6QlMsRUFBUSxHQUNSYixFQUFTZSxPQUFPRixFQUFPLEdBRTNCUCxLQUFLTixTQUFTVyxJQUFJUixFQUFPSCxFQUM3QixFQUVPLFlBQUFnQixLQUFQLFNBQVlDLElBQ09YLEtBQUtOLFNBQVNPLElBQUlVLEVBQWFyQixpQkFBbUIsSUFDeERzQixTQUFRLFNBQUFkLEdBQVlBLEVBQVFhLEVBQWEsR0FDdEQsRUFDSixFQXpCQSxHRXhEQSxFQUNJLFNBQ1dFLEVBQ0FDLEVBQ0FDLEdBRkEsS0FBQUYsV0FBQUEsRUFDQSxLQUFBQyxZQUFBQSxFQUNBLEtBQUFDLFFBQUFBLENBQ1IsRSxvY0RQUCxTQUFZN0IsR0FDUixpQkFDQSxpQkFDQSxxQkFDQSxrQkFDSCxDQUxELENBQVlBLElBQUFBLEVBQWUsS0FtQjNCLElFakJZOEIsRUY2RFosMkIsOENBeUNBLFFBekNvRCxPQUd4QyxZQUFBQyxvQkFBUixXQUNJLElBQUlDLEVBQVNsQixLQUFLbUIsWUFDZEMsRUFBb0JGLEVBQU9HLFFBQzNCLFNBQUNDLEVBQVVDLEdBQVksT0FBQUMsS0FBS0MsSUFBSUgsRUFBVUMsRUFBUUcsT0FBM0IsR0FDdkIsR0FFSixPQUFPUixFQUFPUyxLQUFJLFNBQUFDLEdBQ2QsSUFBSUMsRUFBaUJELEVBQUlGLE9BRXpCLE9BREFFLEVBQUlGLE9BQVNOLEVBQ05RLEVBQUlFLE1BQUssRUFBT0QsRUFBaUIsRUFBR1QsRUFBb0IsRUFDbkUsR0FDSixFQUVPLFlBQUFXLGFBQVAsV0FDSSxPQUFPL0IsS0FBS2lCLHFCQUNoQixFQUVPLFlBQUFlLGNBQVAsV0FLSSxJQUpBLElBQUlDLEVBQWlCakMsS0FBS2lCLHNCQUN0QmlCLEVBQTRCLEdBQzVCQyxFQUF1QkYsRUFBZVAsT0FDdENVLEVBQXNCSCxFQUFlLEdBQUdQLE9BQ25DVyxFQUFJLEVBQUdBLEVBQUlELEVBQXFCQyxJQUFLLENBQzFDSCxFQUFhRyxHQUFLLElBQUlDLE1BQU1ILEdBQXNCTCxNQUFLLEdBQ3ZELElBQUssSUFBSVMsRUFBSSxFQUFHQSxFQUFJSixFQUFzQkksSUFDdENMLEVBQWFHLEdBQUdGLEVBQXVCSSxFQUFJLEdBQUtOLEVBQWVNLEdBQUdGLEUsQ0FHMUUsT0FBT0gsQ0FDWCxFQUVPLFlBQUFNLGFBQVAsV0FDSSxPQUFPeEMsS0FBSytCLGVBQWVVLFVBQVVkLEtBQUksU0FBQUMsR0FBTyxPQUFBQSxFQUFJYSxTQUFKLEdBQ3BELEVBRU8sWUFBQUMsYUFBUCxXQUNJLE9BQU8xQyxLQUFLZ0MsZ0JBQWdCUyxVQUFVZCxLQUFJLFNBQUFDLEdBQU8sT0FBQUEsRUFBSWEsU0FBSixHQUNyRCxFQUNKLEVBekNBLENBNUNBLHdCQWtCQSxRQVpJLFlBQUFFLFFBQUEsU0FBUUMsR0FDSixPQUFRQSxHQUNKLEtBQUsxRCxFQUFnQjJELElBQ2pCLE9BQU83QyxLQUFLK0IsZUFDaEIsS0FBSzdDLEVBQWdCNEQsSUFDakIsT0FBTzlDLEtBQUtnQyxnQkFDaEIsS0FBSzlDLEVBQWdCNkQsTUFDakIsT0FBTy9DLEtBQUt3QyxlQUNoQixLQUFLdEQsRUFBZ0I4RCxLQUNqQixPQUFPaEQsS0FBSzBDLGVBRXhCLEVBQ0osRUFsQkEsSUF1RkEsMkIsOENBT0EsUUFQNkIsT0FDZixZQUFBdkIsVUFBVixXQUNJLE1BQU8sQ0FDSCxNQUFNOEIsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFDNUIsTUFBTUQsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFFcEMsRUFDSixFQVBBLENBQTZCQyxHQVM3QiwyQiw4Q0FPQSxRQVBrQyxPQUNwQixZQUFBaEMsVUFBVixXQUNJLE1BQU8sQ0FDSCxNQUFNOEIsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFDNUIsTUFBTUQsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFFcEMsRUFDSixFQVBBLENBQWtDQyxHQVNsQywyQiw4Q0FPQSxRQVBpQyxPQUNuQixZQUFBaEMsVUFBVixXQUNJLE1BQU8sQ0FDSCxNQUFNOEIsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFDNUIsTUFBTUQsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFFcEMsRUFDSixFQVBBLENBQWlDQyxHQVNqQywyQiw4Q0FPQSxRQVBrQyxPQUNwQixZQUFBaEMsVUFBVixXQUNJLE1BQU8sQ0FDSCxLQUFLOEIsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFDM0IsS0FBS0QsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFFbkMsRUFDSixFQVBBLENBQWtDQyxHQVNsQywyQiw4Q0FNQSxRQU5pQyxPQUNuQixZQUFBaEMsVUFBVixXQUNJLE1BQU8sQ0FDSCxPQUFPOEIsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFFckMsRUFDSixFQU5BLENBQWlDQyxHQVFqQywyQiw4Q0FPQSxRQVA4QixPQUNoQixZQUFBaEMsVUFBVixXQUNJLE1BQU8sQ0FDSCxNQUFNOEIsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFDNUIsTUFBTUQsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFFcEMsRUFDSixFQVBBLENBQThCQyxHQVU5QiwyQiw4Q0FPQSxRQVA4QixPQUNoQixZQUFBaEMsVUFBVixXQUNJLE1BQU8sQ0FDSCxNQUFNOEIsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFDNUIsTUFBTUQsTUFBTSxJQUFJdEIsS0FBSSxTQUFBdUIsR0FBUSxNQUFTLE1BQVRBLENBQUEsSUFFcEMsRUFDSixFQVBBLENBQThCQyxHRzVKOUIsYUFDSSxXQUNXQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxRQVBBLElBQUFQLElBQUFBLEdBQUEsUUFDQSxJQUFBQyxJQUFBQSxHQUFBLFFBQ0EsSUFBQUMsSUFBQUEsRUFBQSxTQUNBLElBQUFDLElBQUFBLEVBQUEsU0FDQSxJQUFBQyxJQUFBQSxFQUFtREksWUFBVyxXQUFPLFVBRXJFLElBQUFGLElBQUFBLEVBQUEsUUFDQSxJQUFBQyxJQUFBQSxFQUFBLEdBUEEsS0FBQVAsY0FBQUEsRUFDQSxLQUFBQyxXQUFBQSxFQUNBLEtBQUFDLGVBQUFBLEVBQ0EsS0FBQUMsT0FBQUEsRUFDQSxLQUFBQyxrQkFBQUEsRUFDQSxLQUFBQyxTQUFBQSxFQUNBLEtBQUFDLE1BQUFBLEVBQ0EsS0FBQUMsTUFBQUEsQ0FDUixDQXlCUCxPQXZCVyxFQUFBRSxXQUFQLFNBQWtCQyxFQUFvQkMsR0FDbEMsWUFEYyxJQUFBRCxJQUFBQSxFQUFBLFNBQW9CLElBQUFDLElBQUFBLEVBQUEsSUFDM0IsSUFBSUMsR0FDUCxHQUNBLEVBQ0EsR0FDQSxJQUFJMUIsTUFBTXlCLEdBQVFqQyxLQUFLLElBQ2xCSCxLQUFJLFNBQUFzQyxHQUFLLFdBQUkzQixNQUFNd0IsR0FBT2hDLE1BQUssRUFBdEIsSUFDZDhCLFlBQVcsV0FBTyxJQUNsQixJQUFJTSxFQUNBSixFQUNBQyxFQUNBLENBQ0ksSUFBSUksRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsRUFDSixJQUFJQyxFQUNKLElBQUlDLEVBQ0osSUFBSUMsSUFJcEIsRUFDSixFQW5DQSxJREZBLFNBQVl6RCxHQUNSLDJCQUNBLCtCQUNBLDZCQUNBLHlDQUNBLDJCQUNBLHVCQUNBLDJCQUNBLDZCQUNBLHFDQUNBLDJCQUNBLHlDQUNILENBWkQsQ0FBWUEsSUFBQUEsRUFBVyxLQW9CdkIsaUJBQ0ksV0FDVzdCLEdBQUEsS0FBQUEsU0FBQUEsQ0FDUixDQUtQLE9BSFcsWUFBQXVGLGVBQVAsV0FDSSxPQUFPMUQsRUFBWTJELFFBQ3ZCLEVBQ0osRUFSQSxHQVVBLGFBQ0ksV0FDV3hGLEdBQUEsS0FBQUEsU0FBQUEsQ0FDUixDQUtQLE9BSFcsWUFBQXVGLGVBQVAsV0FDSSxPQUFPMUQsRUFBWTRELFVBQ3ZCLEVBQ0osRUFSQSxHQVVBLGFBQ0ksV0FDV3pGLEdBQUEsS0FBQUEsU0FBQUEsQ0FDUixDQUtQLE9BSFcsWUFBQXVGLGVBQVAsV0FDSSxPQUFPMUQsRUFBWTZELFNBQ3ZCLEVBQ0osRUFSQSxHQVVBLGFBQ0ksV0FDVzFGLEdBQUEsS0FBQUEsU0FBQUEsQ0FDUixDQUtQLE9BSFcsWUFBQXVGLGVBQVAsV0FDSSxPQUFPMUQsRUFBWThELGVBQ3ZCLEVBQ0osRUFSQSxHQVVBLGFBQ0ksV0FDVzNGLEdBQUEsS0FBQUEsU0FBQUEsQ0FDUixDQUtQLE9BSFcsWUFBQXVGLGVBQVAsV0FDSSxPQUFPMUQsRUFBWXhCLFFBQ3ZCLEVBQ0osRUFSQSxHQVVBLGFBQ0ksV0FDV0wsR0FBQSxLQUFBQSxTQUFBQSxDQUNSLENBS1AsT0FIVyxZQUFBdUYsZUFBUCxXQUNJLE9BQU8xRCxFQUFZK0QsTUFDdkIsRUFDSixFQVJBLEdBVUEsYUFDSSxXQUNXNUYsR0FBQSxLQUFBQSxTQUFBQSxDQUNSLENBS1AsT0FIVyxZQUFBdUYsZUFBUCxXQUNJLE9BQU8xRCxFQUFZZ0UsUUFDdkIsRUFDSixFQVJBLEdBVUEsYUFDSSxXQUNXN0YsR0FBQSxLQUFBQSxTQUFBQSxDQUNSLENBS1AsT0FIVyxZQUFBdUYsZUFBUCxXQUNJLE9BQU8xRCxFQUFZaUUsU0FDdkIsRUFDSixFQVJBLEdBVUEsYUFDSSxXQUNXOUYsR0FBQSxLQUFBQSxTQUFBQSxDQUNSLENBS1AsT0FIVyxZQUFBdUYsZUFBUCxXQUNJLE9BQU8xRCxFQUFZa0UsYUFDdkIsRUFDSixFQVJBLEdBVUEsYUFDSSxXQUNXL0YsR0FBQSxLQUFBQSxTQUFBQSxDQUNSLENBS1AsT0FIVyxZQUFBdUYsZUFBUCxXQUNJLE9BQU8xRCxFQUFZbUUsUUFDdkIsRUFDSixFQVJBLEdBVUEsYUFDSSxXQUNXaEcsR0FBQSxLQUFBQSxTQUFBQSxDQUNSLENBS1AsT0FIVyxZQUFBdUYsZUFBUCxXQUNJLE9BQU8xRCxFQUFZb0UsZUFDdkIsRUFDSixFQVJBLEdBVUEsMEJBQ1ksS0FBQTFGLFNBQTZELElBQUlDLEdBd0I3RSxRQXRCVyxZQUFBMEYsV0FBUCxTQUFrQnhGLEVBQW9CQyxFQUE4QkMsUUFBQSxJQUFBQSxJQUFBQSxHQUFBLEdBQ2hFLElBQUlMLEVBQVdNLEtBQUtOLFNBQVNPLElBQUlKLElBQVUsR0FDdkNFLEdBQVVMLEVBQVNRLE1BQUssU0FBQUMsR0FBZ0IsT0FBQUEsSUFBaUJMLENBQWpCLE1BRzVDSixFQUFTVSxLQUFLTixHQUNkRSxLQUFLTixTQUFTVyxJQUFJUixFQUFPSCxHQUM3QixFQUVPLFlBQUE0RixjQUFQLFNBQXFCekYsRUFBb0JDLEdBQ3JDLElBQUlKLEVBQVdNLEtBQUtOLFNBQVNPLElBQUlKLElBQVUsR0FDdkNVLEVBQVFiLEVBQVNjLFFBQVFWLEdBQ3pCUyxFQUFRLEdBQ1JiLEVBQVNlLE9BQU9GLEVBQU8sR0FFM0JQLEtBQUtOLFNBQVNXLElBQUlSLEVBQU9ILEVBQzdCLEVBRU8sWUFBQTZGLElBQVAsU0FBV0MsSUFDUXhGLEtBQUtOLFNBQVNPLElBQUl1RixFQUFRZCxtQkFBcUIsSUFDckQ5RCxTQUFRLFNBQUFkLEdBQVlBLEVBQVEwRixFQUFRLEdBQ2pELEVBQ0osRUF6QkEsR0UvSEEsYUFHSSxXQUNZQyxFQUNBQyxFQUNBQyxHQUZBLEtBQUFGLGVBQUFBLEVBQ0EsS0FBQUMsU0FBQUEsRUFDQSxLQUFBQyxXQUFBQSxFQUxKLEtBQUF4RyxTQUFxQjZFLEVBQVNILGFBT2xDN0QsS0FBSzJGLFdBQVdOLFdBQVdyRSxFQUFZMkQsU0FBVTNFLEtBQUs0RixnQkFBZ0JDLEtBQUs3RixPQUMzRUEsS0FBSzJGLFdBQVdOLFdBQVdyRSxFQUFZNEQsV0FBWTVFLEtBQUs4RixrQkFBa0JELEtBQUs3RixPQUMvRUEsS0FBSzJGLFdBQVdOLFdBQVdyRSxFQUFZNkQsVUFBVzdFLEtBQUsrRixpQkFBaUJGLEtBQUs3RixPQUM3RUEsS0FBSzJGLFdBQVdOLFdBQVdyRSxFQUFZeEIsU0FBVVEsS0FBS2dHLGdCQUFnQkgsS0FBSzdGLE1BQy9FLENBdUNKLE9BckNZLFlBQUE0RixnQkFBUixTQUF3QkssR0FDcEJqRyxLQUFLYixTQUFXOEcsRUFBUTlHLFNBQ3hCYSxLQUFLYixTQUFTaUUsZUFBZ0IsQ0FDbEMsRUFFUSxZQUFBMEMsa0JBQVIsU0FBMEJHLEdBQ2xCakcsS0FBS2IsU0FBU2tFLGFBR2JyRCxLQUFLYixTQUFTaUUsZUFDZnBELEtBQUsyRixXQUFXSixJQUFJLElBQUlXLEVBQWdCRCxFQUFROUcsV0FFcERhLEtBQUttRyxXQUNULEVBRVEsWUFBQUosaUJBQVIsU0FBeUJFLEdBQ3JCakcsS0FBS2IsU0FBVzhHLEVBQVE5RyxTQUN4QmlILGFBQWFwRyxLQUFLYixTQUFTcUUsbUJBQzNCeEQsS0FBSzJGLFdBQVdKLElBQUksSUFBSWMsRUFBY3JHLEtBQUtiLFVBQy9DLEVBRVEsWUFBQTZHLGdCQUFSLFdBQ0lJLGFBQWFwRyxLQUFLYixTQUFTcUUsbUJBQzNCeEQsS0FBS2IsU0FBU2lFLGVBQWdCLEVBQzlCcEQsS0FBS2IsU0FBU2tFLFlBQWEsRUFDM0JyRCxLQUFLMEYsU0FBU2hGLEtBQUssSUFBSTRGLEVBQWN0RyxLQUFLYixVQUM5QyxFQUVRLFlBQUFnSCxTQUFSLFdBQ0luRyxLQUFLMkYsV0FBV0osSUFBSSxJQUFJZ0IsRUFBdUJ2RyxLQUFLYixXQUMvQ2EsS0FBS2IsU0FBU2tFLGFBQ2ZyRCxLQUFLYixTQUFTcUUsa0JBQW9CSSxXQUM5QjVELEtBQUttRyxTQUFTTixLQUFLN0YsTUFDbkJBLEtBQUt5RixlQUFlZSxzQkFBc0J4RyxLQUFLYixXQUczRCxFQUNKLEVBbkRBLEdDSEEsMEJBbUJBLFFBbEJrQixFQUFBc0gsa0JBQWQsU0FBZ0NDLEVBQWlDQyxFQUE0QnBELEdBQ3pGLE9BQU9tRCxFQUFtQkUsT0FBTSxTQUFDaEYsRUFBS1csR0FDbEMsT0FBT1gsRUFBSWdGLE9BQU0sU0FBQ0MsRUFBT3hFLEdBQ3JCLElBQU15RSxFQUFRSCxFQUFlcEUsRUFBSUEsRUFDM0J3RSxFQUFRSixFQUFldEUsRUFBSUEsRUFDakMsT0FBUXdFLEdBRUFDLEVBQVEsR0FDTEMsR0FBUyxHQUNUQSxHQUFTeEQsRUFBTyxHQUFHN0IsT0FBUyxHQUUvQm9GLEtBQVN2RCxHQUNOd0QsS0FBU3hELEVBQU91RCxLQUNmdkQsRUFBT3VELEdBQU9DLEVBRTlCLEdBQ0osR0FDSixFQUNKLEVBbkJBLEdDSUEsRUFDSSxTQUNXMUUsRUFDQUUsR0FEQSxLQUFBRixFQUFBQSxFQUNBLEtBQUFFLEVBQUFBLENBQ1IsRUFHUCxFQUNJLFNBQ1dyQixFQUNBOEYsRUFDQUMsR0FGQSxLQUFBL0YsT0FBQUEsRUFDQSxLQUFBOEYsU0FBQUEsRUFDQSxLQUFBQyxVQUFBQSxDQUNSLEVDWlAsRUFDSSxTQUNXQyxFQUNBQyxFQUNBQyxHQUZBLEtBQUFGLE9BQUFBLEVBQ0EsS0FBQUMsZUFBQUEsRUFDQSxLQUFBQyxNQUFBQSxDQUNSLEVBR1AsRUFDSSxTQUNXQyxFQUNBQyxFQUNBQyxFQUtBQyxFQUtBQyxRQVhBLElBQUFILElBQUFBLEdBQUEsUUFDQSxJQUFBQyxJQUFBQSxFQUFBLElBQXVERyxFQUMxRCxVQUNBLFVBQ0EsY0FFRyxJQUFBRixJQUFBQSxFQUFBLElBQThERSxFQUNqRSxVQUNBLFVBQ0EsWUFFRyxJQUFBRCxJQUFBQSxFQUFBLElBQWlFQyxFQUNwRSxVQUNBLEtBQ0EsT0FmRyxLQUFBTCxpQkFBQUEsRUFDQSxLQUFBQyx3QkFBQUEsRUFDQSxLQUFBQyxpQkFBQUEsRUFLQSxLQUFBQyx3QkFBQUEsRUFLQSxLQUFBQywyQkFBQUEsQ0FLUixFQUdQLEVBQ0ksU0FDV1AsRUFDQUUsR0FEQSxLQUFBRixPQUFBQSxFQUNBLEtBQUFFLE1BQUFBLENBQ1IsRUFHUCxhQUtJLFdBQ1lPLEVBQ0FoQyxFQUNBRCxHQUZBLEtBQUFpQyxlQUFBQSxFQUNBLEtBQUFoQyxXQUFBQSxFQUNBLEtBQUFELFNBQUFBLEVBUEosS0FBQWtDLHFCQUF3QyxHQVM1Q2pDLEVBQVdOLFdBQVdyRSxFQUFZMkQsU0FBVTNFLEtBQUs2SCxZQUFZaEMsS0FBSzdGLE9BQ2xFMkYsRUFBV04sV0FBV3JFLEVBQVkrRCxPQUFRL0UsS0FBSzhILHFCQUFxQmpDLEtBQUs3RixNQUM3RSxDQTBLSixPQXhLWSxZQUFBNkgsWUFBUixTQUFvQjVCLEdBQ2hCakcsS0FBSytILE1BQVFDLEVBQWNDLGtCQUFrQiw4RUFDN0NqSSxLQUFLNEgscUJBQXVCLEdBQzVCLElBQUssSUFBSXJGLEVBQUksRUFBR0EsRUFBSTBELEVBQVE5RyxTQUFTc0UsU0FBUzNDLFlBQWF5QixJQUFLLENBQzVELElBQUlYLEVBQU1vRyxFQUFjQyxrQkFBa0IsMENBQzFDakksS0FBSzRILHFCQUFxQnJGLEdBQUssR0FDL0IsSUFBSyxJQUFJRixFQUFJLEVBQUdBLEVBQUk0RCxFQUFROUcsU0FBU3NFLFNBQVM1QyxXQUFZd0IsSUFBSyxDQUMzRCxJQUFJNkYsRUFBT0YsRUFBY0Msa0JBQWtCLDhGQUMzQ2pJLEtBQUs0SCxxQkFBcUJyRixHQUFHRixHQUFLNkYsRUFDbEN0RyxFQUFJdUcsWUFBWUQsRSxDQUVwQmxJLEtBQUsrSCxNQUFNSSxZQUFZdkcsRSxDQUUzQjVCLEtBQUsySCxlQUFlTixpQkFBaUJlLFVBQVksR0FDakRwSSxLQUFLMkgsZUFBZU4saUJBQWlCYyxZQUFZbkksS0FBSytILE9BRXREL0gsS0FBS3FJLGFBQWVMLEVBQWNDLGtCQUM5Qix5T0FJSmpJLEtBQUsySCxlQUFlTixpQkFBaUJjLFlBQVluSSxLQUFLcUksY0FFdERySSxLQUFLMkgsZUFBZU4saUJBQWlCYyxZQUFZSCxFQUFjQyxrQkFBa0Isb0NBRWpGakksS0FBSzBGLFNBQVM5RixHQUFHWCxFQUFVTSxxQkFBc0JTLEtBQUtzSSxvQkFBb0J6QyxLQUFLN0YsT0FDL0VBLEtBQUswRixTQUFTOUYsR0FBR1gsRUFBVU8sU0FBVVEsS0FBS3VJLFdBQVcxQyxLQUFLN0YsT0FDMURBLEtBQUswRixTQUFTOUYsR0FBR1gsRUFBVVEsYUFBY08sS0FBS3dJLGVBQWUzQyxLQUFLN0YsTUFDdEUsRUFFUSxZQUFBd0ksZUFBUixTQUF1QnZDLEdBQ25CakcsS0FBS3lJLFlBQVl4QyxFQUFROUcsU0FDN0IsRUFFUSxZQUFBbUosb0JBQVIsU0FBNEJyQyxHQUN4QmpHLEtBQUt5SSxZQUFZeEMsRUFBUTlHLFNBQzdCLEVBRVEsWUFBQW9KLFdBQVIsU0FBbUJ0QyxHQUNmakcsS0FBS3lJLFlBQVl4QyxFQUFROUcsU0FDN0IsRUFFUSxZQUFBMkkscUJBQVIsU0FBNkI3QixHQUN6QmpHLEtBQUt5SSxZQUFZeEMsRUFBUTlHLFNBQzdCLEVBRVEsWUFBQXNKLFlBQVIsU0FBb0J0SixHQUNoQmEsS0FBSzBJLG1CQUFtQnZKLEVBQVNvRSxPQUFRLElBQUlvRixFQUFXLEVBQUcsR0FBSXhKLEdBQzNEYSxLQUFLMkgsZUFBZUwseUJBQ3BCdEgsS0FBSzRJLCtCQUErQnpKLEdBRXhDYSxLQUFLNkkscUJBQXFCMUosR0FDMUJhLEtBQUs4SSxZQUFZM0osRUFDckIsRUFFUSxZQUFBMEoscUJBQVIsU0FBNkIxSixHQUE3QixXQUNJQSxFQUFTbUUsZUFBZTFDLFNBQVEsU0FBQW1JLEdBQzVCLEVBQUtDLDJCQUNERCxFQUFjN0gsT0FBT3lCLFFBQVFvRyxFQUFjOUIsV0FDM0M4QixFQUFjL0IsU0FDZDdILEVBRVIsR0FDSixFQUVRLFlBQUF5SiwrQkFBUixTQUF1Q3pKLEdBQXZDLFdBQ0lBLEVBQVNtRSxlQUFlMUMsU0FBUSxTQUFBbUksR0FJNUIsSUFIQSxJQUFNRSxFQUFlRixFQUFjN0gsT0FBT3lCLFFBQVFvRyxFQUFjOUIsV0FDMURpQyxFQUFvQkgsRUFBYy9CLFNBQVMzRSxFQUM3QzhHLEVBQW9CSixFQUFjL0IsU0FBU3pFLEVBQ3pDNkcsRUFBcUIzQyxrQkFBa0J3QyxFQUFjLElBQUlOLEVBQVdPLEVBQW1CQyxFQUFvQixHQUFJaEssRUFBU29FLFNBQzFINEYsSUFFSixFQUFLRSw4QkFDREosRUFDQSxJQUFJTixFQUFXTyxFQUFtQkMsR0FDbENoSyxFQUVSLEdBQ0osRUFFUSxZQUFBdUosbUJBQVIsU0FBMkJuRixFQUFxQitGLEVBQW9CbkssR0FDaEUsSUFBSW9LLEVBRUFBLEVBREFwSyxFQUFTa0UsV0FDQSxJQUFJbUcsRUFDVHhKLEtBQUsySCxlQUFlSixpQkFBaUJKLGVBQ3JDbkgsS0FBSzJILGVBQWVKLGlCQUFpQkgsT0FHaEMsSUFBSW9DLEVBQ1R4SixLQUFLMkgsZUFBZUosaUJBQWlCTCxPQUNyQ2xILEtBQUsySCxlQUFlSixpQkFBaUJILE9BRzdDcEgsS0FBS3lKLGFBQWFsRyxFQUFRK0YsRUFBUUMsRUFDdEMsRUFFUSxZQUFBUCwyQkFBUixTQUFtQ3pGLEVBQXFCK0YsRUFBb0JuSyxHQUN4RSxJQUFJb0ssRUFFQUEsRUFEQXBLLEVBQVNrRSxXQUNBLElBQUltRyxFQUNUeEosS0FBSzJILGVBQWVILHdCQUF3QkwsZUFDNUNuSCxLQUFLMkgsZUFBZUgsd0JBQXdCSixPQUd2QyxJQUFJb0MsRUFDVHhKLEtBQUsySCxlQUFlSCx3QkFBd0JOLE9BQzVDbEgsS0FBSzJILGVBQWVILHdCQUF3QkosT0FHcERwSCxLQUFLeUosYUFBYWxHLEVBQVErRixFQUFRQyxFQUN0QyxFQUVRLFlBQUFGLDhCQUFSLFNBQXNDOUYsRUFBcUIrRixFQUFvQm5LLEdBQzNFLElBQUlvSyxFQUVBQSxFQURBcEssRUFBU2tFLFdBQ0EsSUFBSW1HLEVBQ1R4SixLQUFLMkgsZUFBZUYsMkJBQTJCTixlQUMvQ25ILEtBQUsySCxlQUFlRiwyQkFBMkJMLE9BRzFDLElBQUlvQyxFQUNUeEosS0FBSzJILGVBQWVGLDJCQUEyQlAsT0FDL0NsSCxLQUFLMkgsZUFBZUYsMkJBQTJCTCxPQUd2RHBILEtBQUt5SixhQUFhbEcsRUFBUStGLEVBQVFDLEVBQ3RDLEVBRVEsWUFBQUUsYUFBUixTQUFxQmxHLEVBQXFCK0YsRUFBb0JJLEdBQTlELFdBQ0luRyxFQUFPM0MsU0FBUSxTQUFDZ0IsRUFBS1csR0FDakJYLEVBQUloQixTQUFRLFNBQUNpRyxFQUFPeEUsR0FDaEIsSUFBTXlFLEVBQVF2RSxFQUFJK0csRUFBTy9HLEVBQ25Cd0UsRUFBUTFFLEVBQUlpSCxFQUFPakgsRUFDekIsR0FBSXlFLEtBQVMsRUFBS2Msc0JBQ1hiLEtBQVMsRUFBS2EscUJBQXFCZCxHQUN4QyxDQUNFLElBQU02QyxFQUFROUMsRUFBUTZDLEVBQVd4QyxPQUFTd0MsRUFBV3RDLE1BQ3ZDLE9BQVZ1QyxJQUNBLEVBQUsvQixxQkFBcUJkLEdBQU9DLEdBQU82QyxNQUFNQyxXQUFhRixFLENBR3ZFLEdBQ0osR0FDSixFQUVRLFlBQUFiLFlBQVIsU0FBb0IzSixHQUNoQixJQUFNMkssRUFBWUMsU0FBU0MsZUFBZSxTQUNwQ0MsRUFBWUYsU0FBU0MsZUFBZSxTQUN4QixPQUFkRixJQUNBQSxFQUFVMUIsVUFBWWpKLEVBQVN1RSxNQUFNd0csWUFFdkIsT0FBZEQsSUFDQUEsRUFBVTdCLFVBQVlqSixFQUFTd0UsTUFBTXVHLFdBRTdDLEVBRWUsRUFBQWpDLGtCQUFmLFNBQWlDa0MsR0FDN0IsSUFBSUMsRUFBWUwsU0FBU00sY0FBYyxPQUV2QyxHQURBRCxFQUFVaEMsVUFBWStCLEVBQ2xCQyxFQUFVRSxTQUFTNUksT0FBUyxHQUFxQyxPQUFoQzBJLEVBQVVHLGtCQUMzQyxLQUFNLHVDQUVWLEtBQU1ILEVBQVVHLDZCQUE2QkMsYUFDekMsS0FBTSxzRUFFVixPQUFPSixFQUFVRyxpQkFDckIsRUFDSixFQXRMQSxHQ3JDQSxhQUNXLEtBQUFFLG1CQUFzQyxHQUN0QyxLQUFBcEgsWUFBc0IsQ0FDakMsRUFFQSxhQUNJLFdBQ1lzQyxFQUNBRCxHQURBLEtBQUFDLFdBQUFBLEVBQ0EsS0FBQUQsU0FBQUEsRUFFUjFGLEtBQUsyRixXQUFXTixXQUFXckUsRUFBWThELGdCQUFpQjlFLEtBQUswSyw4QkFBOEI3RSxLQUFLN0YsT0FDaEdBLEtBQUsyRixXQUFXTixXQUFXckUsRUFBWW9FLGdCQUFpQnBGLEtBQUsySyw4QkFBOEI5RSxLQUFLN0YsTUFDcEcsQ0ErRkosT0E3RlksWUFBQTBLLDhCQUFSLFNBQXNDekUsR0FDbEMsSUFBTTJFLEVBQWdCNUssS0FBSzZLLHNCQUFzQjVFLEVBQVE5RyxVQUNyREUsRUFBZ0JXLEtBQUs4SyxZQUFZN0UsRUFBUTlHLFNBQVNvRSxRQUNsRHFILEVBQWN2SCxZQUNkckQsS0FBSzJGLFdBQVdKLElBQUksSUFBSXdGLEVBQWdCOUUsRUFBUTlHLFdBRXBEYSxLQUFLMEYsU0FBU2hGLEtBQUssSUFBSXNLLEVBQ25CL0UsRUFBUTlHLFNBQ1J5TCxFQUFjSCxtQkFDZHBMLEdBRVIsRUFFUSxZQUFBc0wsOEJBQVIsU0FBc0MxRSxHQUVsQyxJLE1BREkyRSxFQUFnQixJQUFJSyxFQUNqQmhGLEVBQVE5RyxTQUFTbUUsZUFBZTVCLE9BQVMsR0FBRyxDQUMvQyxJQUFNd0osRUFBdUJsTCxLQUFLNkssc0JBQXNCNUUsRUFBUTlHLFdBQ2hFLEVBQUF5TCxFQUFjSCxvQkFBbUJySyxLQUFJLFFBQUk4SyxFQUFxQlQsb0JBQzlERyxFQUFjdkgsV0FBYXVILEVBQWN2SCxZQUFjNkgsRUFBcUI3SCxVLENBRWhGLElBQUloRSxFQUFnQlcsS0FBSzhLLFlBQVk3RSxFQUFROUcsU0FBU29FLFFBQ2xEcUgsRUFBY3ZILFlBQ2RyRCxLQUFLMkYsV0FBV0osSUFBSSxJQUFJd0YsRUFBZ0I5RSxFQUFROUcsV0FFcERhLEtBQUswRixTQUFTaEYsS0FBSyxJQUFJc0ssRUFDbkIvRSxFQUFROUcsU0FDUnlMLEVBQWNILG1CQUNkcEwsR0FFUixFQUVRLFlBQUF3TCxzQkFBUixTQUE4QjFMLEdBQTlCLFdBQ1F5TCxFQUFnQixJQUFJSyxFQWF4QixPQVpBOUwsRUFBU21FLGVBQWUxQyxTQUFRLFNBQUNtSSxFQUFleEksRyxNQUM1QyxHQUFJLEVBQUs0SyxjQUFjaE0sRUFBU29FLE9BQVF3RixHQUNwQ0EsRUFBYy9CLFNBQVN6RSxRQUNwQixDQUNILElBQUk2SSxFQUF1QixFQUFLQyx1QkFDNUJsTSxFQUFTb0UsT0FDVHdGLElBRUosRUFBQTZCLEVBQWNILG9CQUFtQnJLLEtBQUksUUFBSWpCLEVBQVNtRSxlQUFlN0MsT0FBT0YsRUFBTyxJQUMvRXFLLEVBQWN2SCxXQUFhdUgsRUFBY3ZILFlBQWMrSCxDLENBRS9ELElBQ09SLENBQ1gsRUFFUSxZQUFBTyxjQUFSLFNBQXNCNUgsRUFBcUJ3RixHQUN2QyxPQUFPSyxFQUFxQjNDLGtCQUN4QnNDLEVBQWM3SCxPQUFPeUIsUUFBUW9HLEVBQWM5QixXQUMzQyxJQUFJMEIsRUFBV0ksRUFBYy9CLFNBQVMzRSxFQUFHMEcsRUFBYy9CLFNBQVN6RSxFQUFJLEdBQ3BFZ0IsRUFFUixFQUVRLFlBQUE4SCx1QkFBUixTQUErQjlILEVBQXFCd0YsR0FDaEQsSUFBSTFGLEdBQWEsRUFtQmpCLE9BbEJBMEYsRUFBYzdILE9BQU95QixRQUFRb0csRUFBYzlCLFdBQ3RDckcsU0FBUSxTQUFDZ0IsRUFBSzBKLEdBQ1gxSixFQUFJaEIsU0FBUSxTQUFDMkssRUFBV0MsR0FDcEIsR0FBS0QsRUFBTCxDQUdBLElBQUlFLEVBQVUxQyxFQUFjL0IsU0FBUzNFLEVBQUltSixFQUNyQ0UsRUFBVTNDLEVBQWMvQixTQUFTekUsRUFBSStJLEVBQ3JDSSxLQUFXbkksR0FDUmtJLEtBQVdsSSxFQUFPbUksS0FDakJuSSxFQUFPbUksR0FBU0QsR0FFcEJsSSxFQUFPbUksR0FBU0QsSUFBVyxFQUUzQnBJLEdBQWEsQyxDQUVyQixHQUNKLElBQ0dBLENBQ1gsRUFFUSxZQUFBeUgsWUFBUixTQUFvQnZILEdBQ2hCLElBQUlvSSxFQUEwQixHQVc5QixPQVZBcEksRUFBTzNDLFNBQVEsU0FBQ2dCLEVBQUtXLEdBQ0dYLEVBQUlnRixPQUFNLFNBQUFzQixHQUFRLE9BQUFBLENBQUEsS0FFbEN5RCxFQUFjdkwsS0FBS21DLEVBRTNCLEdBQUcsR0FDSG9KLEVBQWMvSyxTQUFRLFNBQUEyQixHQUNsQmdCLEVBQU85QyxPQUFPOEIsRUFBRyxHQUNqQmdCLEVBQU9xSSxRQUFRLElBQUl0SixNQUFNaUIsRUFBTyxHQUFHN0IsUUFBUUksTUFBSyxHQUNwRCxJQUNPNkosQ0FDWCxFQUNKLEVBdEdBLEdDTEEsYUFDSSxXQUNZakcsRUFDQUMsR0FEQSxLQUFBRCxTQUFBQSxFQUNBLEtBQUFDLFdBQUFBLEVBRVIzRixLQUFLMkYsV0FBV04sV0FBV3JFLEVBQVkyRCxTQUFVM0UsS0FBSzZILFlBQVloQyxLQUFLN0YsTUFDM0UsQ0EyQ0osT0F6Q1ksWUFBQTZILFlBQVIsU0FBb0JoSSxHQUNoQkcsS0FBSzZMLFVBQVVoTSxFQUFNVixVQUNyQmEsS0FBSzBGLFNBQVM5RixHQUNWWCxFQUFVTSxxQkFDVlMsS0FBSzhMLGtCQUFrQmpHLEtBQUs3RixNQUVwQyxFQUVRLFlBQUE4TCxrQkFBUixTQUEwQmpNLEdBQ3RCRyxLQUFLNkwsVUFBVWhNLEVBQU1WLFNBQ3pCLEVBRVEsWUFBQTBNLFVBQVIsU0FBa0IxTSxHQUNkLEtBQUlBLEVBQVNtRSxlQUFlNUIsT0FBUyxHQUFLdkMsRUFBU2tFLFlBQW5ELENBSUEsSUFBTTBJLEVBQWN2SyxLQUFLd0ssTUFBTXhLLEtBQUt5SyxTQUFXOU0sRUFBU3NFLFNBQVMxQyxRQUFRVyxRQUNuRVIsRUFBUy9CLEVBQVNzRSxTQUFTMUMsUUFBUWdMLEdBQ25DOUUsRUFBWWpILEtBQUtrTSxtQkFDakJqRCxFQUFlL0gsRUFBT3lCLFFBQVFzRSxHQUM5QmtGLEVBQWMzSyxLQUFLQyxJQUFHLE1BQVJELEtBQVl5SCxFQUFhdEgsS0FBSSxTQUFBQyxHQUFPLE9BQUFBLEVBQUlGLE1BQUosS0FDbEQwSyxFQUFhLElBQUl6RCxFQUNuQm5ILEtBQUs2SyxLQUFLbE4sRUFBU3NFLFNBQVM1QyxXQUFhLEVBQUlzTCxFQUFjLEdBQUssR0FDL0RsRCxFQUFhdkgsUUFFbEJ2QyxFQUFTbUUsZUFBZWxELEtBQUssSUFBSWtNLEVBQzdCcEwsRUFDQWtMLEVBQ0FuRixHLENBRVIsRUFFUSxZQUFBaUYsaUJBQVIsV0FDSSxJQUNNSyxFQURPQyxPQUFPQyxLQUFLdk4sR0FFcEJ5QyxLQUFJLFNBQUErSyxHQUFLLE9BQUFDLE9BQU9DLFNBQVNGLEVBQWhCLElBQ1RHLFFBQU8sU0FBQUgsR0FBSyxPQUFDQyxPQUFPRyxNQUFNSixFQUFkLElBRWpCLE9BQU9ILEVBRGEvSyxLQUFLd0ssTUFBTXhLLEtBQUt5SyxTQUFXTSxFQUFXN0ssUUFFOUQsRUFDSixFQWpEQSxHQ0FBLGFBQ0ksV0FDWWlFLEVBQ0FELEdBREEsS0FBQUMsV0FBQUEsRUFDQSxLQUFBRCxTQUFBQSxFQUVSMUYsS0FBSzJGLFdBQVdOLFdBQVdyRSxFQUFZZ0UsU0FBVWhGLEtBQUsrTSx1QkFBdUJsSCxLQUFLN0YsT0FDbEZBLEtBQUsyRixXQUFXTixXQUFXckUsRUFBWWlFLFVBQVdqRixLQUFLZ04sd0JBQXdCbkgsS0FBSzdGLE9BQ3BGQSxLQUFLMkYsV0FBV04sV0FBV3JFLEVBQVltRSxTQUFVbkYsS0FBS2lOLHVCQUF1QnBILEtBQUs3RixPQUNsRkEsS0FBSzJGLFdBQVdOLFdBQVdyRSxFQUFZa0UsY0FBZWxGLEtBQUtrTiw0QkFBNEJySCxLQUFLN0YsTUFDaEcsQ0EwREosT0F4RFksWUFBQStNLHVCQUFSLFNBQStCOUcsR0FDM0JBLEVBQVE5RyxTQUFTbUUsZUFBZTFDLFNBQVEsU0FBQU0sR0FDYmtJLEVBQXFCM0Msa0JBQ3hDdkYsRUFBT0EsT0FBT3lCLFFBQVF6QixFQUFPK0YsV0FDN0IsSUFBSTBCLEVBQVd6SCxFQUFPOEYsU0FBUzNFLEVBQUksRUFBR25CLEVBQU84RixTQUFTekUsR0FDdEQwRCxFQUFROUcsU0FBU29FLFNBR2pCckMsRUFBTzhGLFNBQVMzRSxHQUV4QixJQUNBckMsS0FBSzBGLFNBQVNoRixLQUFLLElBQUl5TSxFQUFrQmxILEVBQVE5RyxVQUNyRCxFQUVRLFlBQUE2Tix3QkFBUixTQUFnQy9HLEdBQzVCQSxFQUFROUcsU0FBU21FLGVBQWUxQyxTQUFRLFNBQUFNLEdBQ1prSSxFQUFxQjNDLGtCQUN6Q3ZGLEVBQU9BLE9BQU95QixRQUFRekIsRUFBTytGLFdBQzdCLElBQUkwQixFQUFXekgsRUFBTzhGLFNBQVMzRSxFQUFJLEVBQUduQixFQUFPOEYsU0FBU3pFLEdBQ3REMEQsRUFBUTlHLFNBQVNvRSxTQUdqQnJDLEVBQU84RixTQUFTM0UsR0FFeEIsSUFDQXJDLEtBQUswRixTQUFTaEYsS0FBSyxJQUFJeU0sRUFBa0JsSCxFQUFROUcsVUFDckQsRUFFUSxZQUFBK04sNEJBQVIsU0FBb0NqSCxHQUNoQyxJQUFNbUgsRUFBZ0JwTixLQUFLcU4sdUJBQzNCcEgsRUFBUTlHLFNBQVNtRSxlQUFlMUMsU0FBUSxTQUFBTSxHQUNwQyxJQUFJb00sRUFBZ0JwTSxFQUFPK0YsVUFBWSxFQUNqQ3FHLEtBQWlCRixJQUNuQkUsRUFBZ0JGLEVBQWMsSUFFZGhFLEVBQXFCM0Msa0JBQ3JDdkYsRUFBT0EsT0FBT3lCLFFBQVEySyxHQUN0QnBNLEVBQU84RixTQUNQZixFQUFROUcsU0FBU29FLFVBR2pCckMsRUFBTytGLFVBQVlxRyxFQUUzQixJQUNBdE4sS0FBSzBGLFNBQVNoRixLQUFLLElBQUl5TSxFQUFrQmxILEVBQVE5RyxVQUNyRCxFQUVRLFlBQUE4Tix1QkFBUixTQUErQmhILEdBQzNCakcsS0FBSzJGLFdBQVdKLElBQUksSUFBSWdCLEVBQXVCTixFQUFROUcsVUFDM0QsRUFFUSxZQUFBa08scUJBQVIsV0FDSSxPQUFPYixPQUFPQyxLQUFLdk4sR0FDZHlDLEtBQUksU0FBQStLLEdBQUssT0FBQUMsT0FBT0MsU0FBU0YsRUFBaEIsSUFDVEcsUUFBTyxTQUFBSCxHQUFLLE9BQUNDLE9BQU9HLE1BQU1KLEVBQWQsR0FDckIsRUFDSixFQW5FQSxHQ0hBLGFBQ0ksV0FDWS9HLEdBQUEsS0FBQUEsV0FBQUEsRUFFUjNGLEtBQUsyRixXQUFXTixXQUFXckUsRUFBWTJELFNBQVUzRSxLQUFLdU4sdUJBQXVCMUgsS0FBSzdGLE1BQ3RGLENBbUJKLE9BakJZLFlBQUF1Tix1QkFBUixTQUErQnRILEdBQS9CLFdBQ0l1SCxPQUFPQyxVQUFZLFNBQUE1TixHQUNJLGNBQWZBLEVBQU02TixLQUNOLEVBQUsvSCxXQUFXSixJQUFJLElBQUlvSSxFQUFnQjFILEVBQVE5RyxXQUMxQixlQUFmVSxFQUFNNk4sS0FDYixFQUFLL0gsV0FBV0osSUFBSSxJQUFJcUksRUFBaUIzSCxFQUFROUcsV0FDM0IsWUFBZlUsRUFBTTZOLEtBQ2IsRUFBSy9ILFdBQVdKLElBQUksSUFBSXNJLEVBQXFCNUgsRUFBUTlHLFdBQy9CLGNBQWZVLEVBQU02TixNQUVTLGNBQWY3TixFQUFNNk4sS0FEYixFQUFLL0gsV0FBV0osSUFBSSxJQUFJdUksRUFBZ0I3SCxFQUFROUcsV0FHMUIsVUFBZlUsRUFBTTZOLE1BQ2IsRUFBSy9ILFdBQVdKLElBQUksSUFBSXdJLEVBQXVCOUgsRUFBUTlHLFVBRS9ELENBQ0osRUFDSixFQXhCQSxHQ0FBLGFBQ0ksV0FDWTZPLEdBQUEsS0FBQUEsZUFBQUEsQ0FDVCxDQUtQLE9BSEksWUFBQXhILHNCQUFBLFNBQXNCckgsR0FDbEIsT0FBT3FDLEtBQUt5TSxJQUFJLEdBQTZCLE1BQXRCOU8sRUFBU3VFLE1BQVEsR0FBWXZFLEVBQVN1RSxNQUFRLEdBQUsxRCxLQUFLZ08sY0FDbkYsRUFDSixFQVJBLEdDREEsYUFDSSxXQUNZdEksRUFDQXdJLFFBQUEsSUFBQUEsSUFBQUEsRUFBQSxJQUEyRHZPLElBQUksQ0FDbkUsQ0FBQyxFQUFHLEtBQ0osQ0FBQyxFQUFHLEtBQ0osQ0FBQyxFQUFHLEtBQ0osQ0FBQyxFQUFHLFNBTEEsS0FBQStGLFNBQUFBLEVBQ0EsS0FBQXdJLGdDQUFBQSxFQU9SeEksRUFBUzlGLEdBQUdYLEVBQVVNLHFCQUFzQlMsS0FBS21PLHVCQUF1QnRJLEtBQUs3RixNQUNqRixDQWVKLE9BYlksWUFBQW1PLHVCQUFSLFNBQStCdE8sR0FDM0IsS0FBSUEsRUFBTVIsY0FBY3FDLE9BQVMsR0FBakMsQ0FHQSxJQUFJME0sRUFBMEIsRUFDOUJwTyxLQUFLa08sZ0NBQWdDdE4sU0FBUSxTQUFDeU4sRUFBUUMsR0FDOUNBLEVBQXdCek8sRUFBTVIsY0FBY3FDLFNBR2hEME0sRUFBMEJDLEVBQzlCLElBQ0F4TyxFQUFNVixTQUFTd0UsT0FBU3lLLEMsQ0FDNUIsRUFDSixFQTFCQSxHQ0NBLGFBR0ksV0FDWTFJLEVBQ0FDLEVBQ0E0SSxFQUNBQyxHQUhBLEtBQUE5SSxTQUFBQSxFQUNBLEtBQUFDLFdBQUFBLEVBQ0EsS0FBQTRJLGtDQUFBQSxFQUNBLEtBQUFDLFVBQUFBLEVBTkosS0FBQUMsb0JBQXNCLEVBUTFCek8sS0FBSzJGLFdBQVdOLFdBQVdyRSxFQUFZMkQsU0FBVTNFLEtBQUt1Tix1QkFBdUIxSCxLQUFLN0YsTUFDdEYsQ0FnQkosT0FkWSxZQUFBdU4sdUJBQVIsU0FBK0J0SCxHQUMzQmpHLEtBQUswRixTQUFTOUYsR0FBR1gsRUFBVU0scUJBQXNCUyxLQUFLc0ksb0JBQW9CekMsS0FBSzdGLE1BQ25GLEVBRVEsWUFBQXNJLG9CQUFSLFNBQTRCekksR0FDVyxJQUEvQkEsRUFBTVIsY0FBY3FDLFNBR3hCMUIsS0FBS3lPLHNCQUNEek8sS0FBS3lPLHFCQUF1QnpPLEtBQUt1TyxvQ0FDakN2TyxLQUFLeU8sb0JBQXNCLEVBQzNCNU8sRUFBTVYsU0FBU3VFLE1BQVFsQyxLQUFLa04sSUFBSTFPLEtBQUt3TyxVQUFXM08sRUFBTVYsU0FBU3VFLE1BQVEsSUFFL0UsRUFDSixFQTFCQSxHQ1VBLDBCQUNZLEtBQUFnQyxTQUFXLElBQUlpSixFQUNmLEtBQUFoSixXQUFhLElBQUlpSixFQUNqQixLQUFBQyxlQUFpQixJQUFJQyxFQUN6QixJQUFJQyxFQUF5QixLQUM3Qi9PLEtBQUswRixTQUNMMUYsS0FBSzJGLFlBRUQsS0FBQXFKLGNBQWdCLElBQUlDLEVBQ3hCalAsS0FBSzJGLFdBQ0wzRixLQUFLMEYsVUFFRCxLQUFBd0osaUJBQW1CLElBQUlDLEVBQzNCblAsS0FBSzJGLFlBRUQsS0FBQXlKLHdCQUEwQixJQUFJQyxFQUNsQ3JQLEtBQUsyRixXQUNMM0YsS0FBSzBGLFVBRUQsS0FBQTRKLGVBQWlCLElBQUlDLEVBQ3pCdlAsS0FBSzBGLFNBQ0wxRixLQUFLMkYsWUFFRCxLQUFBNkosYUFBZSxJQUFJQyxFQUN2QnpQLEtBQUswRixTQUNMMUYsS0FBSzJGLFdBQ0wsR0FDQSxJQUVJLEtBQUErSixhQUFlLElBQUlDLEVBQ3ZCM1AsS0FBSzBGLFVBRUQsS0FBQWtLLGNBQWdCLElBQUk1SCxFQUN4QixJQUFJNkgsRUFDQTlGLFNBQVMrRixNQUViOVAsS0FBSzJGLFdBQ0wzRixLQUFLMEYsVUFFRixLQUFBdkcsU0FBVzZFLEVBQVNILFlBZS9CLFFBYlcsWUFBQWtNLE1BQVAsU0FBYTVRLEdBQ1RhLEtBQUtiLFNBQVdBLEdBQVk2RSxFQUFTSCxhQUNyQzdELEtBQUsyRixXQUFXSixJQUFJLElBQUlXLEVBQWdCbEcsS0FBS2IsV0FDN0NhLEtBQUsyRixXQUFXSixJQUFJLElBQUl5SyxFQUFrQmhRLEtBQUtiLFVBQ25ELEVBRU8sWUFBQThRLE9BQVAsV0FDSWpRLEtBQUsyRixXQUFXSixJQUFJLElBQUl5SyxFQUFrQmhRLEtBQUtiLFVBQ25ELEVBRU8sWUFBQStRLE1BQVAsV0FDSWxRLEtBQUsyRixXQUFXSixJQUFJLElBQUk0SyxFQUFpQm5RLEtBQUtiLFVBQ2xELEVBQ0osRUF0REEsR0NYQTRLLFNBQVNxRyxpQkFBaUIsb0JBQW9CLFlBQzdCLElBQUlDLEdBQ1ZOLE9BQ1gsRyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9UZXRyaXMvRXZlbnRCdXMvRXZlbnRCdXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9GaWd1cmVzLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvR2FtZVNldHRpbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvQ29tbWFuZEJ1cy9Db21tYW5kQnVzLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvR2FtZURhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9HYW1lQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1V0aWxzL0ZpZ3VyZVBsYWNpbmdDaGVja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvU3RydWN0dXJlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1JlbmRlcmVyL1RhYmxlUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9GYWxsaW5nRmlndXJlc1Byb2Nlc3Nvci9SZWd1bGFyRmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9GaWd1cmVzU3Bhd25lci9BbHdheXNPbmVGaWd1cmVTcGF3bmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvTW92aW5nSGFuZGxlci9Nb3ZpbmdIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvTW92aW5nQ29udHJvbGxlci9Nb3ZpbmdDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVGltaW5nc0hhbmRsZXIvTGV2ZWxCYXNlZFRpbWluZ3NIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvU2NvcmVDb3VudGVyL1NxdWFzaGVkUm93c1Njb3JlQ291bnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0xldmVsQ291bnRlci9TcXVhc2hlZFJvd3NDb3VudGVyQmFzZWRMZXZlbENvdW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9UZXRyaXNGYWNhZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuLi9HYW1lRGF0YVwiO1xuaW1wb3J0IHtGYWxsaW5nRmlndXJlfSBmcm9tIFwiLi4vU3RydWN0dXJlc1wiO1xuXG5leHBvcnQgZW51bSBFdmVudFR5cGUge1xuICAgIEZhbGxpbmdUaWNrUHJvY2Vzc2VkLFxuICAgIEdhbWVPdmVyLFxuICAgIEZpZ3VyZXNNb3ZlZCxcbiAgICBMZXZlbFVwLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50IHtcbiAgICBnYW1lRGF0YTogR2FtZURhdGE7XG5cbiAgICBnZXRFdmVudFR5cGUoKTogRXZlbnRUeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgRmFsbFRpY2tQcm9jZXNzZWRFdmVudCBpbXBsZW1lbnRzIEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICAgICAgcHVibGljIHRyYW5zZmVycmVkVG9NYXRyaXhGaWd1cmVzOiBGYWxsaW5nRmlndXJlW10sXG4gICAgICAgIHB1YmxpYyBzcXVhc2hlZExpbmVzOiBudW1iZXJbXSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0RXZlbnRUeXBlKCk6IEV2ZW50VHlwZSB7XG4gICAgICAgIHJldHVybiBFdmVudFR5cGUuRmFsbGluZ1RpY2tQcm9jZXNzZWQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJFdmVudCBpbXBsZW1lbnRzIEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0RXZlbnRUeXBlKCk6IEV2ZW50VHlwZSB7XG4gICAgICAgIHJldHVybiBFdmVudFR5cGUuR2FtZU92ZXI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlndXJlc01vdmVkRXZlbnQgaW1wbGVtZW50cyBFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldEV2ZW50VHlwZSgpOiBFdmVudFR5cGUge1xuICAgICAgICByZXR1cm4gRXZlbnRUeXBlLkZpZ3VyZXNNb3ZlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMZXZlbFVwRXZlbnQgaW1wbGVtZW50cyBFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldEV2ZW50VHlwZSgpOiBFdmVudFR5cGUge1xuICAgICAgICByZXR1cm4gRXZlbnRUeXBlLkxldmVsVXA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRCdXMge1xuICAgIHByaXZhdGUgaGFuZGxlcnM6IE1hcDxFdmVudFR5cGUsICgoLi4uXzogYW55KSA9PiB2b2lkKVtdPiA9IG5ldyBNYXAoKTtcblxuICAgIHB1YmxpYyBvbihldmVudDogRXZlbnRUeXBlLCBoYW5kbGVyOiAoLi4uXzogYW55KSA9PiB2b2lkLCB1bmlxdWU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50KSB8fCBbXTtcbiAgICAgICAgaWYgKHVuaXF1ZSAmJiBoYW5kbGVycy5zb21lKGJvdW5kSGFuZGxlciA9PiBib3VuZEhhbmRsZXIgPT09IGhhbmRsZXIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQoZXZlbnQsIGhhbmRsZXJzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2ZmKGV2ZW50OiBFdmVudFR5cGUsIGhhbmRsZXI6ICguLi5fOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycy5nZXQoZXZlbnQpIHx8IFtdO1xuICAgICAgICBsZXQgaW5kZXggPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQoZXZlbnQsIGhhbmRsZXJzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZmlyZShldmVudFBheWxvYWQ6IEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50UGF5bG9hZC5nZXRFdmVudFR5cGUoKSkgfHwgW107XG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7aGFuZGxlcihldmVudFBheWxvYWQpfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGVudW0gRmlndXJlVHVyblN0YXRlIHtcbiAgICBPbmUsXG4gICAgVHdvLFxuICAgIFRocmVlLFxuICAgIEZvdXIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlndXJlIHtcbiAgICAvKipcbiAgICAgKiBBbnkgZmlndXJlIG11c3QgYmUgYWJsZSB0byB0dXJuIDQgdGltZXMgaW4gMiBkaW1lbnNpb25zLlxuICAgICAqIEFsbCB0dXJucyBhcmUgY2xvY2t3aXNlLlxuICAgICAqL1xuICAgIGdldFR1cm4oZmlndXJlVHVyblN0YXRlOiBGaWd1cmVUdXJuU3RhdGUpOiBib29sZWFuW11bXTtcbiAgICBnZXRGaXJzdFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgZ2V0U2Vjb25kVHVybigpOiBib29sZWFuW11bXTtcbiAgICBnZXRUaGlyZFR1cm4oKTogYm9vbGVhbltdW107XG4gICAgZ2V0Rm9ydGhUdXJuKCk6IGJvb2xlYW5bXVtdO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RGaWd1cmUgaW1wbGVtZW50cyBGaWd1cmV7XG4gICAgcHVibGljIGFic3RyYWN0IGdldEZpcnN0VHVybigpOiBib29sZWFuW11bXTtcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0U2Vjb25kVHVybigpOiBib29sZWFuW11bXTtcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VGhpcmRUdXJuKCk6IGJvb2xlYW5bXVtdO1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRGb3J0aFR1cm4oKTogYm9vbGVhbltdW107XG5cbiAgICBnZXRUdXJuKGZpZ3VyZVR1cm5TdGF0ZTogRmlndXJlVHVyblN0YXRlKTogYm9vbGVhbltdW10ge1xuICAgICAgICBzd2l0Y2ggKGZpZ3VyZVR1cm5TdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBGaWd1cmVUdXJuU3RhdGUuT25lOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZpcnN0VHVybigpO1xuICAgICAgICAgICAgY2FzZSBGaWd1cmVUdXJuU3RhdGUuVHdvOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNlY29uZFR1cm4oKTtcbiAgICAgICAgICAgIGNhc2UgRmlndXJlVHVyblN0YXRlLlRocmVlOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRoaXJkVHVybigpO1xuICAgICAgICAgICAgY2FzZSBGaWd1cmVUdXJuU3RhdGUuRm91cjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGb3J0aFR1cm4oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGdpdmVzIGFuIGVhc3kgd2F5IHRvIGRlZmluZSBmaWd1cmVzIGZvciB0ZXRyaXMuXG4gKiBKdXN0IGltcGxlbWVudCB0aGUgZ2V0RmlndXJlIG1ldGhvZCBhbmQgcmV0dXJuIGZpZ3VyZSBsaWtlIHRoaXM6XG4gKiBgYGAodHMpXG4gKiBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAqICAgICByZXR1cm4gW1xuICogICAgICAgICBbdHJ1ZSwgIHRydWUsIHRydWVdLFxuICogICAgICAgICBbZmFsc2UsIHRydWUsIGZhbHNlXSxcbiAqICAgICAgICAgW3RydWUsICB0cnVlLCB0cnVlXSxcbiAqICAgICBdO1xuICogfVxuICogYGBgXG4gKlxuICogT3IgZGVmaW5lIGl0IGxpa2UgdGhpcyBmb3IgbW9yZSB2aXN1YWwgcHJlc2VudGF0aW9uOlxuICogYGBgKHRzKVxuICogcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gKiAgICAgcmV0dXJuIFtcbiAqICAgICAgICAgXCIjIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gKiAgICAgICAgIFwiLSMtXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICogICAgICAgICBcIiMjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAqICAgICBdO1xuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaW1wbHlSb3RhdGFibGVGaWd1cmUgZXh0ZW5kcyBBYnN0cmFjdEZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldEZpZ3VyZSgpOiBib29sZWFuW11bXTtcblxuICAgIHByaXZhdGUgZ2V0Tm9ybWFsaXplZEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIGxldCBmaWd1cmUgPSB0aGlzLmdldEZpZ3VyZSgpO1xuICAgICAgICBsZXQgdGhlTG9uZ2VzdFJvd1NpemUgPSBmaWd1cmUucmVkdWNlKFxuICAgICAgICAgICAgKHByZXZpb3VzLCBjdXJyZW50KSA9PiBNYXRoLm1heChwcmV2aW91cywgY3VycmVudC5sZW5ndGgpLFxuICAgICAgICAgICAgMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZmlndXJlLm1hcChyb3cgPT4ge1xuICAgICAgICAgICAgbGV0IG9yaWdpbmFsTGVuZ3RoID0gcm93Lmxlbmd0aDtcbiAgICAgICAgICAgIHJvdy5sZW5ndGggPSB0aGVMb25nZXN0Um93U2l6ZTtcbiAgICAgICAgICAgIHJldHVybiByb3cuZmlsbChmYWxzZSwgb3JpZ2luYWxMZW5ndGggLSAxLCB0aGVMb25nZXN0Um93U2l6ZSAtIDEpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Rmlyc3RUdXJuKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9ybWFsaXplZEZpZ3VyZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZWNvbmRUdXJuKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgbGV0IG9yaWdpbmFsRmlndXJlID0gdGhpcy5nZXROb3JtYWxpemVkRmlndXJlKCk7XG4gICAgICAgIGxldCB0dXJuZWRGaWd1cmU6IGJvb2xlYW5bXVtdID0gW107XG4gICAgICAgIGxldCBvcmlnaW5hbEZpZ3VyZUhlaWdodCA9IG9yaWdpbmFsRmlndXJlLmxlbmd0aDtcbiAgICAgICAgbGV0IG9yaWdpbmFsRmlndXJlV2lkdGggPSBvcmlnaW5hbEZpZ3VyZVswXS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgb3JpZ2luYWxGaWd1cmVXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICB0dXJuZWRGaWd1cmVbeF0gPSBuZXcgQXJyYXkob3JpZ2luYWxGaWd1cmVIZWlnaHQpLmZpbGwoZmFsc2UpO1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBvcmlnaW5hbEZpZ3VyZUhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgdHVybmVkRmlndXJlW3hdW29yaWdpbmFsRmlndXJlSGVpZ2h0IC0geSAtIDFdID0gb3JpZ2luYWxGaWd1cmVbeV1beF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR1cm5lZEZpZ3VyZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGhpcmRUdXJuKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rmlyc3RUdXJuKCkucmV2ZXJzZSgpLm1hcChyb3cgPT4gcm93LnJldmVyc2UoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZvcnRoVHVybigpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNlY29uZFR1cm4oKS5yZXZlcnNlKCkubWFwKHJvdyA9PiByb3cucmV2ZXJzZSgpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBURmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICAgICAgXCItIy1cIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmlnaHRMRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICAgICAgXCItLSNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGVmdExGaWd1cmUgZXh0ZW5kcyBTaW1wbHlSb3RhdGFibGVGaWd1cmUge1xuICAgIHByb3RlY3RlZCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCIjIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgICAgICBcIiMtLVwiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcXVhcmVGaWd1cmUgZXh0ZW5kcyBTaW1wbHlSb3RhdGFibGVGaWd1cmUge1xuICAgIHByb3RlY3RlZCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCIjI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RpY2tGaWd1cmUgZXh0ZW5kcyBTaW1wbHlSb3RhdGFibGVGaWd1cmUge1xuICAgIHByb3RlY3RlZCBnZXRGaWd1cmUoKTogYm9vbGVhbltdW10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCIjIyMjXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExaRmlndXJlIGV4dGVuZHMgU2ltcGx5Um90YXRhYmxlRmlndXJlIHtcbiAgICBwcm90ZWN0ZWQgZ2V0RmlndXJlKCk6IGJvb2xlYW5bXVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiIyMtXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICAgICAgXCItIyNcIi5zcGxpdChcIlwiKS5tYXAoaXRlbSA9PiBpdGVtID09PSBcIiNcIiksXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBSWkZpZ3VyZSBleHRlbmRzIFNpbXBseVJvdGF0YWJsZUZpZ3VyZSB7XG4gICAgcHJvdGVjdGVkIGdldEZpZ3VyZSgpOiBib29sZWFuW11bXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcIi0jI1wiLnNwbGl0KFwiXCIpLm1hcChpdGVtID0+IGl0ZW0gPT09IFwiI1wiKSxcbiAgICAgICAgICAgIFwiIyMtXCIuc3BsaXQoXCJcIikubWFwKGl0ZW0gPT4gaXRlbSA9PT0gXCIjXCIpLFxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RmlndXJlfSBmcm9tIFwiLi9GaWd1cmVzXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lU2V0dGluZ3Mge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZmllbGRXaWR0aDogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgZmllbGRIZWlnaHQ6IG51bWJlcixcbiAgICAgICAgcHVibGljIGZpZ3VyZXM6IEZpZ3VyZVtdLFxuICAgICkge31cbn1cbiIsImltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuLi9HYW1lRGF0YVwiO1xuXG5leHBvcnQgZW51bSBDb21tYW5kVHlwZSB7XG4gICAgSW5pdEdhbWUsXG4gICAgUmVzdW1lR2FtZSxcbiAgICBQYXVzZUdhbWUsXG4gICAgRmlndXJlc0ZhbGxUaWNrLFxuICAgIEdhbWVPdmVyLFxuICAgIFJlbmRlcixcbiAgICBNb3ZlTGVmdCxcbiAgICBNb3ZlUmlnaHQsXG4gICAgVHVybkNsb2Nrd2lzZSxcbiAgICBNb3ZlRG93bixcbiAgICBGaWd1cmVzRmFsbERvd24sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZCB7XG4gICAgZ2FtZURhdGE6IEdhbWVEYXRhO1xuXG4gICAgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBJbml0R2FtZUNvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuSW5pdEdhbWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVzdW1lR2FtZUNvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuUmVzdW1lR2FtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXVzZUdhbWVDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLlBhdXNlR2FtZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWd1cmVzRmFsbFRpY2tDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLkZpZ3VyZXNGYWxsVGljaztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lT3ZlckNvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuR2FtZU92ZXI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVuZGVyQ29tbWFuZCBpbXBsZW1lbnRzIENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZ2FtZURhdGE6IEdhbWVEYXRhLFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXRDb21tYW5kVHlwZSgpOiBDb21tYW5kVHlwZSB7XG4gICAgICAgIHJldHVybiBDb21tYW5kVHlwZS5SZW5kZXI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZUxlZnRDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLk1vdmVMZWZ0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmVSaWdodENvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuTW92ZVJpZ2h0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFR1cm5DbG9ja3dpc2VDb21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLlR1cm5DbG9ja3dpc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZURvd25Db21tYW5kIGltcGxlbWVudHMgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBnYW1lRGF0YTogR2FtZURhdGEsXG4gICAgKSB7fVxuXG4gICAgcHVibGljIGdldENvbW1hbmRUeXBlKCk6IENvbW1hbmRUeXBlIHtcbiAgICAgICAgcmV0dXJuIENvbW1hbmRUeXBlLk1vdmVEb3duO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpZ3VyZXNGYWxsRG93bkNvbW1hbmQgaW1wbGVtZW50cyBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGdhbWVEYXRhOiBHYW1lRGF0YSxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgZ2V0Q29tbWFuZFR5cGUoKTogQ29tbWFuZFR5cGUge1xuICAgICAgICByZXR1cm4gQ29tbWFuZFR5cGUuRmlndXJlc0ZhbGxEb3duO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hbmRCdXMge1xuICAgIHByaXZhdGUgaGFuZGxlcnM6IE1hcDxDb21tYW5kVHlwZSwgKChwYXlsb2FkOiBDb21tYW5kKSA9PiB2b2lkKVtdPiA9IG5ldyBNYXAoKTtcblxuICAgIHB1YmxpYyBhZGRIYW5kbGVyKGV2ZW50OiBDb21tYW5kVHlwZSwgaGFuZGxlcjogKC4uLl86IGFueSkgPT4gdm9pZCwgdW5pcXVlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudCkgfHwgW107XG4gICAgICAgIGlmICh1bmlxdWUgJiYgaGFuZGxlcnMuc29tZShib3VuZEhhbmRsZXIgPT4gYm91bmRIYW5kbGVyID09PSBoYW5kbGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUhhbmRsZXIoZXZlbnQ6IENvbW1hbmRUeXBlLCBoYW5kbGVyOiAoLi4uXzogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50KSB8fCBbXTtcbiAgICAgICAgbGV0IGluZGV4ID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBoYW5kbGVycyk7XG4gICAgfVxuXG4gICAgcHVibGljIHJ1bihwYXlsb2FkOiBDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGxldCBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZ2V0KHBheWxvYWQuZ2V0Q29tbWFuZFR5cGUoKSkgfHwgW107XG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7aGFuZGxlcihwYXlsb2FkKX0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RmFsbGluZ0ZpZ3VyZX0gZnJvbSBcIi4vU3RydWN0dXJlc1wiO1xuaW1wb3J0IHtHYW1lU2V0dGluZ3N9IGZyb20gXCIuL0dhbWVTZXR0aW5nc1wiO1xuaW1wb3J0IHtMZWZ0TEZpZ3VyZSwgTFpGaWd1cmUsIFJpZ2h0TEZpZ3VyZSwgUlpGaWd1cmUsIFNxdWFyZUZpZ3VyZSwgU3RpY2tGaWd1cmUsIFRGaWd1cmV9IGZyb20gXCIuL0ZpZ3VyZXNcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWVEYXRhIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcHVibGljIGlzR2FtZU92ZXI6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcHVibGljIGZhbGxpbmdGaWd1cmVzOiBGYWxsaW5nRmlndXJlW10gPSBbXSxcbiAgICAgICAgcHVibGljIG1hdHJpeDogYm9vbGVhbltdW10gPSBbXSxcbiAgICAgICAgcHVibGljIG5leHRUaWNrVGltZW91dElkOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiA9IHNldFRpbWVvdXQoKCkgPT4ge30pLFxuICAgICAgICBwdWJsaWMgc2V0dGluZ3M6IEdhbWVTZXR0aW5ncyxcbiAgICAgICAgcHVibGljIGxldmVsOiBudW1iZXIgPSAxLFxuICAgICAgICBwdWJsaWMgc2NvcmU6IG51bWJlciA9IDAsXG4gICAgKSB7fVxuXG4gICAgc3RhdGljIG1ha2VTaW1wbGUod2lkdGg6IG51bWJlciA9IDEwLCBoZWlnaHQ6IG51bWJlciA9IDIwKTogR2FtZURhdGEge1xuICAgICAgICByZXR1cm4gbmV3IEdhbWVEYXRhKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgbmV3IEFycmF5KGhlaWdodCkuZmlsbChbXSlcbiAgICAgICAgICAgICAgICAubWFwKF8gPT4gbmV3IEFycmF5KHdpZHRoKS5maWxsKGZhbHNlKSksXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHt9KSxcbiAgICAgICAgICAgIG5ldyBHYW1lU2V0dGluZ3MoXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFRGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJpZ2h0TEZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgTGVmdExGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFNxdWFyZUZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgU3RpY2tGaWd1cmUoKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IExaRmlndXJlKCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSWkZpZ3VyZSgpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApLFxuICAgICAgICApXG4gICAgfVxufVxuIiwiaW1wb3J0IHtUaW1pbmdzSGFuZGxlcn0gZnJvbSBcIi4vVGltaW5nc0hhbmRsZXIvVGltaW5nc0hhbmRsZXJcIjtcbmltcG9ydCB7RXZlbnRCdXMsIEdhbWVPdmVyRXZlbnR9IGZyb20gXCIuL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0dhbWVEYXRhfSBmcm9tIFwiLi9HYW1lRGF0YVwiO1xuaW1wb3J0IHtDb21tYW5kQnVzLCBDb21tYW5kVHlwZSwgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCwgSW5pdEdhbWVDb21tYW5kLCBQYXVzZUdhbWVDb21tYW5kLCBSZW5kZXJDb21tYW5kLCBSZXN1bWVHYW1lQ29tbWFuZH0gZnJvbSBcIi4vQ29tbWFuZEJ1cy9Db21tYW5kQnVzXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBnYW1lRGF0YTogR2FtZURhdGEgPSBHYW1lRGF0YS5tYWtlU2ltcGxlKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIHByaXZhdGUgdGltaW5nc0hhbmRsZXI6IFRpbWluZ3NIYW5kbGVyLFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICkge1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Jbml0R2FtZSwgdGhpcy5pbml0R2FtZUhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLlJlc3VtZUdhbWUsIHRoaXMucmVzdW1lR2FtZUhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLlBhdXNlR2FtZSwgdGhpcy5wYXVzZUdhbWVIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5HYW1lT3ZlciwgdGhpcy5nYW1lT3ZlckhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0R2FtZUhhbmRsZXIoY29tbWFuZDogSW5pdEdhbWVDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZ2FtZURhdGEgPSBjb21tYW5kLmdhbWVEYXRhO1xuICAgICAgICB0aGlzLmdhbWVEYXRhLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdW1lR2FtZUhhbmRsZXIoY29tbWFuZDogUmVzdW1lR2FtZUNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZURhdGEuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5nYW1lRGF0YS5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBJbml0R2FtZUNvbW1hbmQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFsbFRpY2soKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBhdXNlR2FtZUhhbmRsZXIoY29tbWFuZDogUmVzdW1lR2FtZUNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5nYW1lRGF0YSA9IGNvbW1hbmQuZ2FtZURhdGE7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUmVuZGVyQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnYW1lT3ZlckhhbmRsZXIoKTogdm9pZCB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkKTtcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FtZURhdGEuaXNHYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgR2FtZU92ZXJFdmVudCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmYWxsVGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgICAgIGlmICghdGhpcy5nYW1lRGF0YS5pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVEYXRhLm5leHRUaWNrVGltZW91dElkID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICB0aGlzLmZhbGxUaWNrLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgdGhpcy50aW1pbmdzSGFuZGxlci5nZXREZWxheUZvck5leHRUaWNrTXModGhpcy5nYW1lRGF0YSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0Nvb3JkaW5hdGV9IGZyb20gXCIuLi9TdHJ1Y3R1cmVzXCI7XG5cbmV4cG9ydCBjbGFzcyBGaWd1cmVQbGFjaW5nQ2hlY2tlciB7XG4gICAgcHVibGljIHN0YXRpYyBjYW5GaWd1cmVCZVBsYWNlZCh0YXJnZXRGaWd1cmVNYXRyaXg6IGJvb2xlYW5bXVtdLCB0YXJnZXRQb3NpdGlvbjogQ29vcmRpbmF0ZSwgbWF0cml4OiBib29sZWFuW11bXSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGFyZ2V0RmlndXJlTWF0cml4LmV2ZXJ5KChyb3csIHkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByb3cuZXZlcnkoKHZhbHVlLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhbFkgPSB0YXJnZXRQb3NpdGlvbi55ICsgeTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFsWCA9IHRhcmdldFBvc2l0aW9uLnggKyB4O1xuICAgICAgICAgICAgICAgIHJldHVybiAhdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFkgPCAwXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiByZWFsWCA+PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiByZWFsWCA8PSBtYXRyaXhbMF0ubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICApIHx8IChcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxZIGluIG1hdHJpeFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmVhbFggaW4gbWF0cml4W3JlYWxZXVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgIW1hdHJpeFtyZWFsWV1bcmVhbFhdXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtGaWd1cmUsIEZpZ3VyZVR1cm5TdGF0ZX0gZnJvbSBcIi4vRmlndXJlc1wiO1xuXG4vKipcbiAqIHggZm9yIGhvcml6b250YWwgcG9zaXRpb25pbmdcbiAqIHkgZm9yIHZlcnRpY2FsIHBvc2l0aW9uaW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBDb29yZGluYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHg6IG51bWJlcixcbiAgICAgICAgcHVibGljIHk6IG51bWJlcixcbiAgICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBGYWxsaW5nRmlndXJlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGZpZ3VyZTogRmlndXJlLFxuICAgICAgICBwdWJsaWMgcG9zaXRpb246IENvb3JkaW5hdGUsXG4gICAgICAgIHB1YmxpYyB0dXJuU3RhdGU6IEZpZ3VyZVR1cm5TdGF0ZSxcbiAgICApIHt9XG59XG4iLCJpbXBvcnQge0NvbW1hbmRCdXMsIENvbW1hbmRUeXBlLCBJbml0R2FtZUNvbW1hbmQsIFJlbmRlckNvbW1hbmR9IGZyb20gXCIuLi9Db21tYW5kQnVzL0NvbW1hbmRCdXNcIjtcbmltcG9ydCB7RXZlbnRCdXMsIEV2ZW50VHlwZSwgRmFsbFRpY2tQcm9jZXNzZWRFdmVudCwgR2FtZU92ZXJFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0dhbWVEYXRhfSBmcm9tIFwiLi4vR2FtZURhdGFcIjtcbmltcG9ydCB7RmlndXJlUGxhY2luZ0NoZWNrZXJ9IGZyb20gXCIuLi9VdGlscy9GaWd1cmVQbGFjaW5nQ2hlY2tlclwiO1xuaW1wb3J0IHtDb29yZGluYXRlfSBmcm9tIFwiLi4vU3RydWN0dXJlc1wiO1xuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGZpbGxlZDogc3RyaW5nfG51bGwsXG4gICAgICAgIHB1YmxpYyBmaWxsZWRHYW1lT3Zlcjogc3RyaW5nfG51bGwsXG4gICAgICAgIHB1YmxpYyBlbXB0eTogc3RyaW5nfG51bGwsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlclNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgICAgICBwdWJsaWMgcmVuZGVyUHJvamVjdGlvbkZpZ3VyZXM6IGJvb2xlYW4gPSB0cnVlLFxuICAgICAgICBwdWJsaWMgbWF0cml4Q2VsbENvbG9yczogVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzID0gbmV3IFRhYmxlUmVuZGVyZXJDZWxsQ29sb3JTZXR0aW5ncyhcbiAgICAgICAgICAgICcjMDA3NDAwJyxcbiAgICAgICAgICAgICcjNzgwMDAwJyxcbiAgICAgICAgICAgICcjZmZmJyxcbiAgICAgICAgKSxcbiAgICAgICAgcHVibGljIGZhbGxpbmdGaWd1cmVDZWxsQ29sb3JzOiBUYWJsZVJlbmRlcmVyQ2VsbENvbG9yU2V0dGluZ3MgPSBuZXcgVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzKFxuICAgICAgICAgICAgJyMwMDc0MDAnLFxuICAgICAgICAgICAgJyM3ODAwMDAnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgKSxcbiAgICAgICAgcHVibGljIHByb2plY3Rpb25GaWd1cmVDZWxsQ29sb3JzOiBUYWJsZVJlbmRlcmVyQ2VsbENvbG9yU2V0dGluZ3MgPSBuZXcgVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzKFxuICAgICAgICAgICAgJyNiOGU1ZTMnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICksXG4gICAgKSB7fVxufVxuXG5jbGFzcyBDZWxsQ29sb3JzIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGZpbGxlZDogc3RyaW5nfG51bGwsXG4gICAgICAgIHB1YmxpYyBlbXB0eTogc3RyaW5nfG51bGwsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSZW5kZXJlciB7XG4gICAgcHJpdmF0ZSBjZWxsc0h0bWxFbGVtZW50c01hcDogSFRNTEVsZW1lbnRbXVtdID0gW107XG4gICAgcHJpdmF0ZSB0YWJsZTogSFRNTEVsZW1lbnR8dW5kZWZpbmVkO1xuICAgIHByaXZhdGUgc2NvcmVEaXNwbGF5OiBIVE1MRWxlbWVudHx1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIHByaXZhdGUgcmVuZGVyU2V0dGluZ3M6IFRhYmxlUmVuZGVyZXJTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICApIHtcbiAgICAgICAgY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkluaXRHYW1lLCB0aGlzLmluaXRIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICBjb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuUmVuZGVyLCB0aGlzLnJlbmRlckNvbW1hbmRIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEhhbmRsZXIoY29tbWFuZDogSW5pdEdhbWVDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMudGFibGUgPSBUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiZmxvYXQ6IGxlZnQ7IGRpc3BsYXk6IHRhYmxlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlXCI+PC9kaXY+Jyk7XG4gICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXAgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjb21tYW5kLmdhbWVEYXRhLnNldHRpbmdzLmZpZWxkSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGxldCByb3cgPSBUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiZGlzcGxheTogdGFibGUtcm93XCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICB0aGlzLmNlbGxzSHRtbEVsZW1lbnRzTWFwW3ldID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNvbW1hbmQuZ2FtZURhdGEuc2V0dGluZ3MuZmllbGRXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSBUYWJsZVJlbmRlcmVyLmNyZWF0ZUh0bWxFbGVtZW50KCc8ZGl2IHN0eWxlPVwiZGlzcGxheTogdGFibGUtY2VsbDsgYm9yZGVyOiAxcHggc29saWQgI2NjYzsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweFwiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbeV1beF0gPSBjZWxsO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLmNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MuY29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlKTtcblxuICAgICAgICB0aGlzLnNjb3JlRGlzcGxheSA9IFRhYmxlUmVuZGVyZXIuY3JlYXRlSHRtbEVsZW1lbnQoXG4gICAgICAgICAgICBgPGRpdiBzdHlsZT1cImZsb2F0OiBsZWZ0OyBmb250LWZhbWlseTogJ0hlbHZldGljYSBOZXVlJywgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAyMHB4OyBtYXJnaW4tbGVmdDogMTVweDtcIj5cbiAgICAgICAgICAgICAgICBMZXZlbDogPHNwYW4gaWQ9XCJsZXZlbFwiPjwvc3Bhbj48YnI+XG4gICAgICAgICAgICAgICAgU2NvcmU6IDxzcGFuIGlkPVwic2NvcmVcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5gKTtcbiAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5jb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc2NvcmVEaXNwbGF5KTtcblxuICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLmNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQoVGFibGVSZW5kZXJlci5jcmVhdGVIdG1sRWxlbWVudCgnPGRpdiBzdHlsZT1cImNsZWFyOiBib3RoXCI+PC9kaXY+JykpO1xuXG4gICAgICAgIHRoaXMuZXZlbnRCdXMub24oRXZlbnRUeXBlLkZhbGxpbmdUaWNrUHJvY2Vzc2VkLCB0aGlzLm9uRmFsbFRpY2tQcm9jZXNzZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMub24oRXZlbnRUeXBlLkdhbWVPdmVyLCB0aGlzLm9uR2FtZU92ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMub24oRXZlbnRUeXBlLkZpZ3VyZXNNb3ZlZCwgdGhpcy5vbkZpZ3VyZXNNb3ZlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRmlndXJlc01vdmVkKGNvbW1hbmQ6IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTdGF0ZShjb21tYW5kLmdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRmFsbFRpY2tQcm9jZXNzZWQoY29tbWFuZDogRmFsbFRpY2tQcm9jZXNzZWRFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbmRlclN0YXRlKGNvbW1hbmQuZ2FtZURhdGEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25HYW1lT3Zlcihjb21tYW5kOiBHYW1lT3ZlckV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdGUoY29tbWFuZC5nYW1lRGF0YSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJDb21tYW5kSGFuZGxlcihjb21tYW5kOiBSZW5kZXJDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyU3RhdGUoY29tbWFuZC5nYW1lRGF0YSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJTdGF0ZShnYW1lRGF0YTogR2FtZURhdGEpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXBhaW50TWF0cml4Q2VsbHMoZ2FtZURhdGEubWF0cml4LCBuZXcgQ29vcmRpbmF0ZSgwLCAwKSwgZ2FtZURhdGEpO1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJTZXR0aW5ncy5yZW5kZXJQcm9qZWN0aW9uRmlndXJlcykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJGYWxsaW5nRmlndXJlc1Byb2plY3Rpb24oZ2FtZURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyRmFsbGluZ0ZpZ3VyZXMoZ2FtZURhdGEpO1xuICAgICAgICB0aGlzLnJlbmRlclN0YXRzKGdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckZhbGxpbmdGaWd1cmVzKGdhbWVEYXRhOiBHYW1lRGF0YSk6IHZvaWQge1xuICAgICAgICBnYW1lRGF0YS5mYWxsaW5nRmlndXJlcy5mb3JFYWNoKGZhbGxpbmdGaWd1cmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXBhaW50RmFsbGluZ0ZpZ3VyZXNDZWxscyhcbiAgICAgICAgICAgICAgICBmYWxsaW5nRmlndXJlLmZpZ3VyZS5nZXRUdXJuKGZhbGxpbmdGaWd1cmUudHVyblN0YXRlKSxcbiAgICAgICAgICAgICAgICBmYWxsaW5nRmlndXJlLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGdhbWVEYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckZhbGxpbmdGaWd1cmVzUHJvamVjdGlvbihnYW1lRGF0YTogR2FtZURhdGEpOiB2b2lkIHtcbiAgICAgICAgZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuZm9yRWFjaChmYWxsaW5nRmlndXJlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpZ3VyZU1hdHJpeCA9IGZhbGxpbmdGaWd1cmUuZmlndXJlLmdldFR1cm4oZmFsbGluZ0ZpZ3VyZS50dXJuU3RhdGUpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbkZpZ3VyZVggPSBmYWxsaW5nRmlndXJlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBsZXQgcHJvamVjdGlvbkZpZ3VyZVkgPSBmYWxsaW5nRmlndXJlLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICB3aGlsZShGaWd1cmVQbGFjaW5nQ2hlY2tlci5jYW5GaWd1cmVCZVBsYWNlZChmaWd1cmVNYXRyaXgsIG5ldyBDb29yZGluYXRlKHByb2plY3Rpb25GaWd1cmVYLCBwcm9qZWN0aW9uRmlndXJlWSArIDEpLCBnYW1lRGF0YS5tYXRyaXgpKSB7XG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbkZpZ3VyZVkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVwYWludFByb2plY3Rpb25GaWd1cmVzQ2VsbHMoXG4gICAgICAgICAgICAgICAgZmlndXJlTWF0cml4LFxuICAgICAgICAgICAgICAgIG5ldyBDb29yZGluYXRlKHByb2plY3Rpb25GaWd1cmVYLCBwcm9qZWN0aW9uRmlndXJlWSksXG4gICAgICAgICAgICAgICAgZ2FtZURhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVwYWludE1hdHJpeENlbGxzKG1hdHJpeDogYm9vbGVhbltdW10sIGluZGVudDogQ29vcmRpbmF0ZSwgZ2FtZURhdGE6IEdhbWVEYXRhKTogdm9pZCB7XG4gICAgICAgIGxldCBjb2xvcnM6IENlbGxDb2xvcnM7XG4gICAgICAgIGlmIChnYW1lRGF0YS5pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICBjb2xvcnMgPSBuZXcgQ2VsbENvbG9ycyhcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLm1hdHJpeENlbGxDb2xvcnMuZmlsbGVkR2FtZU92ZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5tYXRyaXhDZWxsQ29sb3JzLmVtcHR5LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9ycyA9IG5ldyBDZWxsQ29sb3JzKFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MubWF0cml4Q2VsbENvbG9ycy5maWxsZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5tYXRyaXhDZWxsQ29sb3JzLmVtcHR5LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcGFpbnRDZWxscyhtYXRyaXgsIGluZGVudCwgY29sb3JzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcGFpbnRGYWxsaW5nRmlndXJlc0NlbGxzKG1hdHJpeDogYm9vbGVhbltdW10sIGluZGVudDogQ29vcmRpbmF0ZSwgZ2FtZURhdGE6IEdhbWVEYXRhKTogdm9pZCB7XG4gICAgICAgIGxldCBjb2xvcnM6IENlbGxDb2xvcnM7XG4gICAgICAgIGlmIChnYW1lRGF0YS5pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICBjb2xvcnMgPSBuZXcgQ2VsbENvbG9ycyhcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLmZhbGxpbmdGaWd1cmVDZWxsQ29sb3JzLmZpbGxlZEdhbWVPdmVyLFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MuZmFsbGluZ0ZpZ3VyZUNlbGxDb2xvcnMuZW1wdHksXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JzID0gbmV3IENlbGxDb2xvcnMoXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5mYWxsaW5nRmlndXJlQ2VsbENvbG9ycy5maWxsZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5mYWxsaW5nRmlndXJlQ2VsbENvbG9ycy5lbXB0eSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBhaW50Q2VsbHMobWF0cml4LCBpbmRlbnQsIGNvbG9ycyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXBhaW50UHJvamVjdGlvbkZpZ3VyZXNDZWxscyhtYXRyaXg6IGJvb2xlYW5bXVtdLCBpbmRlbnQ6IENvb3JkaW5hdGUsIGdhbWVEYXRhOiBHYW1lRGF0YSk6IHZvaWQge1xuICAgICAgICBsZXQgY29sb3JzOiBDZWxsQ29sb3JzO1xuICAgICAgICBpZiAoZ2FtZURhdGEuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgY29sb3JzID0gbmV3IENlbGxDb2xvcnMoXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTZXR0aW5ncy5wcm9qZWN0aW9uRmlndXJlQ2VsbENvbG9ycy5maWxsZWRHYW1lT3ZlcixcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzLnByb2plY3Rpb25GaWd1cmVDZWxsQ29sb3JzLmVtcHR5LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbG9ycyA9IG5ldyBDZWxsQ29sb3JzKFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MucHJvamVjdGlvbkZpZ3VyZUNlbGxDb2xvcnMuZmlsbGVkLFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2V0dGluZ3MucHJvamVjdGlvbkZpZ3VyZUNlbGxDb2xvcnMuZW1wdHksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwYWludENlbGxzKG1hdHJpeCwgaW5kZW50LCBjb2xvcnMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVwYWludENlbGxzKG1hdHJpeDogYm9vbGVhbltdW10sIGluZGVudDogQ29vcmRpbmF0ZSwgY2VsbENvbG9yczogQ2VsbENvbG9ycyk6IHZvaWQge1xuICAgICAgICBtYXRyaXguZm9yRWFjaCgocm93LCB5KSA9PiB7XG4gICAgICAgICAgICByb3cuZm9yRWFjaCgodmFsdWUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFsWSA9IHkgKyBpbmRlbnQueTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFsWCA9IHggKyBpbmRlbnQueDtcbiAgICAgICAgICAgICAgICBpZiAocmVhbFkgaW4gdGhpcy5jZWxsc0h0bWxFbGVtZW50c01hcFxuICAgICAgICAgICAgICAgICAgICAmJiByZWFsWCBpbiB0aGlzLmNlbGxzSHRtbEVsZW1lbnRzTWFwW3JlYWxZXVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IHZhbHVlID8gY2VsbENvbG9ycy5maWxsZWQgOiBjZWxsQ29sb3JzLmVtcHR5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNIdG1sRWxlbWVudHNNYXBbcmVhbFldW3JlYWxYXS5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJTdGF0cyhnYW1lRGF0YTogR2FtZURhdGEpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbGV2ZWxTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xldmVsJyk7XG4gICAgICAgIGNvbnN0IHNjb3JlU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpO1xuICAgICAgICBpZiAobGV2ZWxTcGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXZlbFNwYW4uaW5uZXJIVE1MID0gZ2FtZURhdGEubGV2ZWwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NvcmVTcGFuICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzY29yZVNwYW4uaW5uZXJIVE1MID0gZ2FtZURhdGEuc2NvcmUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGNyZWF0ZUh0bWxFbGVtZW50KGh0bWw6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggPiAxIHx8IGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgJ1RoZSBIVE1MIG11c3QgY29udGFpbiBvbmx5IG9uZSBjaGlsZCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgdHJ5aW5nIHRvIGdldCBIVE1MRWxlbWVudCBjaGlsZCBmcm9tIGRpdic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9XG59XG4iLCJpbXBvcnQge0Nvb3JkaW5hdGUsIEZhbGxpbmdGaWd1cmV9IGZyb20gXCIuLi9TdHJ1Y3R1cmVzXCI7XG5pbXBvcnQge0ZpZ3VyZXNGYWxsRG93bkNvbW1hbmQsIENvbW1hbmRCdXMsIENvbW1hbmRUeXBlLCBHYW1lT3ZlckNvbW1hbmQsIEZpZ3VyZXNGYWxsVGlja0NvbW1hbmR9IGZyb20gXCIuLi9Db21tYW5kQnVzL0NvbW1hbmRCdXNcIjtcbmltcG9ydCB7RXZlbnRCdXMsIEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnR9IGZyb20gXCIuLi9FdmVudEJ1cy9FdmVudEJ1c1wiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0dhbWVEYXRhXCI7XG5pbXBvcnQge0ZpZ3VyZVBsYWNpbmdDaGVja2VyfSBmcm9tIFwiLi4vVXRpbHMvRmlndXJlUGxhY2luZ0NoZWNrZXJcIjtcblxuY2xhc3MgRmFsbGluZ1Jlc3VsdCB7XG4gICAgcHVibGljIHRyYW5zZmVycmVkRmlndXJlczogRmFsbGluZ0ZpZ3VyZVtdID0gW107XG4gICAgcHVibGljIGlzR2FtZU92ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlZ3VsYXJGYWxsaW5nRmlndXJlc1Byb2Nlc3NvciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkZpZ3VyZXNGYWxsVGljaywgdGhpcy5wcm9jZXNzRmlndXJlc0ZhbGxUaWNrQ29tbWFuZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuRmlndXJlc0ZhbGxEb3duLCB0aGlzLnByb2Nlc3NGaWd1cmVzRmFsbERvd25Db21tYW5kLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc0ZpZ3VyZXNGYWxsVGlja0NvbW1hbmQoY29tbWFuZDogRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCkge1xuICAgICAgICBjb25zdCBmYWxsaW5nUmVzdWx0ID0gdGhpcy5mYWxsRmlndXJlc0Zvck9uZUNlbGwoY29tbWFuZC5nYW1lRGF0YSk7XG4gICAgICAgIGxldCBzcXVhc2hlZExpbmVzID0gdGhpcy5zcXVhc2hMaW5lcyhjb21tYW5kLmdhbWVEYXRhLm1hdHJpeCk7XG4gICAgICAgIGlmIChmYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IEdhbWVPdmVyQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudEJ1cy5maXJlKG5ldyBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KFxuICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YSxcbiAgICAgICAgICAgIGZhbGxpbmdSZXN1bHQudHJhbnNmZXJyZWRGaWd1cmVzLFxuICAgICAgICAgICAgc3F1YXNoZWRMaW5lcyxcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzRmlndXJlc0ZhbGxEb3duQ29tbWFuZChjb21tYW5kOiBGaWd1cmVzRmFsbERvd25Db21tYW5kKTogdm9pZCB7XG4gICAgICAgIGxldCBmYWxsaW5nUmVzdWx0ID0gbmV3IEZhbGxpbmdSZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKGNvbW1hbmQuZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgb25lQ2VsbEZhbGxpbmdSZXN1bHQgPSB0aGlzLmZhbGxGaWd1cmVzRm9yT25lQ2VsbChjb21tYW5kLmdhbWVEYXRhKTtcbiAgICAgICAgICAgIGZhbGxpbmdSZXN1bHQudHJhbnNmZXJyZWRGaWd1cmVzLnB1c2goLi4ub25lQ2VsbEZhbGxpbmdSZXN1bHQudHJhbnNmZXJyZWRGaWd1cmVzKTtcbiAgICAgICAgICAgIGZhbGxpbmdSZXN1bHQuaXNHYW1lT3ZlciA9IGZhbGxpbmdSZXN1bHQuaXNHYW1lT3ZlciB8fCBvbmVDZWxsRmFsbGluZ1Jlc3VsdC5pc0dhbWVPdmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzcXVhc2hlZExpbmVzID0gdGhpcy5zcXVhc2hMaW5lcyhjb21tYW5kLmdhbWVEYXRhLm1hdHJpeCk7XG4gICAgICAgIGlmIChmYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IEdhbWVPdmVyQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudEJ1cy5maXJlKG5ldyBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KFxuICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YSxcbiAgICAgICAgICAgIGZhbGxpbmdSZXN1bHQudHJhbnNmZXJyZWRGaWd1cmVzLFxuICAgICAgICAgICAgc3F1YXNoZWRMaW5lcyxcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmYWxsRmlndXJlc0Zvck9uZUNlbGwoZ2FtZURhdGE6IEdhbWVEYXRhKTogRmFsbGluZ1Jlc3VsdCB7XG4gICAgICAgIGxldCBmYWxsaW5nUmVzdWx0ID0gbmV3IEZhbGxpbmdSZXN1bHQoKTtcbiAgICAgICAgZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuZm9yRWFjaCgoZmFsbGluZ0ZpZ3VyZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZ3VyZUNhbkZhbGwoZ2FtZURhdGEubWF0cml4LCBmYWxsaW5nRmlndXJlKSkge1xuICAgICAgICAgICAgICAgIGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueSsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlndXJlR2FtZU92ZXJSZXN1bHQgPSB0aGlzLnRyYW5zZmVyRmlndXJlVG9NYXRyaXgoXG4gICAgICAgICAgICAgICAgICAgIGdhbWVEYXRhLm1hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgZmFsbGluZ0ZpZ3VyZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZmFsbGluZ1Jlc3VsdC50cmFuc2ZlcnJlZEZpZ3VyZXMucHVzaCguLi5nYW1lRGF0YS5mYWxsaW5nRmlndXJlcy5zcGxpY2UoaW5kZXgsIDEpKTtcbiAgICAgICAgICAgICAgICBmYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXIgPSBmYWxsaW5nUmVzdWx0LmlzR2FtZU92ZXIgfHwgZmlndXJlR2FtZU92ZXJSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsbGluZ1Jlc3VsdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZUNhbkZhbGwobWF0cml4OiBib29sZWFuW11bXSwgZmFsbGluZ0ZpZ3VyZTogRmFsbGluZ0ZpZ3VyZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gRmlndXJlUGxhY2luZ0NoZWNrZXIuY2FuRmlndXJlQmVQbGFjZWQoXG4gICAgICAgICAgICBmYWxsaW5nRmlndXJlLmZpZ3VyZS5nZXRUdXJuKGZhbGxpbmdGaWd1cmUudHVyblN0YXRlKSxcbiAgICAgICAgICAgIG5ldyBDb29yZGluYXRlKGZhbGxpbmdGaWd1cmUucG9zaXRpb24ueCwgZmFsbGluZ0ZpZ3VyZS5wb3NpdGlvbi55ICsgMSksXG4gICAgICAgICAgICBtYXRyaXhcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRyYW5zZmVyRmlndXJlVG9NYXRyaXgobWF0cml4OiBib29sZWFuW11bXSwgZmFsbGluZ0ZpZ3VyZTogRmFsbGluZ0ZpZ3VyZSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgaXNHYW1lT3ZlciA9IGZhbHNlO1xuICAgICAgICBmYWxsaW5nRmlndXJlLmZpZ3VyZS5nZXRUdXJuKGZhbGxpbmdGaWd1cmUudHVyblN0YXRlKVxuICAgICAgICAgICAgLmZvckVhY2goKHJvdywgZmlndXJlQ2VsbFkpID0+IHtcbiAgICAgICAgICAgICAgICByb3cuZm9yRWFjaCgoY2VsbFZhbHVlLCBmaWd1cmVDZWxsWCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNlbGxWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRyaXhYID0gZmFsbGluZ0ZpZ3VyZS5wb3NpdGlvbi54ICsgZmlndXJlQ2VsbFg7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXRyaXhZID0gZmFsbGluZ0ZpZ3VyZS5wb3NpdGlvbi55ICsgZmlndXJlQ2VsbFk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRyaXhZIGluIG1hdHJpeFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgbWF0cml4WCBpbiBtYXRyaXhbbWF0cml4WV1cbiAgICAgICAgICAgICAgICAgICAgICAgICYmICFtYXRyaXhbbWF0cml4WV1bbWF0cml4WF1cbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXhbbWF0cml4WV1bbWF0cml4WF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNHYW1lT3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNHYW1lT3ZlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNxdWFzaExpbmVzKG1hdHJpeDogYm9vbGVhbltdW10pOiBudW1iZXJbXSB7XG4gICAgICAgIGxldCBsaW5lc1RvU3F1YXNoOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBtYXRyaXguZm9yRWFjaCgocm93LCB5KSA9PiB7XG4gICAgICAgICAgICBsZXQgY2FuQmVTcXVhc2hlZCA9IHJvdy5ldmVyeShjZWxsID0+IGNlbGwpO1xuICAgICAgICAgICAgaWYgKGNhbkJlU3F1YXNoZWQpIHtcbiAgICAgICAgICAgICAgICBsaW5lc1RvU3F1YXNoLnB1c2goeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgICAgICBsaW5lc1RvU3F1YXNoLmZvckVhY2goeSA9PiB7XG4gICAgICAgICAgICBtYXRyaXguc3BsaWNlKHksIDEpO1xuICAgICAgICAgICAgbWF0cml4LnVuc2hpZnQobmV3IEFycmF5KG1hdHJpeFswXS5sZW5ndGgpLmZpbGwoZmFsc2UpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsaW5lc1RvU3F1YXNoO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RXZlbnRCdXMsIEV2ZW50VHlwZSwgRmFsbFRpY2tQcm9jZXNzZWRFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0ZpZ3VyZVR1cm5TdGF0ZX0gZnJvbSBcIi4uL0ZpZ3VyZXNcIjtcbmltcG9ydCB7Q29vcmRpbmF0ZSwgRmFsbGluZ0ZpZ3VyZX0gZnJvbSBcIi4uL1N0cnVjdHVyZXNcIjtcbmltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIEluaXRHYW1lQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0dhbWVEYXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBBbHdheXNPbmVGaWd1cmVTcGF3bmVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBldmVudEJ1czogRXZlbnRCdXMsXG4gICAgICAgIHByaXZhdGUgY29tbWFuZEJ1czogQ29tbWFuZEJ1cyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLmFkZEhhbmRsZXIoQ29tbWFuZFR5cGUuSW5pdEdhbWUsIHRoaXMuaW5pdEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0SGFuZGxlcihldmVudDogSW5pdEdhbWVDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWRkRmlndXJlKGV2ZW50LmdhbWVEYXRhKTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5vbihcbiAgICAgICAgICAgIEV2ZW50VHlwZS5GYWxsaW5nVGlja1Byb2Nlc3NlZCxcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc09uRmFsbFRpY2suYmluZCh0aGlzKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NPbkZhbGxUaWNrKGV2ZW50OiBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWRkRmlndXJlKGV2ZW50LmdhbWVEYXRhKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZEZpZ3VyZShnYW1lRGF0YTogR2FtZURhdGEpOiB2b2lkIHtcbiAgICAgICAgaWYgKGdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLmxlbmd0aCA+IDAgfHwgZ2FtZURhdGEuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlndXJlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBnYW1lRGF0YS5zZXR0aW5ncy5maWd1cmVzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGZpZ3VyZSA9IGdhbWVEYXRhLnNldHRpbmdzLmZpZ3VyZXNbZmlndXJlSW5kZXhdO1xuICAgICAgICBjb25zdCB0dXJuU3RhdGUgPSB0aGlzLmdldFJhbmRUdXJuU3RhdGUoKTtcbiAgICAgICAgY29uc3QgZmlndXJlTWF0cml4ID0gZmlndXJlLmdldFR1cm4odHVyblN0YXRlKTtcbiAgICAgICAgY29uc3QgZmlndXJlV2lkdGggPSBNYXRoLm1heCguLi5maWd1cmVNYXRyaXgubWFwKHJvdyA9PiByb3cubGVuZ3RoKSk7XG4gICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBuZXcgQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIE1hdGguY2VpbChnYW1lRGF0YS5zZXR0aW5ncy5maWVsZFdpZHRoIC8gMiAtIGZpZ3VyZVdpZHRoIC8gMikgLSAxLFxuICAgICAgICAgICAgLWZpZ3VyZU1hdHJpeC5sZW5ndGgsXG4gICAgICAgICk7XG4gICAgICAgIGdhbWVEYXRhLmZhbGxpbmdGaWd1cmVzLnB1c2gobmV3IEZhbGxpbmdGaWd1cmUoXG4gICAgICAgICAgICBmaWd1cmUsXG4gICAgICAgICAgICBjb29yZGluYXRlLFxuICAgICAgICAgICAgdHVyblN0YXRlXG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmFuZFR1cm5TdGF0ZSgpOiBGaWd1cmVUdXJuU3RhdGUge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoRmlndXJlVHVyblN0YXRlKTtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IGtleXNcbiAgICAgICAgICAgIC5tYXAobiA9PiBOdW1iZXIucGFyc2VJbnQobikpXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gIU51bWJlci5pc05hTihuKSkgYXMgdW5rbm93biBhcyBGaWd1cmVUdXJuU3RhdGVbXVxuICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVudW1WYWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXNbcmFuZG9tSW5kZXhdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Q29tbWFuZEJ1cywgQ29tbWFuZFR5cGUsIE1vdmVMZWZ0Q29tbWFuZCwgTW92ZVJpZ2h0Q29tbWFuZCwgVHVybkNsb2Nrd2lzZUNvbW1hbmQsIE1vdmVEb3duQ29tbWFuZCwgRmlndXJlc0ZhbGxUaWNrQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtGaWd1cmVUdXJuU3RhdGV9IGZyb20gXCIuLi9GaWd1cmVzXCI7XG5pbXBvcnQge0V2ZW50QnVzLCBGaWd1cmVzTW92ZWRFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0Nvb3JkaW5hdGUsIEZhbGxpbmdGaWd1cmV9IGZyb20gXCIuLi9TdHJ1Y3R1cmVzXCI7XG5pbXBvcnQge0ZpZ3VyZVBsYWNpbmdDaGVja2VyfSBmcm9tIFwiLi4vVXRpbHMvRmlndXJlUGxhY2luZ0NoZWNrZXJcIjtcblxuZXhwb3J0IGNsYXNzIE1vdmluZ0hhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbW1hbmRCdXM6IENvbW1hbmRCdXMsXG4gICAgICAgIHByaXZhdGUgZXZlbnRCdXM6IEV2ZW50QnVzLFxuICAgICkge1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Nb3ZlTGVmdCwgdGhpcy5wcm9jZXNzTW92ZUxlZnRDb21tYW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Nb3ZlUmlnaHQsIHRoaXMucHJvY2Vzc01vdmVSaWdodENvbW1hbmQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLk1vdmVEb3duLCB0aGlzLnByb2Nlc3NNb3ZlRG93bkNvbW1hbmQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLlR1cm5DbG9ja3dpc2UsIHRoaXMucHJvY2Vzc1R1cm5DbG9ja3dpc2VDb21tYW5kLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc01vdmVMZWZ0Q29tbWFuZChjb21tYW5kOiBNb3ZlTGVmdENvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgY29tbWFuZC5nYW1lRGF0YS5mYWxsaW5nRmlndXJlcy5mb3JFYWNoKGZpZ3VyZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW5CZU1vdmVkTGVmdCA9IEZpZ3VyZVBsYWNpbmdDaGVja2VyLmNhbkZpZ3VyZUJlUGxhY2VkKFxuICAgICAgICAgICAgICAgIGZpZ3VyZS5maWd1cmUuZ2V0VHVybihmaWd1cmUudHVyblN0YXRlKSxcbiAgICAgICAgICAgICAgICBuZXcgQ29vcmRpbmF0ZShmaWd1cmUucG9zaXRpb24ueCAtIDEsIGZpZ3VyZS5wb3NpdGlvbi55KSxcbiAgICAgICAgICAgICAgICBjb21tYW5kLmdhbWVEYXRhLm1hdHJpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChjYW5CZU1vdmVkTGVmdCkge1xuICAgICAgICAgICAgICAgIGZpZ3VyZS5wb3NpdGlvbi54LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV2ZW50QnVzLmZpcmUobmV3IEZpZ3VyZXNNb3ZlZEV2ZW50KGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NNb3ZlUmlnaHRDb21tYW5kKGNvbW1hbmQ6IE1vdmVSaWdodENvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgY29tbWFuZC5nYW1lRGF0YS5mYWxsaW5nRmlndXJlcy5mb3JFYWNoKGZpZ3VyZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW5CZU1vdmVkUmlnaHQgPSBGaWd1cmVQbGFjaW5nQ2hlY2tlci5jYW5GaWd1cmVCZVBsYWNlZChcbiAgICAgICAgICAgICAgICBmaWd1cmUuZmlndXJlLmdldFR1cm4oZmlndXJlLnR1cm5TdGF0ZSksXG4gICAgICAgICAgICAgICAgbmV3IENvb3JkaW5hdGUoZmlndXJlLnBvc2l0aW9uLnggKyAxLCBmaWd1cmUucG9zaXRpb24ueSksXG4gICAgICAgICAgICAgICAgY29tbWFuZC5nYW1lRGF0YS5tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoY2FuQmVNb3ZlZFJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZmlndXJlLnBvc2l0aW9uLngrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZmlyZShuZXcgRmlndXJlc01vdmVkRXZlbnQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvY2Vzc1R1cm5DbG9ja3dpc2VDb21tYW5kKGNvbW1hbmQ6IFR1cm5DbG9ja3dpc2VDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGFsbFR1cm5TdGF0ZXMgPSB0aGlzLmdldFR1cm5TdGF0ZXNBc0FycmF5KCk7XG4gICAgICAgIGNvbW1hbmQuZ2FtZURhdGEuZmFsbGluZ0ZpZ3VyZXMuZm9yRWFjaChmaWd1cmUgPT4ge1xuICAgICAgICAgICAgbGV0IG5leHRUdXJuU3RhdGUgPSBmaWd1cmUudHVyblN0YXRlICsgMTtcbiAgICAgICAgICAgIGlmICghKG5leHRUdXJuU3RhdGUgaW4gYWxsVHVyblN0YXRlcykpIHtcbiAgICAgICAgICAgICAgICBuZXh0VHVyblN0YXRlID0gYWxsVHVyblN0YXRlc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbkJlVHVybmVkID0gRmlndXJlUGxhY2luZ0NoZWNrZXIuY2FuRmlndXJlQmVQbGFjZWQoXG4gICAgICAgICAgICAgICAgZmlndXJlLmZpZ3VyZS5nZXRUdXJuKG5leHRUdXJuU3RhdGUpLFxuICAgICAgICAgICAgICAgIGZpZ3VyZS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICBjb21tYW5kLmdhbWVEYXRhLm1hdHJpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChjYW5CZVR1cm5lZCkge1xuICAgICAgICAgICAgICAgIGZpZ3VyZS50dXJuU3RhdGUgPSBuZXh0VHVyblN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5maXJlKG5ldyBGaWd1cmVzTW92ZWRFdmVudChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzTW92ZURvd25Db21tYW5kKGNvbW1hbmQ6IE1vdmVEb3duQ29tbWFuZCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBGaWd1cmVzRmFsbFRpY2tDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFR1cm5TdGF0ZXNBc0FycmF5KCk6IEZpZ3VyZVR1cm5TdGF0ZVtdIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKEZpZ3VyZVR1cm5TdGF0ZSlcbiAgICAgICAgICAgIC5tYXAobiA9PiBOdW1iZXIucGFyc2VJbnQobikpXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gIU51bWJlci5pc05hTihuKSkgYXMgdW5rbm93biBhcyBGaWd1cmVUdXJuU3RhdGVbXTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0NvbW1hbmRCdXMsIENvbW1hbmRUeXBlLCBGaWd1cmVzRmFsbERvd25Db21tYW5kLCBJbml0R2FtZUNvbW1hbmQsIE1vdmVMZWZ0Q29tbWFuZCwgTW92ZVJpZ2h0Q29tbWFuZCwgVHVybkNsb2Nrd2lzZUNvbW1hbmQsIE1vdmVEb3duQ29tbWFuZH0gZnJvbSBcIi4uL0NvbW1hbmRCdXMvQ29tbWFuZEJ1c1wiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0dhbWVEYXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBNb3ZpbmdDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cy5hZGRIYW5kbGVyKENvbW1hbmRUeXBlLkluaXRHYW1lLCB0aGlzLnByb2Nlc3NJbml0R2FtZUNvbW1hbmQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzSW5pdEdhbWVDb21tYW5kKGNvbW1hbmQ6IEluaXRHYW1lQ29tbWFuZCkge1xuICAgICAgICB3aW5kb3cub25rZXlkb3duID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgTW92ZUxlZnRDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY29kZSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgTW92ZVJpZ2h0Q29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09ICdBcnJvd1VwJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IFR1cm5DbG9ja3dpc2VDb21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY29kZSA9PT0gJ0Fycm93RG93bicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBNb3ZlRG93bkNvbW1hbmQoY29tbWFuZC5nYW1lRGF0YSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5jb2RlID09PSAnQXJyb3dEb3duJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZEJ1cy5ydW4obmV3IE1vdmVEb3duQ29tbWFuZChjb21tYW5kLmdhbWVEYXRhKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09ICdTcGFjZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBGaWd1cmVzRmFsbERvd25Db21tYW5kKGNvbW1hbmQuZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1RpbWluZ3NIYW5kbGVyfSBmcm9tIFwiLi9UaW1pbmdzSGFuZGxlclwiO1xuaW1wb3J0IHtHYW1lRGF0YX0gZnJvbSBcIi4uL0dhbWVEYXRhXCI7XG5cbmV4cG9ydCBjbGFzcyBMZXZlbEJhc2VkVGltaW5nc0hhbmRsZXIgaW1wbGVtZW50cyBUaW1pbmdzSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgaW5pdGlhbERlbGF5TXM6IG51bWJlcixcbiAgICApIHt9XG5cbiAgICBnZXREZWxheUZvck5leHRUaWNrTXMoZ2FtZURhdGE6IEdhbWVEYXRhKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KDAuOCAtIChnYW1lRGF0YS5sZXZlbCAtIDEpICogMC4wMDcsIGdhbWVEYXRhLmxldmVsIC0gMSkgKiB0aGlzLmluaXRpYWxEZWxheU1zO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RXZlbnRCdXMsIEV2ZW50VHlwZSwgRmFsbFRpY2tQcm9jZXNzZWRFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5cbmV4cG9ydCBjbGFzcyBTcXVhc2hlZFJvd3NTY29yZUNvdW50ZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBzcXVhc2hlZFJvd3NSZXdhcmRUaHJlc2hvbGRzTWFwOiBNYXA8bnVtYmVyLCBudW1iZXI+ID0gbmV3IE1hcChbXG4gICAgICAgICAgICBbMSwgMTAwXSxcbiAgICAgICAgICAgIFsyLCAzMDBdLFxuICAgICAgICAgICAgWzMsIDcwMF0sXG4gICAgICAgICAgICBbNCwgMTUwMF0sXG4gICAgICAgIF0pLFxuICAgICkge1xuICAgICAgICBldmVudEJ1cy5vbihFdmVudFR5cGUuRmFsbGluZ1RpY2tQcm9jZXNzZWQsIHRoaXMub25GYWxsaW5nVGlja1Byb2Nlc3NlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRmFsbGluZ1RpY2tQcm9jZXNzZWQoZXZlbnQ6IEZhbGxUaWNrUHJvY2Vzc2VkRXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnNxdWFzaGVkTGluZXMubGVuZ3RoIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXZpb3VzVGhyZXNob2xkUmV3YXJkID0gMDtcbiAgICAgICAgdGhpcy5zcXVhc2hlZFJvd3NSZXdhcmRUaHJlc2hvbGRzTWFwLmZvckVhY2goKHJld2FyZCwgcm93c1NxdWFzaGVkVGhyZXNob2xkKSA9PiB7XG4gICAgICAgICAgICBpZiAocm93c1NxdWFzaGVkVGhyZXNob2xkID4gZXZlbnQuc3F1YXNoZWRMaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91c1RocmVzaG9sZFJld2FyZCA9IHJld2FyZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50LmdhbWVEYXRhLnNjb3JlICs9IHByZXZpb3VzVGhyZXNob2xkUmV3YXJkO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RXZlbnRCdXMsIEV2ZW50VHlwZSwgRmFsbFRpY2tQcm9jZXNzZWRFdmVudH0gZnJvbSBcIi4uL0V2ZW50QnVzL0V2ZW50QnVzXCI7XG5pbXBvcnQge0NvbW1hbmRCdXMsIENvbW1hbmRUeXBlLCBJbml0R2FtZUNvbW1hbmR9IGZyb20gXCIuLi9Db21tYW5kQnVzL0NvbW1hbmRCdXNcIjtcblxuZXhwb3J0IGNsYXNzIFNxdWFzaGVkUm93c0NvdW50ZXJCYXNlZExldmVsQ291bnRlciB7XG4gICAgcHJpdmF0ZSBzcXVhc2hlZFJvd3NDb3VudGVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cyxcbiAgICAgICAgcHJpdmF0ZSBjb21tYW5kQnVzOiBDb21tYW5kQnVzLFxuICAgICAgICBwcml2YXRlIGxldmVsSW5jcmVhc2VPblNxdWFzaGVkUm93c051bWJlcjogbnVtYmVyLFxuICAgICAgICBwcml2YXRlIG1heExldmVsczogbnVtYmVyLFxuICAgICkge1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMuYWRkSGFuZGxlcihDb21tYW5kVHlwZS5Jbml0R2FtZSwgdGhpcy5wcm9jZXNzSW5pdEdhbWVDb21tYW5kLmJpbmQodGhpcykpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzSW5pdEdhbWVDb21tYW5kKGNvbW1hbmQ6IEluaXRHYW1lQ29tbWFuZCkge1xuICAgICAgICB0aGlzLmV2ZW50QnVzLm9uKEV2ZW50VHlwZS5GYWxsaW5nVGlja1Byb2Nlc3NlZCwgdGhpcy5vbkZhbGxUaWNrUHJvY2Vzc2VkLmJpbmQodGhpcykpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkZhbGxUaWNrUHJvY2Vzc2VkKGV2ZW50OiBGYWxsVGlja1Byb2Nlc3NlZEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5zcXVhc2hlZExpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3F1YXNoZWRSb3dzQ291bnRlcisrO1xuICAgICAgICBpZiAodGhpcy5zcXVhc2hlZFJvd3NDb3VudGVyID49IHRoaXMubGV2ZWxJbmNyZWFzZU9uU3F1YXNoZWRSb3dzTnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLnNxdWFzaGVkUm93c0NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgZXZlbnQuZ2FtZURhdGEubGV2ZWwgPSBNYXRoLm1pbih0aGlzLm1heExldmVscywgZXZlbnQuZ2FtZURhdGEubGV2ZWwgKyAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7R2FtZUNvbnRyb2xsZXJ9IGZyb20gJy4vR2FtZUNvbnRyb2xsZXInXG5pbXBvcnQge1RhYmxlUmVuZGVyZXIsIFRhYmxlUmVuZGVyZXJTZXR0aW5nc30gZnJvbSAnLi9SZW5kZXJlci9UYWJsZVJlbmRlcmVyJ1xuaW1wb3J0IHtSZWd1bGFyRmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3J9IGZyb20gXCIuL0ZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yL1JlZ3VsYXJGYWxsaW5nRmlndXJlc1Byb2Nlc3NvclwiO1xuaW1wb3J0IHtBbHdheXNPbmVGaWd1cmVTcGF3bmVyfSBmcm9tIFwiLi9GaWd1cmVzU3Bhd25lci9BbHdheXNPbmVGaWd1cmVTcGF3bmVyXCI7XG5pbXBvcnQge0V2ZW50QnVzfSBmcm9tIFwiLi9FdmVudEJ1cy9FdmVudEJ1c1wiO1xuaW1wb3J0IHtDb21tYW5kQnVzLCBJbml0R2FtZUNvbW1hbmQsIFBhdXNlR2FtZUNvbW1hbmQsIFJlc3VtZUdhbWVDb21tYW5kfSBmcm9tIFwiLi9Db21tYW5kQnVzL0NvbW1hbmRCdXNcIjtcbmltcG9ydCB7R2FtZURhdGF9IGZyb20gXCIuL0dhbWVEYXRhXCI7XG5pbXBvcnQge01vdmluZ0hhbmRsZXJ9IGZyb20gXCIuL01vdmluZ0hhbmRsZXIvTW92aW5nSGFuZGxlclwiO1xuaW1wb3J0IHtNb3ZpbmdDb250cm9sbGVyfSBmcm9tIFwiLi9Nb3ZpbmdDb250cm9sbGVyL01vdmluZ0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7TGV2ZWxCYXNlZFRpbWluZ3NIYW5kbGVyfSBmcm9tIFwiLi9UaW1pbmdzSGFuZGxlci9MZXZlbEJhc2VkVGltaW5nc0hhbmRsZXJcIjtcbmltcG9ydCB7U3F1YXNoZWRSb3dzU2NvcmVDb3VudGVyfSBmcm9tIFwiLi9TY29yZUNvdW50ZXIvU3F1YXNoZWRSb3dzU2NvcmVDb3VudGVyXCI7XG5pbXBvcnQge1NxdWFzaGVkUm93c0NvdW50ZXJCYXNlZExldmVsQ291bnRlcn0gZnJvbSBcIi4vTGV2ZWxDb3VudGVyL1NxdWFzaGVkUm93c0NvdW50ZXJCYXNlZExldmVsQ291bnRlclwiO1xuXG5leHBvcnQgY2xhc3MgVGV0cmlzRmFjYWRlIHtcbiAgICBwcml2YXRlIGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKCk7XG4gICAgcHJpdmF0ZSBjb21tYW5kQnVzID0gbmV3IENvbW1hbmRCdXMoKTtcbiAgICBwcml2YXRlIGdhbWVDb250cm9sbGVyID0gbmV3IEdhbWVDb250cm9sbGVyKFxuICAgICAgICBuZXcgTGV2ZWxCYXNlZFRpbWluZ3NIYW5kbGVyKDIwMDApLFxuICAgICAgICB0aGlzLmV2ZW50QnVzLFxuICAgICAgICB0aGlzLmNvbW1hbmRCdXMsXG4gICAgKTtcbiAgICBwcml2YXRlIG1vdmluZ0hhbmRsZXIgPSBuZXcgTW92aW5nSGFuZGxlcihcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICAgICB0aGlzLmV2ZW50QnVzLFxuICAgICk7XG4gICAgcHJpdmF0ZSBtb3ZpbmdDb250cm9sbGVyID0gbmV3IE1vdmluZ0NvbnRyb2xsZXIoXG4gICAgICAgIHRoaXMuY29tbWFuZEJ1cyxcbiAgICApO1xuICAgIHByaXZhdGUgZmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3IgPSBuZXcgUmVndWxhckZhbGxpbmdGaWd1cmVzUHJvY2Vzc29yKFxuICAgICAgICB0aGlzLmNvbW1hbmRCdXMsXG4gICAgICAgIHRoaXMuZXZlbnRCdXNcbiAgICApO1xuICAgIHByaXZhdGUgZmlndXJlc1NwYXduZXIgPSBuZXcgQWx3YXlzT25lRmlndXJlU3Bhd25lcihcbiAgICAgICAgdGhpcy5ldmVudEJ1cyxcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICk7XG4gICAgcHJpdmF0ZSBsZXZlbENvdW50ZXIgPSBuZXcgU3F1YXNoZWRSb3dzQ291bnRlckJhc2VkTGV2ZWxDb3VudGVyKFxuICAgICAgICB0aGlzLmV2ZW50QnVzLFxuICAgICAgICB0aGlzLmNvbW1hbmRCdXMsXG4gICAgICAgIDEwLFxuICAgICAgICAxNSxcbiAgICApO1xuICAgIHByaXZhdGUgc2NvcmVDb3VudGVyID0gbmV3IFNxdWFzaGVkUm93c1Njb3JlQ291bnRlcihcbiAgICAgICAgdGhpcy5ldmVudEJ1cyxcbiAgICApO1xuICAgIHByaXZhdGUgdGFibGVSZW5kZXJlciA9IG5ldyBUYWJsZVJlbmRlcmVyKFxuICAgICAgICBuZXcgVGFibGVSZW5kZXJlclNldHRpbmdzKFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keSxcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLFxuICAgICAgICB0aGlzLmV2ZW50QnVzXG4gICAgKTtcbiAgICBwdWJsaWMgZ2FtZURhdGEgPSBHYW1lRGF0YS5tYWtlU2ltcGxlKCk7XG5cbiAgICBwdWJsaWMgc3RhcnQoZ2FtZURhdGE/OiBHYW1lRGF0YSkge1xuICAgICAgICB0aGlzLmdhbWVEYXRhID0gZ2FtZURhdGEgfHwgR2FtZURhdGEubWFrZVNpbXBsZSgpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBJbml0R2FtZUNvbW1hbmQodGhpcy5nYW1lRGF0YSkpO1xuICAgICAgICB0aGlzLmNvbW1hbmRCdXMucnVuKG5ldyBSZXN1bWVHYW1lQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc3VtZSgpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUmVzdW1lR2FtZUNvbW1hbmQodGhpcy5nYW1lRGF0YSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kQnVzLnJ1bihuZXcgUGF1c2VHYW1lQ29tbWFuZCh0aGlzLmdhbWVEYXRhKSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV0cmlzRmFjYWRlIH0gZnJvbSAnLi9UZXRyaXMvVGV0cmlzRmFjYWRlJ1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgIGxldCB0ZXRyaXMgPSBuZXcgVGV0cmlzRmFjYWRlKCk7XG4gICAgdGV0cmlzLnN0YXJ0KCk7XG59KVxuIl0sIm5hbWVzIjpbIkV2ZW50VHlwZSIsIkZpZ3VyZVR1cm5TdGF0ZSIsImdhbWVEYXRhIiwidHJhbnNmZXJyZWRUb01hdHJpeEZpZ3VyZXMiLCJzcXVhc2hlZExpbmVzIiwiZ2V0RXZlbnRUeXBlIiwiRmFsbGluZ1RpY2tQcm9jZXNzZWQiLCJHYW1lT3ZlciIsIkZpZ3VyZXNNb3ZlZCIsImhhbmRsZXJzIiwiTWFwIiwib24iLCJldmVudCIsImhhbmRsZXIiLCJ1bmlxdWUiLCJ0aGlzIiwiZ2V0Iiwic29tZSIsImJvdW5kSGFuZGxlciIsInB1c2giLCJzZXQiLCJvZmYiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmaXJlIiwiZXZlbnRQYXlsb2FkIiwiZm9yRWFjaCIsImZpZWxkV2lkdGgiLCJmaWVsZEhlaWdodCIsImZpZ3VyZXMiLCJDb21tYW5kVHlwZSIsImdldE5vcm1hbGl6ZWRGaWd1cmUiLCJmaWd1cmUiLCJnZXRGaWd1cmUiLCJ0aGVMb25nZXN0Um93U2l6ZSIsInJlZHVjZSIsInByZXZpb3VzIiwiY3VycmVudCIsIk1hdGgiLCJtYXgiLCJsZW5ndGgiLCJtYXAiLCJyb3ciLCJvcmlnaW5hbExlbmd0aCIsImZpbGwiLCJnZXRGaXJzdFR1cm4iLCJnZXRTZWNvbmRUdXJuIiwib3JpZ2luYWxGaWd1cmUiLCJ0dXJuZWRGaWd1cmUiLCJvcmlnaW5hbEZpZ3VyZUhlaWdodCIsIm9yaWdpbmFsRmlndXJlV2lkdGgiLCJ4IiwiQXJyYXkiLCJ5IiwiZ2V0VGhpcmRUdXJuIiwicmV2ZXJzZSIsImdldEZvcnRoVHVybiIsImdldFR1cm4iLCJmaWd1cmVUdXJuU3RhdGUiLCJPbmUiLCJUd28iLCJUaHJlZSIsIkZvdXIiLCJzcGxpdCIsIml0ZW0iLCJTaW1wbHlSb3RhdGFibGVGaWd1cmUiLCJpc0luaXRpYWxpemVkIiwiaXNHYW1lT3ZlciIsImZhbGxpbmdGaWd1cmVzIiwibWF0cml4IiwibmV4dFRpY2tUaW1lb3V0SWQiLCJzZXR0aW5ncyIsImxldmVsIiwic2NvcmUiLCJzZXRUaW1lb3V0IiwibWFrZVNpbXBsZSIsIndpZHRoIiwiaGVpZ2h0IiwiR2FtZURhdGEiLCJfIiwiR2FtZVNldHRpbmdzIiwiVEZpZ3VyZSIsIlJpZ2h0TEZpZ3VyZSIsIkxlZnRMRmlndXJlIiwiU3F1YXJlRmlndXJlIiwiU3RpY2tGaWd1cmUiLCJMWkZpZ3VyZSIsIlJaRmlndXJlIiwiZ2V0Q29tbWFuZFR5cGUiLCJJbml0R2FtZSIsIlJlc3VtZUdhbWUiLCJQYXVzZUdhbWUiLCJGaWd1cmVzRmFsbFRpY2siLCJSZW5kZXIiLCJNb3ZlTGVmdCIsIk1vdmVSaWdodCIsIlR1cm5DbG9ja3dpc2UiLCJNb3ZlRG93biIsIkZpZ3VyZXNGYWxsRG93biIsImFkZEhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwicnVuIiwicGF5bG9hZCIsInRpbWluZ3NIYW5kbGVyIiwiZXZlbnRCdXMiLCJjb21tYW5kQnVzIiwiaW5pdEdhbWVIYW5kbGVyIiwiYmluZCIsInJlc3VtZUdhbWVIYW5kbGVyIiwicGF1c2VHYW1lSGFuZGxlciIsImdhbWVPdmVySGFuZGxlciIsImNvbW1hbmQiLCJJbml0R2FtZUNvbW1hbmQiLCJmYWxsVGljayIsImNsZWFyVGltZW91dCIsIlJlbmRlckNvbW1hbmQiLCJHYW1lT3ZlckV2ZW50IiwiRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCIsImdldERlbGF5Rm9yTmV4dFRpY2tNcyIsImNhbkZpZ3VyZUJlUGxhY2VkIiwidGFyZ2V0RmlndXJlTWF0cml4IiwidGFyZ2V0UG9zaXRpb24iLCJldmVyeSIsInZhbHVlIiwicmVhbFkiLCJyZWFsWCIsInBvc2l0aW9uIiwidHVyblN0YXRlIiwiZmlsbGVkIiwiZmlsbGVkR2FtZU92ZXIiLCJlbXB0eSIsImNvbnRhaW5lckVsZW1lbnQiLCJyZW5kZXJQcm9qZWN0aW9uRmlndXJlcyIsIm1hdHJpeENlbGxDb2xvcnMiLCJmYWxsaW5nRmlndXJlQ2VsbENvbG9ycyIsInByb2plY3Rpb25GaWd1cmVDZWxsQ29sb3JzIiwiVGFibGVSZW5kZXJlckNlbGxDb2xvclNldHRpbmdzIiwicmVuZGVyU2V0dGluZ3MiLCJjZWxsc0h0bWxFbGVtZW50c01hcCIsImluaXRIYW5kbGVyIiwicmVuZGVyQ29tbWFuZEhhbmRsZXIiLCJ0YWJsZSIsIlRhYmxlUmVuZGVyZXIiLCJjcmVhdGVIdG1sRWxlbWVudCIsImNlbGwiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsInNjb3JlRGlzcGxheSIsIm9uRmFsbFRpY2tQcm9jZXNzZWQiLCJvbkdhbWVPdmVyIiwib25GaWd1cmVzTW92ZWQiLCJyZW5kZXJTdGF0ZSIsInJlcGFpbnRNYXRyaXhDZWxscyIsIkNvb3JkaW5hdGUiLCJyZW5kZXJGYWxsaW5nRmlndXJlc1Byb2plY3Rpb24iLCJyZW5kZXJGYWxsaW5nRmlndXJlcyIsInJlbmRlclN0YXRzIiwiZmFsbGluZ0ZpZ3VyZSIsInJlcGFpbnRGYWxsaW5nRmlndXJlc0NlbGxzIiwiZmlndXJlTWF0cml4IiwicHJvamVjdGlvbkZpZ3VyZVgiLCJwcm9qZWN0aW9uRmlndXJlWSIsIkZpZ3VyZVBsYWNpbmdDaGVja2VyIiwicmVwYWludFByb2plY3Rpb25GaWd1cmVzQ2VsbHMiLCJpbmRlbnQiLCJjb2xvcnMiLCJDZWxsQ29sb3JzIiwicmVwYWludENlbGxzIiwiY2VsbENvbG9ycyIsImNvbG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwibGV2ZWxTcGFuIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNjb3JlU3BhbiIsInRvU3RyaW5nIiwiaHRtbCIsImNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjaGlsZHJlbiIsImZpcnN0RWxlbWVudENoaWxkIiwiSFRNTEVsZW1lbnQiLCJ0cmFuc2ZlcnJlZEZpZ3VyZXMiLCJwcm9jZXNzRmlndXJlc0ZhbGxUaWNrQ29tbWFuZCIsInByb2Nlc3NGaWd1cmVzRmFsbERvd25Db21tYW5kIiwiZmFsbGluZ1Jlc3VsdCIsImZhbGxGaWd1cmVzRm9yT25lQ2VsbCIsInNxdWFzaExpbmVzIiwiR2FtZU92ZXJDb21tYW5kIiwiRmFsbFRpY2tQcm9jZXNzZWRFdmVudCIsIkZhbGxpbmdSZXN1bHQiLCJvbmVDZWxsRmFsbGluZ1Jlc3VsdCIsImZpZ3VyZUNhbkZhbGwiLCJmaWd1cmVHYW1lT3ZlclJlc3VsdCIsInRyYW5zZmVyRmlndXJlVG9NYXRyaXgiLCJmaWd1cmVDZWxsWSIsImNlbGxWYWx1ZSIsImZpZ3VyZUNlbGxYIiwibWF0cml4WCIsIm1hdHJpeFkiLCJsaW5lc1RvU3F1YXNoIiwidW5zaGlmdCIsImFkZEZpZ3VyZSIsInByb2Nlc3NPbkZhbGxUaWNrIiwiZmlndXJlSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsImdldFJhbmRUdXJuU3RhdGUiLCJmaWd1cmVXaWR0aCIsImNvb3JkaW5hdGUiLCJjZWlsIiwiRmFsbGluZ0ZpZ3VyZSIsImVudW1WYWx1ZXMiLCJPYmplY3QiLCJrZXlzIiwibiIsIk51bWJlciIsInBhcnNlSW50IiwiZmlsdGVyIiwiaXNOYU4iLCJwcm9jZXNzTW92ZUxlZnRDb21tYW5kIiwicHJvY2Vzc01vdmVSaWdodENvbW1hbmQiLCJwcm9jZXNzTW92ZURvd25Db21tYW5kIiwicHJvY2Vzc1R1cm5DbG9ja3dpc2VDb21tYW5kIiwiRmlndXJlc01vdmVkRXZlbnQiLCJhbGxUdXJuU3RhdGVzIiwiZ2V0VHVyblN0YXRlc0FzQXJyYXkiLCJuZXh0VHVyblN0YXRlIiwicHJvY2Vzc0luaXRHYW1lQ29tbWFuZCIsIndpbmRvdyIsIm9ua2V5ZG93biIsImNvZGUiLCJNb3ZlTGVmdENvbW1hbmQiLCJNb3ZlUmlnaHRDb21tYW5kIiwiVHVybkNsb2Nrd2lzZUNvbW1hbmQiLCJNb3ZlRG93bkNvbW1hbmQiLCJGaWd1cmVzRmFsbERvd25Db21tYW5kIiwiaW5pdGlhbERlbGF5TXMiLCJwb3ciLCJzcXVhc2hlZFJvd3NSZXdhcmRUaHJlc2hvbGRzTWFwIiwib25GYWxsaW5nVGlja1Byb2Nlc3NlZCIsInByZXZpb3VzVGhyZXNob2xkUmV3YXJkIiwicmV3YXJkIiwicm93c1NxdWFzaGVkVGhyZXNob2xkIiwibGV2ZWxJbmNyZWFzZU9uU3F1YXNoZWRSb3dzTnVtYmVyIiwibWF4TGV2ZWxzIiwic3F1YXNoZWRSb3dzQ291bnRlciIsIm1pbiIsIkV2ZW50QnVzIiwiQ29tbWFuZEJ1cyIsImdhbWVDb250cm9sbGVyIiwiR2FtZUNvbnRyb2xsZXIiLCJMZXZlbEJhc2VkVGltaW5nc0hhbmRsZXIiLCJtb3ZpbmdIYW5kbGVyIiwiTW92aW5nSGFuZGxlciIsIm1vdmluZ0NvbnRyb2xsZXIiLCJNb3ZpbmdDb250cm9sbGVyIiwiZmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3IiLCJSZWd1bGFyRmFsbGluZ0ZpZ3VyZXNQcm9jZXNzb3IiLCJmaWd1cmVzU3Bhd25lciIsIkFsd2F5c09uZUZpZ3VyZVNwYXduZXIiLCJsZXZlbENvdW50ZXIiLCJTcXVhc2hlZFJvd3NDb3VudGVyQmFzZWRMZXZlbENvdW50ZXIiLCJzY29yZUNvdW50ZXIiLCJTcXVhc2hlZFJvd3NTY29yZUNvdW50ZXIiLCJ0YWJsZVJlbmRlcmVyIiwiVGFibGVSZW5kZXJlclNldHRpbmdzIiwiYm9keSIsInN0YXJ0IiwiUmVzdW1lR2FtZUNvbW1hbmQiLCJyZXN1bWUiLCJwYXVzZSIsIlBhdXNlR2FtZUNvbW1hbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiVGV0cmlzRmFjYWRlIl0sInNvdXJjZVJvb3QiOiIifQ==